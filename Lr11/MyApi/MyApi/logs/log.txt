2024-09-09 15:06:38.029 +03:00 [DBG] This is a debug message
2024-09-09 15:06:38.077 +03:00 [INF] This is an info message
2024-09-09 15:06:38.079 +03:00 [WRN] This is a warning message
2024-09-09 15:06:38.080 +03:00 [ERR] This is an error message
2024-09-09 15:06:38.081 +03:00 [FTL] This is a fatal message
2024-09-09 15:06:38.632 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-09 15:06:38.815 +03:00 [DBG] Hosting starting
2024-09-09 15:06:38.906 +03:00 [INF] User profile is available. Using 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-09 15:06:38.919 +03:00 [INF] Initializing UI Database
2024-09-09 15:06:39.111 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-09 15:06:39.825 +03:00 [DBG] The property 'HealthCheckExecutionEntry.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 15:06:39.827 +03:00 [DBG] The property 'HealthCheckExecutionHistory.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 15:06:40.011 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:06:40.041 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:06:40.057 +03:00 [DBG] Created DbConnection. (13ms).
2024-09-09 15:06:40.063 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.078 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.085 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.092 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:06:40.104 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-09 15:06:40.106 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:06:40.107 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:06:40.116 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2024-09-09 15:06:40.118 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (15ms).
2024-09-09 15:06:40.124 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.131 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.141 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 15:06:40.199 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 15:06:40.209 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.214 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 15:06:40.236 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.239 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.240 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:40.242 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:40.244 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:40.246 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 15:06:40.252 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 15:06:40.262 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.267 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 15:06:40.269 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.271 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:40.341 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()
    .Any()'
2024-09-09 15:06:40.553 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Configurations AS c)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 15:06:40.586 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.587 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.589 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:40.590 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:40.592 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:40.594 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 15:06:40.596 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 15:06:40.602 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.604 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:06:40.606 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.608 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:06:40.615 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()'
2024-09-09 15:06:40.668 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: HealthCheckConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckConfiguration.DiscoveryService (string) MaxLength(100), 1], [Property: HealthCheckConfiguration.Name (string) Required MaxLength(500), 2], [Property: HealthCheckConfiguration.Uri (string) Required MaxLength(500), 3] }
        SELECT c.Id, c.DiscoveryService, c.Name, c.Uri
        FROM Configurations AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Data.HealthChecksDb, 
    False, 
    False, 
    True
)'
2024-09-09 15:06:40.678 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.679 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.680 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:40.681 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:40.682 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:40.684 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:06:40.686 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:06:40.722 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:40.746 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:40.749 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:40.751 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:40.754 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:40.756 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.758 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 69ms reading results.
2024-09-09 15:06:40.760 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.762 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:40.769 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:40.774 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:40.792 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:06:40.801 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 0 entities written to the database.
2024-09-09 15:06:40.805 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:06:40.808 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.810 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:40.818 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-708ff948-4064-4637-b437-6d3d4d39db23.xml'.
2024-09-09 15:06:40.829 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-b1c18ae0-c8a0-4231-a320-ae7c37796e64.xml'.
2024-09-09 15:06:40.832 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-c1775fa6-7869-4e48-a739-17ea1f4d4600.xml'.
2024-09-09 15:06:40.834 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-f484012b-a04f-4d48-bbf1-e6db9c34915c.xml'.
2024-09-09 15:06:40.842 +03:00 [DBG] Found key {708ff948-4064-4637-b437-6d3d4d39db23}.
2024-09-09 15:06:40.849 +03:00 [DBG] Found key {b1c18ae0-c8a0-4231-a320-ae7c37796e64}.
2024-09-09 15:06:40.851 +03:00 [DBG] Found key {c1775fa6-7869-4e48-a739-17ea1f4d4600}.
2024-09-09 15:06:40.852 +03:00 [DBG] Found key {f484012b-a04f-4d48-bbf1-e6db9c34915c}.
2024-09-09 15:06:40.864 +03:00 [DBG] Considering key {708ff948-4064-4637-b437-6d3d4d39db23} with expiration date 2024-11-18 12:06:14Z as default key.
2024-09-09 15:06:40.872 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 15:06:40.875 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-09 15:06:40.879 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 15:06:40.884 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-09 15:06:40.887 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-09 15:06:40.892 +03:00 [DBG] Using key {708ff948-4064-4637-b437-6d3d4d39db23} as the default key.
2024-09-09 15:06:40.895 +03:00 [DBG] Key ring with default key {708ff948-4064-4637-b437-6d3d4d39db23} was loaded during application startup.
2024-09-09 15:06:41.107 +03:00 [INF] Now listening on: https://localhost:7227
2024-09-09 15:06:41.109 +03:00 [INF] Now listening on: http://localhost:5174
2024-09-09 15:06:41.110 +03:00 [DBG] Loaded hosting startup assembly MyApi
2024-09-09 15:06:41.111 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-09 15:06:41.112 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-09 15:06:41.131 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:06:41.156 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:06:41.162 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:06:41.163 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:06:41.164 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:41.165 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.166 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:41.167 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:41.168 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:41.170 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:06:41.172 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:06:41.174 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:41.175 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:41.177 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:41.178 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:41.179 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:41.181 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.182 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:06:41.183 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.184 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:41.212 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:06:41.215 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:06:41.283 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-09 15:06:41.284 +03:00 [INF] Hosting environment: Development
2024-09-09 15:06:41.286 +03:00 [INF] Content root path: C:\Users\Viktor\source\repos\MyApi\MyApi
2024-09-09 15:06:41.293 +03:00 [DBG] Hosting started
2024-09-09 15:06:41.304 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" accepted.
2024-09-09 15:06:41.306 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" started.
2024-09-09 15:06:41.353 +03:00 [DBG] Connection 0HN6GOVEO1G8A established using the following protocol: "Tls12"
2024-09-09 15:06:41.403 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:06:41.422 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-09 15:06:41.450 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:06:41.453 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:41.458 +03:00 [DBG] Running health checks
2024-09-09 15:06:41.462 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:06:41.462 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:06:41.462 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:06:41.484 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 11.6281ms with message 'Database is available.'
2024-09-09 15:06:41.486 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 23.9131ms with message 'Available memory: 127721472 bytes.'
2024-09-09 15:06:41.512 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 50.5189ms with message 'Ping successful.'
2024-09-09 15:06:41.516 +03:00 [DBG] Connection id "0HN6GOVEO1G8B" accepted.
2024-09-09 15:06:41.518 +03:00 [DBG] Connection id "0HN6GOVEO1G8B" started.
2024-09-09 15:06:41.526 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 61.1799ms
2024-09-09 15:06:41.532 +03:00 [DBG] Connection id "0HN6GOVEO1G8C" received FIN.
2024-09-09 15:06:41.532 +03:00 [DBG] Connection id "0HN6GOVEO1G8B" received FIN.
2024-09-09 15:06:41.535 +03:00 [DBG] Connection id "0HN6GOVEO1G8C" accepted.
2024-09-09 15:06:41.537 +03:00 [DBG] Connection id "0HN6GOVEO1G8C" started.
2024-09-09 15:06:41.539 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-09 15:06:41.540 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-09 15:06:41.579 +03:00 [DBG] Connection id "0HN6GOVEO1G8C" stopped.
2024-09-09 15:06:41.579 +03:00 [DBG] Connection id "0HN6GOVEO1G8B" stopped.
2024-09-09 15:06:41.581 +03:00 [DBG] Connection id "0HN6GOVEO1G8C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 15:06:41.582 +03:00 [DBG] Connection id "0HN6GOVEO1G8B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 15:06:41.646 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" completed keep alive response.
2024-09-09 15:06:41.649 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 252.0771ms
2024-09-09 15:06:41.653 +03:00 [INF] Received HTTP response headers after 433.4108ms - 200
2024-09-09 15:06:41.655 +03:00 [INF] End processing HTTP request after 444.5118ms - 200
2024-09-09 15:06:41.728 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckExecution>()
    .Include(le => le.History)
    .Include(le => le.Entries)
    .Where(le => le.Name == __configuration_Name_0)
    .SingleOrDefault()'
2024-09-09 15:06:41.749 +03:00 [DBG] Including navigation: 'HealthCheckExecution.History'.
2024-09-09 15:06:41.753 +03:00 [DBG] Including navigation: 'HealthCheckExecution.Entries'.
2024-09-09 15:06:41.857 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-09 15:06:41.871 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckExecution>(
    asyncEnumerable: new SingleQueryingEnumerable<HealthCheckExecution>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: HealthCheckExecution.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckExecution.DiscoveryService (string) MaxLength(50), 1], [Property: HealthCheckExecution.LastExecuted (DateTime) Required, 2], [Property: HealthCheckExecution.Name (string) Required MaxLength(500), 3], [Property: HealthCheckExecution.OnStateFrom (DateTime) Required, 4], [Property: HealthCheckExecution.Status (UIHealthStatus) Required, 5], [Property: HealthCheckExecution.Uri (string) Required MaxLength(500), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionHistory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: HealthCheckExecutionHistory.Description (string), 8], [Property: HealthCheckExecutionHistory.HealthCheckExecutionId (no field, int?) Shadow FK Index, 9], [Property: HealthCheckExecutionHistory.Name (string) MaxLength(500), 10], [Property: HealthCheckExecutionHistory.On (DateTime) Required, 11], [Property: HealthCheckExecutionHistory.Status (UIHealthStatus) Required MaxLength(50), 12] }
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionEntry.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: HealthCheckExecutionEntry.Description (string), 14], [Property: HealthCheckExecutionEntry.Duration (TimeSpan) Required, 15], [Property: HealthCheckExecutionEntry.HealthCheckExecutionId (no field, int?) Shadow FK Index, 16], [Property: HealthCheckExecutionEntry.Name (string) Required MaxLength(500), 17], [Property: HealthCheckExecutionEntry.Status (UIHealthStatus) Required, 18], [Property: HealthCheckExecutionEntry.Tags (List<string>), 19] }
                5 -> 13
            SELECT t.Id, t.DiscoveryService, t.LastExecuted, t.Name, t.OnStateFrom, t.Status, t.Uri, h.Id, h.Description, h.HealthCheckExecutionId, h.Name, h.On, h.Status, h0.Id, h0.Description, h0.Duration, h0.HealthCheckExecutionId, h0.Name, h0.Status, h0.Tags
            FROM 
            (
                SELECT TOP(2) e.Id, e.DiscoveryService, e.LastExecuted, e.Name, e.OnStateFrom, e.Status, e.Uri
                FROM Executions AS e
                WHERE e.Name == @__configuration_Name_0
            ) AS t
            LEFT JOIN HealthCheckExecutionHistories AS h ON t.Id == h.HealthCheckExecutionId
            LEFT JOIN HealthCheckExecutionEntries AS h0 ON t.Id == h0.HealthCheckExecutionId
            ORDER BY t.Id ASC, h.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckExecution>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 15:06:41.891 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:41.893 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.894 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:41.895 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:41.899 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:06:41.905 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:41.914 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:41.934 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:41.957 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.959 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 40ms reading results.
2024-09-09 15:06:41.960 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.961 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:41.966 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:06:41.972 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:41.973 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.975 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:41.976 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:41.977 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:41.978 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:41.980 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:41.984 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.986 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:41.988 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.990 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:41.992 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:06:41.995 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:41.996 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.005 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.015 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.029 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:06:42.095 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.098 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.103 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.104 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:06:42.110 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.114 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.127 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.128 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 15:06:42.132 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.134 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.142 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.145 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:06:42.147 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:06:42.148 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:06:42.153 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:06:42.156 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:06:42.157 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:42.158 +03:00 [DBG] Running health checks
2024-09-09 15:06:42.159 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:06:42.159 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:06:42.159 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:06:42.161 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.6792ms with message 'Database is available.'
2024-09-09 15:06:42.169 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.2273ms with message 'Available memory: 135725056 bytes.'
2024-09-09 15:06:42.188 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.6323ms with message 'Ping successful.'
2024-09-09 15:06:42.190 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 31.6002ms
2024-09-09 15:06:42.192 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" completed keep alive response.
2024-09-09 15:06:42.192 +03:00 [INF] Received HTTP response headers after 42.7311ms - 200
2024-09-09 15:06:42.193 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 39.8082ms
2024-09-09 15:06:42.194 +03:00 [INF] End processing HTTP request after 46.8852ms - 200
2024-09-09 15:06:42.199 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.201 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.202 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.203 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.205 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:42.206 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.210 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.214 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.215 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.217 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.218 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.219 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:06:42.220 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.222 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.223 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.224 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.225 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.226 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.229 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.233 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.234 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.236 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.238 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.239 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:06:42.240 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.241 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.242 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.244 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.245 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:06:42.248 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.249 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.250 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.251 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.253 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:42.254 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.257 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.262 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.264 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:06:42.267 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.269 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.270 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.272 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:06:42.273 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:06:42.274 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:06:42.276 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:06:42.279 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:06:42.280 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:42.281 +03:00 [DBG] Running health checks
2024-09-09 15:06:42.282 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:06:42.289 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 7.0899ms with message 'Available memory: 135987200 bytes.'
2024-09-09 15:06:42.291 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 9.9769ms
2024-09-09 15:06:42.314 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" completed keep alive response.
2024-09-09 15:06:42.313 +03:00 [INF] Received HTTP response headers after 38.1707ms - 200
2024-09-09 15:06:42.315 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 38.8945ms
2024-09-09 15:06:42.316 +03:00 [INF] End processing HTTP request after 43.0472ms - 200
2024-09-09 15:06:42.333 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.335 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.336 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.337 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.338 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.339 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.343 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.346 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.359 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.380 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.399 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.402 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 56ms reading results.
2024-09-09 15:06:42.405 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.407 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:06:42.410 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:06:42.412 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.414 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.416 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.418 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.419 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:42.421 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.424 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.427 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.428 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.430 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.431 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.432 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:06:42.435 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.437 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.438 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.439 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.451 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.453 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.460 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.465 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:06:42.474 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.476 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.480 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:06:42.486 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:06:42.489 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.490 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.492 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:42.494 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.496 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.501 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.502 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.506 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.507 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.509 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:42.511 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:06:42.516 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:06:42.521 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.522 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.529 +03:00 [DBG] Committing transaction.
2024-09-09 15:06:42.533 +03:00 [DBG] Committed transaction.
2024-09-09 15:06:42.538 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.541 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:06:42.545 +03:00 [DBG] Disposing transaction.
2024-09-09 15:06:42.548 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.552 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.554 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:06:42.556 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:06:42.558 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:06:42.560 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:06:42.563 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:06:42.564 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:42.566 +03:00 [DBG] Running health checks
2024-09-09 15:06:42.567 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:06:42.568 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.1397ms with message 'Database is available.'
2024-09-09 15:06:42.570 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 4.5609ms
2024-09-09 15:06:42.572 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" completed keep alive response.
2024-09-09 15:06:42.573 +03:00 [INF] Received HTTP response headers after 13.3763ms - 200
2024-09-09 15:06:42.573 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 13.2376ms
2024-09-09 15:06:42.575 +03:00 [INF] End processing HTTP request after 18.7257ms - 200
2024-09-09 15:06:42.581 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.582 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.584 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.585 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.586 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:42.587 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.590 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.598 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.600 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.602 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.603 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 15:06:42.605 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.606 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.607 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:06:42.609 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.610 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.611 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.612 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.614 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:42.615 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.618 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.621 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.622 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.624 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.625 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.627 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:06:42.628 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.629 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.631 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.632 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.634 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.635 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.637 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:06:42.638 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.640 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.641 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:06:42.643 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:06:42.644 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.644 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.646 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.647 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.649 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.651 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.652 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.654 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.655 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.657 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:42.658 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.660 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.663 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.664 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.666 +03:00 [DBG] Committing transaction.
2024-09-09 15:06:42.670 +03:00 [DBG] Committed transaction.
2024-09-09 15:06:42.671 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.672 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.674 +03:00 [DBG] Disposing transaction.
2024-09-09 15:06:42.674 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.676 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.678 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:06:42.679 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:06:42.680 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:06:42.682 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:06:42.684 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:06:42.684 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:42.685 +03:00 [DBG] Running health checks
2024-09-09 15:06:42.686 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:06:42.713 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.0629ms with message 'Ping successful.'
2024-09-09 15:06:42.716 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 30.2351ms
2024-09-09 15:06:42.717 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" completed keep alive response.
2024-09-09 15:06:42.717 +03:00 [INF] Received HTTP response headers after 36.6015ms - 200
2024-09-09 15:06:42.718 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 36.7324ms
2024-09-09 15:06:42.720 +03:00 [INF] End processing HTTP request after 40.8657ms - 200
2024-09-09 15:06:42.724 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.725 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.726 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.727 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.728 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.729 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.733 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.736 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.738 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.740 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.741 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:06:42.743 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.744 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.745 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:06:42.746 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.747 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.749 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.750 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.751 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:42.753 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.755 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.758 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.759 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.761 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.762 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.764 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:06:42.765 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.766 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.767 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.768 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.770 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.771 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.773 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:06:42.774 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.776 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.777 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:06:42.778 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:06:42.779 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.780 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.782 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:42.801 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.804 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.807 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.808 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.810 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.812 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.814 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:42.815 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.819 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.822 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.823 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.825 +03:00 [DBG] Committing transaction.
2024-09-09 15:06:42.828 +03:00 [DBG] Committed transaction.
2024-09-09 15:06:42.829 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.830 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.832 +03:00 [DBG] Disposing transaction.
2024-09-09 15:06:42.833 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.835 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.836 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:06:42.838 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:06:42.839 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:06:42.840 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:06:42.841 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.842 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:43.062 +03:00 [DBG] Connection id "0HN6GOVEO1G8D" accepted.
2024-09-09 15:06:43.064 +03:00 [DBG] Connection id "0HN6GOVEO1G8D" started.
2024-09-09 15:06:43.077 +03:00 [DBG] Connection 0HN6GOVEO1G8D established using the following protocol: "Tls12"
2024-09-09 15:06:43.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/index.html - null null
2024-09-09 15:06:43.154 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-09 15:06:43.157 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:43.266 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-09 15:06:43.296 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-09 15:06:43.299 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/index.html - 200 null text/html;charset=utf-8 179.6539ms
2024-09-09 15:06:43.335 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - null null
2024-09-09 15:06:43.336 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_vs/browserLink - null null
2024-09-09 15:06:43.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 10.6877ms
2024-09-09 15:06:43.404 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.9108ms
2024-09-09 15:06:43.669 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - null null
2024-09-09 15:06:43.672 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-09 15:06:43.673 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:43.916 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 247.3976ms
2024-09-09 15:42:53.136 +03:00 [DBG] This is a debug message
2024-09-09 15:42:53.202 +03:00 [INF] This is an info message
2024-09-09 15:42:53.204 +03:00 [WRN] This is a warning message
2024-09-09 15:42:53.206 +03:00 [ERR] This is an error message
2024-09-09 15:42:53.207 +03:00 [FTL] This is a fatal message
2024-09-09 15:42:54.192 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-09 15:42:54.396 +03:00 [DBG] Hosting starting
2024-09-09 15:42:54.475 +03:00 [INF] User profile is available. Using 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-09 15:42:54.487 +03:00 [INF] Initializing UI Database
2024-09-09 15:42:54.744 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-09 15:42:55.811 +03:00 [DBG] The property 'HealthCheckExecutionEntry.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 15:42:55.814 +03:00 [DBG] The property 'HealthCheckExecutionHistory.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 15:42:56.064 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:42:56.116 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:42:56.144 +03:00 [DBG] Created DbConnection. (24ms).
2024-09-09 15:42:56.153 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:56.185 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.197 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:56.208 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:42:56.224 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-09 15:42:56.225 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:42:56.227 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:42:56.238 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (10ms).
2024-09-09 15:42:56.242 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (19ms).
2024-09-09 15:42:56.247 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:56.256 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.273 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 15:42:56.352 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 15:42:56.365 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.375 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (9ms).
2024-09-09 15:42:56.413 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:56.416 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.419 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:56.422 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:42:56.424 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:42:56.428 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 15:42:56.436 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 15:42:56.451 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.457 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 15:42:56.461 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.463 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:56.580 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()
    .Any()'
2024-09-09 15:42:56.885 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Configurations AS c)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 15:42:56.936 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:56.940 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.943 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:56.945 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:42:56.949 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:42:56.951 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 15:42:56.956 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 15:42:56.964 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.966 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:42:56.970 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.973 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:42:56.982 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()'
2024-09-09 15:42:57.056 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: HealthCheckConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckConfiguration.DiscoveryService (string) MaxLength(100), 1], [Property: HealthCheckConfiguration.Name (string) Required MaxLength(500), 2], [Property: HealthCheckConfiguration.Uri (string) Required MaxLength(500), 3] }
        SELECT c.Id, c.DiscoveryService, c.Name, c.Uri
        FROM Configurations AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Data.HealthChecksDb, 
    False, 
    False, 
    True
)'
2024-09-09 15:42:57.070 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:57.073 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:57.076 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:57.078 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:57.080 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:42:57.082 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:42:57.085 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:42:57.148 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.186 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.189 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.192 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.195 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.198 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:57.200 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 110ms reading results.
2024-09-09 15:42:57.203 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:57.205 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:57.216 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:57.222 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:57.247 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:42:57.258 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 0 entities written to the database.
2024-09-09 15:42:57.265 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:42:57.268 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:57.270 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:42:57.280 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-708ff948-4064-4637-b437-6d3d4d39db23.xml'.
2024-09-09 15:42:57.308 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-b1c18ae0-c8a0-4231-a320-ae7c37796e64.xml'.
2024-09-09 15:42:57.311 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-c1775fa6-7869-4e48-a739-17ea1f4d4600.xml'.
2024-09-09 15:42:57.314 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-f484012b-a04f-4d48-bbf1-e6db9c34915c.xml'.
2024-09-09 15:42:57.327 +03:00 [DBG] Found key {708ff948-4064-4637-b437-6d3d4d39db23}.
2024-09-09 15:42:57.340 +03:00 [DBG] Found key {b1c18ae0-c8a0-4231-a320-ae7c37796e64}.
2024-09-09 15:42:57.342 +03:00 [DBG] Found key {c1775fa6-7869-4e48-a739-17ea1f4d4600}.
2024-09-09 15:42:57.344 +03:00 [DBG] Found key {f484012b-a04f-4d48-bbf1-e6db9c34915c}.
2024-09-09 15:42:57.357 +03:00 [DBG] Considering key {708ff948-4064-4637-b437-6d3d4d39db23} with expiration date 2024-11-18 12:06:14Z as default key.
2024-09-09 15:42:57.365 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 15:42:57.368 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-09 15:42:57.373 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 15:42:57.378 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-09 15:42:57.382 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-09 15:42:57.386 +03:00 [DBG] Using key {708ff948-4064-4637-b437-6d3d4d39db23} as the default key.
2024-09-09 15:42:57.389 +03:00 [DBG] Key ring with default key {708ff948-4064-4637-b437-6d3d4d39db23} was loaded during application startup.
2024-09-09 15:42:57.715 +03:00 [DBG] Connection id "0HN6GPJNBSVUO" received FIN.
2024-09-09 15:42:57.727 +03:00 [INF] Now listening on: https://localhost:7227
2024-09-09 15:42:57.728 +03:00 [INF] Now listening on: http://localhost:5174
2024-09-09 15:42:57.730 +03:00 [DBG] Connection id "0HN6GPJNBSVUO" accepted.
2024-09-09 15:42:57.731 +03:00 [DBG] Loaded hosting startup assembly MyApi
2024-09-09 15:42:57.736 +03:00 [DBG] Connection id "0HN6GPJNBSVUO" started.
2024-09-09 15:42:57.737 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-09 15:42:57.741 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-09 15:42:57.773 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-09 15:42:57.831 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:42:57.861 +03:00 [DBG] Connection id "0HN6GPJNBSVUO" stopped.
2024-09-09 15:42:57.867 +03:00 [DBG] Connection id "0HN6GPJNBSVUO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 15:42:57.896 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:42:57.903 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:42:57.904 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:42:57.908 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:57.915 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:57.918 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:57.921 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:42:57.925 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 15:42:57.929 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:42:57.933 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:42:57.938 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.940 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.943 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.946 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.948 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.951 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:57.953 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 15:42:57.955 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:57.958 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:57.997 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:42:58.002 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:42:58.031 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-09 15:42:58.034 +03:00 [INF] Hosting environment: Development
2024-09-09 15:42:58.037 +03:00 [INF] Content root path: C:\Users\Viktor\source\repos\MyApi\MyApi
2024-09-09 15:42:58.038 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" accepted.
2024-09-09 15:42:58.040 +03:00 [DBG] Hosting started
2024-09-09 15:42:58.043 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" started.
2024-09-09 15:42:58.048 +03:00 [DBG] Connection id "0HN6GPJNBSVUQ" accepted.
2024-09-09 15:42:58.060 +03:00 [DBG] Connection id "0HN6GPJNBSVUQ" started.
2024-09-09 15:42:58.128 +03:00 [DBG] Connection 0HN6GPJNBSVUQ established using the following protocol: "Tls12"
2024-09-09 15:42:58.128 +03:00 [DBG] Connection 0HN6GPJNBSVUP established using the following protocol: "Tls12"
2024-09-09 15:42:58.217 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:42:58.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/index.html - null null
2024-09-09 15:42:58.246 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-09 15:42:58.299 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-09 15:42:58.299 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:42:58.302 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:42:58.303 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:42:58.310 +03:00 [DBG] Running health checks
2024-09-09 15:42:58.315 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:42:58.315 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:42:58.315 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:42:58.347 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 18.4624ms with message 'Database is available.'
2024-09-09 15:42:58.347 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 32.5347ms with message 'Available memory: 132694016 bytes.'
2024-09-09 15:42:58.375 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 60.0636ms with message 'Ping successful.'
2024-09-09 15:42:58.393 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 73.8511ms
2024-09-09 15:42:58.505 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:42:58.509 +03:00 [INF] Received HTTP response headers after 496.7941ms - 200
2024-09-09 15:42:58.509 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 306.6931ms
2024-09-09 15:42:58.513 +03:00 [INF] End processing HTTP request after 518.9935ms - 200
2024-09-09 15:42:58.544 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-09 15:42:58.586 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-09 15:42:58.591 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/index.html - 200 null text/html;charset=utf-8 390.0292ms
2024-09-09 15:42:58.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - null null
2024-09-09 15:42:58.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_vs/browserLink - null null
2024-09-09 15:42:58.639 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckExecution>()
    .Include(le => le.History)
    .Include(le => le.Entries)
    .Where(le => le.Name == __configuration_Name_0)
    .SingleOrDefault()'
2024-09-09 15:42:58.652 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 20.3726ms
2024-09-09 15:42:58.684 +03:00 [DBG] Including navigation: 'HealthCheckExecution.History'.
2024-09-09 15:42:58.689 +03:00 [DBG] Including navigation: 'HealthCheckExecution.Entries'.
2024-09-09 15:42:58.725 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.9118ms
2024-09-09 15:42:58.901 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-09 15:42:58.922 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckExecution>(
    asyncEnumerable: new SingleQueryingEnumerable<HealthCheckExecution>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: HealthCheckExecution.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckExecution.DiscoveryService (string) MaxLength(50), 1], [Property: HealthCheckExecution.LastExecuted (DateTime) Required, 2], [Property: HealthCheckExecution.Name (string) Required MaxLength(500), 3], [Property: HealthCheckExecution.OnStateFrom (DateTime) Required, 4], [Property: HealthCheckExecution.Status (UIHealthStatus) Required, 5], [Property: HealthCheckExecution.Uri (string) Required MaxLength(500), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionHistory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: HealthCheckExecutionHistory.Description (string), 8], [Property: HealthCheckExecutionHistory.HealthCheckExecutionId (no field, int?) Shadow FK Index, 9], [Property: HealthCheckExecutionHistory.Name (string) MaxLength(500), 10], [Property: HealthCheckExecutionHistory.On (DateTime) Required, 11], [Property: HealthCheckExecutionHistory.Status (UIHealthStatus) Required MaxLength(50), 12] }
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionEntry.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: HealthCheckExecutionEntry.Description (string), 14], [Property: HealthCheckExecutionEntry.Duration (TimeSpan) Required, 15], [Property: HealthCheckExecutionEntry.HealthCheckExecutionId (no field, int?) Shadow FK Index, 16], [Property: HealthCheckExecutionEntry.Name (string) Required MaxLength(500), 17], [Property: HealthCheckExecutionEntry.Status (UIHealthStatus) Required, 18], [Property: HealthCheckExecutionEntry.Tags (List<string>), 19] }
                5 -> 13
            SELECT t.Id, t.DiscoveryService, t.LastExecuted, t.Name, t.OnStateFrom, t.Status, t.Uri, h.Id, h.Description, h.HealthCheckExecutionId, h.Name, h.On, h.Status, h0.Id, h0.Description, h0.Duration, h0.HealthCheckExecutionId, h0.Name, h0.Status, h0.Tags
            FROM 
            (
                SELECT TOP(2) e.Id, e.DiscoveryService, e.LastExecuted, e.Name, e.OnStateFrom, e.Status, e.Uri
                FROM Executions AS e
                WHERE e.Name == @__configuration_Name_0
            ) AS t
            LEFT JOIN HealthCheckExecutionHistories AS h ON t.Id == h.HealthCheckExecutionId
            LEFT JOIN HealthCheckExecutionEntries AS h0 ON t.Id == h0.HealthCheckExecutionId
            ORDER BY t.Id ASC, h.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckExecution>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 15:42:58.950 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:58.952 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:58.955 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:58.956 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:58.961 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 15:42:58.969 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:58.987 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.026 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.067 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.069 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 74ms reading results.
2024-09-09 15:42:59.074 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.078 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:42:59.085 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:42:59.094 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.096 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.099 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.101 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.104 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:42:59.106 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.113 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.119 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.121 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:42:59.125 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.128 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:59.130 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:42:59.135 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:59.138 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:59.142 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - null null
2024-09-09 15:42:59.146 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-09 15:42:59.148 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:42:59.153 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:42:59.173 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.196 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:42:59.339 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.342 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.348 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.350 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.357 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 15:42:59.359 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:42:59.365 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:42:59.380 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.383 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 15:42:59.387 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.389 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:59.401 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.405 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:42:59.408 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:42:59.410 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:42:59.416 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:42:59.422 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:42:59.424 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:42:59.427 +03:00 [DBG] Running health checks
2024-09-09 15:42:59.429 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:42:59.430 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:42:59.429 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:42:59.442 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 300.8657ms
2024-09-09 15:42:59.440 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 10.9063ms with message 'Database is available.'
2024-09-09 15:42:59.453 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 24.2585ms with message 'Available memory: 142819328 bytes.'
2024-09-09 15:42:59.469 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 38.884ms with message 'Ping successful.'
2024-09-09 15:42:59.473 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 45.6965ms
2024-09-09 15:42:59.476 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:42:59.476 +03:00 [INF] Received HTTP response headers after 63.5374ms - 200
2024-09-09 15:42:59.478 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 61.4511ms
2024-09-09 15:42:59.479 +03:00 [INF] End processing HTTP request after 71.1949ms - 200
2024-09-09 15:42:59.488 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.491 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.493 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.494 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.496 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:42:59.498 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.503 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.508 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.510 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:42:59.514 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.516 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:59.518 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:42:59.520 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.522 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.525 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.527 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.529 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:42:59.531 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.536 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.543 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.545 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:42:59.549 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.551 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:59.554 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:42:59.555 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:59.557 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:59.559 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:42:59.561 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.564 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:42:59.568 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.571 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.573 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.575 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.577 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:42:59.579 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:42:59.584 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:42:59.592 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.594 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:42:59.598 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.601 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:59.604 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.607 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:42:59.609 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:42:59.611 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:42:59.615 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:42:59.619 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:42:59.621 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:42:59.622 +03:00 [DBG] Running health checks
2024-09-09 15:42:59.625 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:42:59.634 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.4635ms with message 'Available memory: 143085568 bytes.'
2024-09-09 15:42:59.638 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 15.65ms
2024-09-09 15:42:59.677 +03:00 [INF] Received HTTP response headers after 63.4346ms - 200
2024-09-09 15:42:59.677 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:42:59.679 +03:00 [INF] End processing HTTP request after 69.6326ms - 200
2024-09-09 15:42:59.683 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 68.0859ms
2024-09-09 15:42:59.709 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.712 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.717 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.719 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:42:59.722 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:42:59.725 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.735 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.745 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.772 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.811 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.840 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.842 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 97ms reading results.
2024-09-09 15:42:59.845 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.847 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:59.850 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:42:59.852 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.855 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.857 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.859 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.861 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:42:59.863 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.869 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.875 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.877 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:42:59.881 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.885 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:42:59.888 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:42:59.893 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:59.896 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:59.899 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:42:59.902 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.924 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:42:59.927 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.936 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:42:59.946 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:42:59.959 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.961 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.966 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:42:59.973 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:42:59.976 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.978 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.983 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 15:42:59.984 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:42:59.989 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:42:59.993 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.994 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:42:59.998 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.000 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.003 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:00.006 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:00.011 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:00.016 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.017 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:00.026 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:00.031 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:00.037 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.040 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:00.046 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:00.048 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.053 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.056 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:00.058 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:00.060 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:00.063 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:43:00.067 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:43:00.068 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:00.070 +03:00 [DBG] Running health checks
2024-09-09 15:43:00.071 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:00.073 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0312ms with message 'Database is available.'
2024-09-09 15:43:00.076 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.2763ms
2024-09-09 15:43:00.079 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:00.079 +03:00 [INF] Received HTTP response headers after 17.7353ms - 200
2024-09-09 15:43:00.082 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 18.8624ms
2024-09-09 15:43:00.084 +03:00 [INF] End processing HTTP request after 25.8682ms - 200
2024-09-09 15:43:00.091 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.093 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.095 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.096 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.098 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:00.101 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.107 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.115 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.119 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.121 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.122 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 15:43:00.125 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.127 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:00.129 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:00.130 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.132 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.134 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.135 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.137 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:00.139 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.143 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.148 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.150 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:00.152 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.155 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:00.162 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:00.163 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:00.165 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:00.167 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:00.168 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.171 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:00.173 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.177 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:00.179 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.181 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.183 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:00.185 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:00.187 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.188 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.190 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:00.192 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.195 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.199 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.200 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:00.203 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.204 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.207 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:00.209 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.212 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.216 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.217 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:00.220 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:00.224 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:00.225 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.227 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:00.230 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:00.231 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.234 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.238 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:00.239 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:00.241 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:00.244 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:43:00.247 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:43:00.248 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:00.249 +03:00 [DBG] Running health checks
2024-09-09 15:43:00.251 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:00.279 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.2355ms with message 'Ping successful.'
2024-09-09 15:43:00.282 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.5001ms
2024-09-09 15:43:00.284 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:00.285 +03:00 [INF] Received HTTP response headers after 42.4676ms - 200
2024-09-09 15:43:00.286 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 42.2345ms
2024-09-09 15:43:00.287 +03:00 [INF] End processing HTTP request after 47.9233ms - 200
2024-09-09 15:43:00.294 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.296 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.298 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.300 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.302 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:00.304 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.308 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.313 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.315 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.318 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.319 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:43:00.322 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.325 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:00.354 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:00.356 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.358 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.360 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.362 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.364 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:00.366 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.371 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.376 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.378 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:00.381 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.383 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:00.385 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:00.386 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:00.388 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:00.390 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:00.392 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.396 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:00.398 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.402 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:00.404 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.406 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.409 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:00.411 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:00.412 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.414 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.416 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:00.418 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.422 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.428 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.430 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:00.432 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.434 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.435 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:00.437 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.441 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.445 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.447 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:00.449 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:00.451 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:00.452 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.455 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:00.458 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:00.459 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.462 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.466 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:00.468 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:43:00.471 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:43:00.473 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:43:00.474 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.476 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:10.483 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:43:10.630 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:43:10.636 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:43:10.638 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:43:10.640 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:10.644 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.649 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:10.650 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:10.653 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:10.656 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:10.659 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:10.663 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.671 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.675 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.678 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.681 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.685 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.687 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 24ms reading results.
2024-09-09 15:43:10.691 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.698 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 15:43:10.705 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:10.707 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:10.710 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:10.715 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:10.716 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:10.718 +03:00 [DBG] Running health checks
2024-09-09 15:43:10.720 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:10.720 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:10.720 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:10.726 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 5.9213ms with message 'Database is available.'
2024-09-09 15:43:10.734 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 13.7621ms with message 'Available memory: 154603520 bytes.'
2024-09-09 15:43:10.749 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.6495ms with message 'Ping successful.'
2024-09-09 15:43:10.753 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.1149ms
2024-09-09 15:43:10.756 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:10.756 +03:00 [INF] Received HTTP response headers after 47.4247ms - 200
2024-09-09 15:43:10.758 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 47.7889ms
2024-09-09 15:43:10.760 +03:00 [INF] End processing HTTP request after 54.9663ms - 200
2024-09-09 15:43:10.771 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:10.776 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.779 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:10.781 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:10.785 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:10.788 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:10.797 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:10.805 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.809 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.811 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:43:10.814 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.816 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:10.819 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:10.822 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:10.824 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.828 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:10.831 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:10.834 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:10.837 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:10.848 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:10.856 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.858 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:10.861 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.864 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:10.866 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:10.868 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:10.871 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:10.873 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:10.876 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.880 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:10.884 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:10.886 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.889 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:10.891 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:10.894 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:10.896 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:10.902 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:10.910 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.913 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:43:10.920 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.923 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:10.925 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.929 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:10.932 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:10.934 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:10.939 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:10.944 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:10.949 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:10.951 +03:00 [DBG] Running health checks
2024-09-09 15:43:10.953 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:10.953 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:10.953 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:10.956 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.8836ms with message 'Database is available.'
2024-09-09 15:43:10.969 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 15.2729ms with message 'Available memory: 154980352 bytes.'
2024-09-09 15:43:10.984 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.4325ms with message 'Ping successful.'
2024-09-09 15:43:10.988 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.74ms
2024-09-09 15:43:10.992 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:10.992 +03:00 [INF] Received HTTP response headers after 54.9553ms - 200
2024-09-09 15:43:10.996 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 56.4412ms
2024-09-09 15:43:10.998 +03:00 [INF] End processing HTTP request after 65.7819ms - 200
2024-09-09 15:43:11.007 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.009 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.012 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.014 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.016 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.018 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.025 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.034 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.036 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.039 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.041 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.044 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:11.047 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.049 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.051 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.052 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.055 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.058 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.064 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.072 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.073 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.077 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.080 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:11.083 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:11.085 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.086 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.088 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.090 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.093 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:11.096 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.098 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.101 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.102 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.104 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.106 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.111 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.118 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.121 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:43:11.124 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.127 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:11.131 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.134 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:11.137 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:11.138 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:11.142 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:43:11.145 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:43:11.146 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:11.148 +03:00 [DBG] Running health checks
2024-09-09 15:43:11.149 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:11.159 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.7948ms with message 'Available memory: 155488256 bytes.'
2024-09-09 15:43:11.163 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 14.7888ms
2024-09-09 15:43:11.165 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:11.165 +03:00 [INF] Received HTTP response headers after 25.4303ms - 200
2024-09-09 15:43:11.167 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 25.1642ms
2024-09-09 15:43:11.168 +03:00 [INF] End processing HTTP request after 31.594ms - 200
2024-09-09 15:43:11.176 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.177 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.180 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.181 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.183 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.185 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.192 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.198 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.201 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.206 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.209 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.211 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 15:43:11.214 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.217 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.219 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:11.221 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.223 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.226 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.227 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.229 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.231 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.236 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.243 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.245 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.248 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.251 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.253 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:11.255 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.256 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.259 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.261 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.264 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.267 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.271 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.274 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:11.277 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.279 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.282 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:11.284 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:11.287 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.289 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.291 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:11.294 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.301 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.308 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.310 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.314 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.316 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.319 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:11.321 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:11.327 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:11.332 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.334 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.337 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:11.340 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:11.341 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.344 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.346 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:11.348 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.351 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.355 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:11.358 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:11.359 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:11.364 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:43:11.367 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:43:11.369 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:11.370 +03:00 [DBG] Running health checks
2024-09-09 15:43:11.372 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:11.374 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.781ms with message 'Database is available.'
2024-09-09 15:43:11.377 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 7.0035ms
2024-09-09 15:43:11.380 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:11.380 +03:00 [INF] Received HTTP response headers after 18.4622ms - 200
2024-09-09 15:43:11.382 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 17.9444ms
2024-09-09 15:43:11.383 +03:00 [INF] End processing HTTP request after 25.6067ms - 200
2024-09-09 15:43:11.390 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.392 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.394 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.395 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.397 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.399 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.405 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.410 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.414 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.417 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.419 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 15:43:11.423 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.425 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.427 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:11.429 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.431 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.433 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.434 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.436 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:11.439 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.443 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.449 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.450 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:11.453 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.456 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.458 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:11.459 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.460 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.462 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.464 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.467 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.469 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.472 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:11.474 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.476 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.478 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:11.480 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:11.482 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.484 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:11.486 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:11.488 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.491 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.495 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.496 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:11.498 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.500 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.502 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.503 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.506 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.510 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.512 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.516 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:11.518 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:11.519 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.521 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:11.522 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:11.524 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.527 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.532 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:11.534 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:11.536 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:11.539 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:43:11.543 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:43:11.544 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:11.546 +03:00 [DBG] Running health checks
2024-09-09 15:43:11.548 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:11.576 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.9887ms with message 'Ping successful.'
2024-09-09 15:43:11.579 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.9898ms
2024-09-09 15:43:11.582 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:11.583 +03:00 [INF] Received HTTP response headers after 45.4542ms - 200
2024-09-09 15:43:11.584 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 45.0358ms
2024-09-09 15:43:11.585 +03:00 [INF] End processing HTTP request after 51.3157ms - 200
2024-09-09 15:43:11.595 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.597 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.599 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.601 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.603 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.605 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.610 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.616 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.618 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.621 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.623 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:43:11.626 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.629 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.631 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:11.633 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.635 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.637 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.640 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:11.642 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:11.644 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.649 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.655 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.657 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.660 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.662 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.664 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:11.665 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.666 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.668 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.671 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.674 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.676 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.678 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:11.680 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.682 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.684 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:11.687 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:11.689 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.690 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.693 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.694 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.698 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.701 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.703 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.706 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.710 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.712 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.715 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.719 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.721 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:11.723 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:11.726 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:11.727 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.729 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.732 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:11.733 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.737 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.740 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:11.741 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:43:11.743 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:43:11.744 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:43:11.746 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.748 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:21.754 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:43:21.763 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:43:21.767 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:43:21.768 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:43:21.770 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:21.772 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.774 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:21.776 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:21.778 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:21.780 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:21.783 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:21.786 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.789 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.791 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.793 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.796 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.798 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.800 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 15:43:21.802 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.804 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:21.806 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:21.807 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:21.810 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:21.813 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:21.814 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:21.815 +03:00 [DBG] Running health checks
2024-09-09 15:43:21.816 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:21.816 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:21.816 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:21.822 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 5.8825ms with message 'Database is available.'
2024-09-09 15:43:21.829 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.3235ms with message 'Available memory: 164188160 bytes.'
2024-09-09 15:43:21.845 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.4436ms with message 'Ping successful.'
2024-09-09 15:43:21.848 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.0174ms
2024-09-09 15:43:21.851 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:21.852 +03:00 [INF] Received HTTP response headers after 43.4166ms - 200
2024-09-09 15:43:21.853 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 42.408ms
2024-09-09 15:43:21.855 +03:00 [INF] End processing HTTP request after 48.831ms - 200
2024-09-09 15:43:21.864 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:21.866 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.869 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:21.872 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:21.874 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:21.877 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:21.884 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:21.891 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.895 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.897 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:43:21.901 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.904 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:21.907 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:21.910 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:21.912 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.915 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:21.917 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:21.919 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:21.921 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:21.925 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:21.932 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.934 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:21.937 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.939 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:21.941 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:21.942 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:21.944 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:21.945 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:21.947 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.949 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:21.951 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:21.953 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.955 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:21.956 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:21.958 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:21.960 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:21.963 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:21.966 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.968 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:21.970 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.972 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:21.974 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.976 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:21.978 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:21.979 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:21.983 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:21.986 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:21.987 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:21.989 +03:00 [DBG] Running health checks
2024-09-09 15:43:21.990 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:21.990 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:21.990 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:21.993 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.6809ms with message 'Database is available.'
2024-09-09 15:43:21.999 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.4845ms with message 'Available memory: 164548608 bytes.'
2024-09-09 15:43:22.021 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.5134ms with message 'Ping successful.'
2024-09-09 15:43:22.024 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.5231ms
2024-09-09 15:43:22.027 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:22.027 +03:00 [INF] Received HTTP response headers after 46.64ms - 200
2024-09-09 15:43:22.028 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 45.7535ms
2024-09-09 15:43:22.030 +03:00 [INF] End processing HTTP request after 51.8154ms - 200
2024-09-09 15:43:22.037 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.038 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.039 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.041 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.042 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:22.044 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.048 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.052 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.054 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:22.056 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.058 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:22.060 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:22.061 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.063 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.064 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.066 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:22.068 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.070 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.076 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.083 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.085 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:22.087 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.089 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:22.091 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:22.092 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.093 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.095 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.096 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.100 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:22.102 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.104 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.106 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.108 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:22.111 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.114 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.120 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.122 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:43:22.125 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.127 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:22.129 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.132 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:22.134 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:22.136 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:22.139 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:43:22.143 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:43:22.144 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:22.146 +03:00 [DBG] Running health checks
2024-09-09 15:43:22.147 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:22.159 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.3881ms with message 'Available memory: 170995712 bytes.'
2024-09-09 15:43:22.162 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 16.327ms
2024-09-09 15:43:22.164 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:22.165 +03:00 [INF] Received HTTP response headers after 27.0048ms - 200
2024-09-09 15:43:22.166 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 26.7802ms
2024-09-09 15:43:22.168 +03:00 [INF] End processing HTTP request after 33.192ms - 200
2024-09-09 15:43:22.174 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.175 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.178 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.180 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.181 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.183 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.188 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.193 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.195 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.197 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.199 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.201 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:43:22.204 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.205 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:22.208 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:22.210 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.211 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.214 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.216 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.218 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.220 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.226 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.232 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.234 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:22.237 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.241 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:22.243 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:22.245 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.246 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.248 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.250 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.253 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.256 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.259 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.260 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:22.263 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.264 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.267 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:22.269 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:22.271 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.274 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:22.276 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:22.279 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.285 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.295 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.300 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:43:22.305 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.306 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.308 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.309 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:22.322 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:22.335 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.338 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:22.341 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:22.344 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:22.346 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.351 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 15:43:22.353 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:22.355 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.359 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.361 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:22.363 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:22.365 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:22.369 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:43:22.372 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:43:22.373 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:22.374 +03:00 [DBG] Running health checks
2024-09-09 15:43:22.376 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:22.377 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.5555ms with message 'Database is available.'
2024-09-09 15:43:22.380 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.9411ms
2024-09-09 15:43:22.383 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:22.383 +03:00 [INF] Received HTTP response headers after 15.9914ms - 200
2024-09-09 15:43:22.384 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 15.6511ms
2024-09-09 15:43:22.386 +03:00 [INF] End processing HTTP request after 22.4156ms - 200
2024-09-09 15:43:22.396 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.398 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.400 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.402 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.404 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.405 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.413 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.420 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.423 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.426 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.429 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:43:22.432 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.435 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:22.437 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:22.438 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.440 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.442 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.443 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.445 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.447 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.453 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.459 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.461 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:22.464 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.466 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:22.468 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:22.470 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.472 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.474 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.476 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.479 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.481 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.484 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:22.486 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.488 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.489 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:22.491 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:22.492 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.494 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.495 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.497 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.500 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.504 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.506 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:22.509 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.510 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.513 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.515 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.518 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.522 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.523 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:22.526 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:22.530 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:22.531 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.535 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:22.536 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:22.537 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.540 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.542 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:22.544 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:22.546 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:22.549 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:43:22.552 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:43:22.553 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:22.555 +03:00 [DBG] Running health checks
2024-09-09 15:43:22.556 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:22.584 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.6666ms with message 'Ping successful.'
2024-09-09 15:43:22.588 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.8921ms
2024-09-09 15:43:22.590 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:22.590 +03:00 [INF] Received HTTP response headers after 42.6063ms - 200
2024-09-09 15:43:22.591 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 42.2553ms
2024-09-09 15:43:22.594 +03:00 [INF] End processing HTTP request after 49.5436ms - 200
2024-09-09 15:43:22.602 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.604 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.606 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.608 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.609 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.611 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.616 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.621 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.624 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.627 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.629 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:43:22.632 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.634 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:22.636 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:22.638 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.639 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.642 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.644 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.646 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.648 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.657 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.663 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.665 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:22.669 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.671 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:22.673 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:22.675 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.677 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.679 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.681 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.684 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.686 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.689 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:22.691 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.692 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.694 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:22.695 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:22.697 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.698 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.700 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:22.701 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.706 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.709 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.710 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:22.713 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.714 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.715 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:22.717 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.721 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.724 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.726 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:22.729 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:22.733 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:22.735 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.738 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:22.740 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:22.741 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.745 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.748 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:22.749 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:43:22.751 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:43:22.752 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:43:22.753 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.755 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:32.770 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:43:32.773 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:43:32.776 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:43:32.776 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:43:32.778 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:32.779 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.781 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:32.783 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:32.784 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:32.786 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:32.789 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:32.792 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.794 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.796 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.798 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.800 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.801 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.803 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 15:43:32.805 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.807 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:32.809 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:32.810 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:32.812 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:32.815 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:32.816 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:32.817 +03:00 [DBG] Running health checks
2024-09-09 15:43:32.818 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:32.818 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:32.818 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:32.821 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.6359ms with message 'Database is available.'
2024-09-09 15:43:32.826 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.0015ms with message 'Available memory: 176603136 bytes.'
2024-09-09 15:43:32.849 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.3736ms with message 'Ping successful.'
2024-09-09 15:43:32.852 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.8792ms
2024-09-09 15:43:32.855 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:32.855 +03:00 [INF] Received HTTP response headers after 43.9649ms - 200
2024-09-09 15:43:32.856 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 43.6664ms
2024-09-09 15:43:32.858 +03:00 [INF] End processing HTTP request after 49.337ms - 200
2024-09-09 15:43:32.865 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:32.867 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.869 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:32.870 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:32.872 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:32.874 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:32.878 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:32.883 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.885 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.887 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:43:32.889 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.891 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:32.893 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:32.895 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:32.897 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.899 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:32.901 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:32.903 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:32.905 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:32.910 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:32.915 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.918 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:32.921 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.924 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:32.926 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:32.927 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:32.929 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:32.930 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:32.932 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.935 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:32.938 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:32.939 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.941 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:32.943 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:32.945 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:32.946 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:32.950 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:32.956 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.958 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:43:32.960 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.962 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:32.965 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.967 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:32.969 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:32.970 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:32.973 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:32.976 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:32.978 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:32.979 +03:00 [DBG] Running health checks
2024-09-09 15:43:32.980 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:32.980 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:32.980 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:32.983 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.837ms with message 'Database is available.'
2024-09-09 15:43:32.990 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.9738ms with message 'Available memory: 176902144 bytes.'
2024-09-09 15:43:33.011 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.6565ms with message 'Ping successful.'
2024-09-09 15:43:33.015 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.3234ms
2024-09-09 15:43:33.018 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:33.018 +03:00 [INF] Received HTTP response headers after 45.9551ms - 200
2024-09-09 15:43:33.019 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 45.9476ms
2024-09-09 15:43:33.021 +03:00 [INF] End processing HTTP request after 51.9944ms - 200
2024-09-09 15:43:33.029 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.031 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.034 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.036 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.038 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:33.040 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.046 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.052 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.054 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:33.058 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.060 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.062 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:33.064 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.066 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.069 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.071 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.073 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:33.076 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.082 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.086 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.088 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.090 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.092 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.094 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:33.095 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.096 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.098 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.100 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.102 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:33.104 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.106 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.108 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.109 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.110 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.112 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.115 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.120 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.122 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:43:33.124 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.125 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:33.127 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.129 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:33.130 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:33.132 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:33.135 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:43:33.139 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:43:33.140 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:33.142 +03:00 [DBG] Running health checks
2024-09-09 15:43:33.143 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:33.151 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 7.4185ms with message 'Available memory: 177078272 bytes.'
2024-09-09 15:43:33.154 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 11.8204ms
2024-09-09 15:43:33.155 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:33.155 +03:00 [INF] Received HTTP response headers after 21.5633ms - 200
2024-09-09 15:43:33.157 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 21.3265ms
2024-09-09 15:43:33.158 +03:00 [INF] End processing HTTP request after 27.6715ms - 200
2024-09-09 15:43:33.165 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.167 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.169 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.171 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.173 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:33.174 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.179 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.183 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.185 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.187 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.189 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.190 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:43:33.192 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.195 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.197 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:33.199 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.201 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.203 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.204 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.205 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.207 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.212 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.216 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.217 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.219 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.221 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:33.222 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:33.224 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.226 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.228 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.230 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.233 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.235 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.237 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.240 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:33.241 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.243 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.245 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:33.246 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:33.247 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.248 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.250 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.251 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.254 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.258 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.259 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.262 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.263 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.265 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.266 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:33.269 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:33.273 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.274 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.276 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:33.278 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:33.279 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.282 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.284 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:33.285 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.287 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.289 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:33.291 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:33.292 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:33.295 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:43:33.298 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:43:33.299 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:33.301 +03:00 [DBG] Running health checks
2024-09-09 15:43:33.302 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:33.304 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.9298ms with message 'Database is available.'
2024-09-09 15:43:33.307 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.1707ms
2024-09-09 15:43:33.309 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:33.309 +03:00 [INF] Received HTTP response headers after 15.4714ms - 200
2024-09-09 15:43:33.310 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 15.3717ms
2024-09-09 15:43:33.312 +03:00 [INF] End processing HTTP request after 20.9451ms - 200
2024-09-09 15:43:33.317 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.319 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.321 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.323 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.324 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.326 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.329 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.334 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.336 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.338 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.340 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:43:33.344 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.347 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:33.350 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:33.352 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.354 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.356 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.358 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.360 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:33.363 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.371 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.378 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.380 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:33.384 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.388 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:33.391 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:33.394 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.396 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.400 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.403 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.407 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.409 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.412 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:33.415 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.417 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.419 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:33.420 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:33.422 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.424 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.425 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:33.427 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.430 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.433 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.434 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.436 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.437 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.438 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.440 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.443 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.446 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.448 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.450 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:33.452 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:33.454 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.456 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.458 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:33.459 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.462 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.464 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:33.466 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:33.468 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:33.470 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:43:33.474 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:43:33.475 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:33.477 +03:00 [DBG] Running health checks
2024-09-09 15:43:33.479 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:33.507 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.1798ms with message 'Ping successful.'
2024-09-09 15:43:33.509 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.4406ms
2024-09-09 15:43:33.511 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:33.512 +03:00 [INF] Received HTTP response headers after 42.6298ms - 200
2024-09-09 15:43:33.513 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 42.2832ms
2024-09-09 15:43:33.514 +03:00 [INF] End processing HTTP request after 48.3907ms - 200
2024-09-09 15:43:33.520 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.522 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.524 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.526 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.527 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.529 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.533 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.537 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.539 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.540 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.543 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:43:33.545 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.548 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.550 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:33.551 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.553 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.555 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.556 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.563 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 15:43:33.565 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.571 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.578 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.580 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:33.582 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.585 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.588 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:33.590 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.592 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.594 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.598 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.604 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.609 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.614 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:33.616 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.618 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.621 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:33.623 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:33.625 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.627 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.629 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:33.632 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.636 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.639 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.641 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.645 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.647 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.650 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:33.653 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.657 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.660 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.662 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.664 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:33.668 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:33.669 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.671 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:33.673 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:33.674 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.676 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.678 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:33.680 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:43:33.681 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:43:33.683 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:43:33.684 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.686 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:43.704 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:43:43.708 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:43:43.710 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:43:43.712 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:43:43.713 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:43.715 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.717 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:43.719 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:43.722 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:43.724 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:43.727 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:43.730 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.733 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.735 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.737 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.739 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.741 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.743 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 15:43:43.746 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.748 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:43.751 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:43.753 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:43.757 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:43.760 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:43.762 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:43.763 +03:00 [DBG] Running health checks
2024-09-09 15:43:43.764 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:43.764 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:43.764 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:43.767 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.3336ms with message 'Database is available.'
2024-09-09 15:43:43.772 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.3456ms with message 'Available memory: 182910976 bytes.'
2024-09-09 15:43:43.795 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.141ms with message 'Ping successful.'
2024-09-09 15:43:43.799 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.885ms
2024-09-09 15:43:43.801 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:43.801 +03:00 [INF] Received HTTP response headers after 45.6982ms - 200
2024-09-09 15:43:43.802 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 45.3732ms
2024-09-09 15:43:43.803 +03:00 [INF] End processing HTTP request after 52.3979ms - 200
2024-09-09 15:43:43.810 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:43.812 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.814 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:43.816 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:43.817 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:43.818 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:43.822 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:43.826 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.827 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.829 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:43:43.831 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.833 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:43.835 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:43.836 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:43.837 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.839 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:43.840 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:43.842 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:43.843 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:43.848 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:43.852 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.853 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:43.855 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.857 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:43.858 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:43.860 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:43.861 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:43.863 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:43.865 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.867 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:43.869 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:43.870 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.872 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:43.874 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:43.876 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:43.877 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:43.880 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:43.884 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.886 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:43.888 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.891 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:43.894 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.897 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:43.899 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:43.901 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:43.905 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:43.908 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:43.910 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:43.912 +03:00 [DBG] Running health checks
2024-09-09 15:43:43.913 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:43.913 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:43.913 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:43.916 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.0214ms with message 'Database is available.'
2024-09-09 15:43:43.923 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.2903ms with message 'Available memory: 183791616 bytes.'
2024-09-09 15:43:43.944 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.8648ms with message 'Ping successful.'
2024-09-09 15:43:43.948 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.0854ms
2024-09-09 15:43:43.950 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:43.950 +03:00 [INF] Received HTTP response headers after 46.7611ms - 200
2024-09-09 15:43:43.952 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 47.4392ms
2024-09-09 15:43:43.954 +03:00 [INF] End processing HTTP request after 54.5981ms - 200
2024-09-09 15:43:43.961 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:43.963 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.965 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:43.968 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:43.970 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:43.972 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:43.977 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:43.982 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.984 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:43.987 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.989 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:43.990 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:43.992 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:43.993 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.996 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:43.997 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:43.999 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.001 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.005 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.008 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.009 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.012 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.014 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:44.017 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:44.018 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.020 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.021 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.023 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.026 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:44.027 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.029 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.031 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.032 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.033 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:44.035 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.038 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.043 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.045 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:43:44.047 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.049 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:44.051 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.053 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:44.054 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:44.056 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:44.059 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:43:44.061 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:43:44.063 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:44.064 +03:00 [DBG] Running health checks
2024-09-09 15:43:44.065 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:44.074 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.2628ms with message 'Available memory: 184082432 bytes.'
2024-09-09 15:43:44.076 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 12.4996ms
2024-09-09 15:43:44.078 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:44.078 +03:00 [INF] Received HTTP response headers after 20.4844ms - 200
2024-09-09 15:43:44.079 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 20.1148ms
2024-09-09 15:43:44.080 +03:00 [INF] End processing HTTP request after 25.9518ms - 200
2024-09-09 15:43:44.086 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.088 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.089 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.091 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.092 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.095 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.100 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.105 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.107 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.108 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.110 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.112 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:43:44.114 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.116 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:44.117 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:44.119 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.121 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.123 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.124 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.126 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.127 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.131 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.137 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.139 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:44.141 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.143 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:44.146 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:44.147 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.148 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.150 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.153 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.155 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.157 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.160 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.162 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:44.164 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.165 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.167 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:44.168 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:44.170 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.171 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.172 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:44.174 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.177 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.180 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.182 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.184 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.186 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.188 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.190 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:44.193 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:44.196 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.198 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.200 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:44.204 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:44.205 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.208 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:44.210 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:44.211 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.214 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.218 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:44.220 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:44.222 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:44.225 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:43:44.228 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:43:44.229 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:44.230 +03:00 [DBG] Running health checks
2024-09-09 15:43:44.231 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:44.233 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.7402ms with message 'Database is available.'
2024-09-09 15:43:44.235 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.6295ms
2024-09-09 15:43:44.237 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:44.238 +03:00 [INF] Received HTTP response headers after 13.95ms - 200
2024-09-09 15:43:44.239 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 13.7885ms
2024-09-09 15:43:44.240 +03:00 [INF] End processing HTTP request after 20.1328ms - 200
2024-09-09 15:43:44.247 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.249 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.251 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.252 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.254 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.256 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.260 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.265 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.267 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.269 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.271 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:43:44.272 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.274 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:44.276 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:44.278 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.280 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.282 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.283 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.285 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.287 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.291 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.297 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.299 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.301 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.302 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:44.304 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:44.305 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.306 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.308 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.310 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.312 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.314 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.317 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:44.319 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.320 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.323 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:44.325 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:44.328 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.330 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.332 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:44.335 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.339 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.343 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.345 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:44.349 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.350 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.352 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.355 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.360 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.364 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.366 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.368 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:44.372 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:44.373 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.376 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:44.378 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:44.379 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.381 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.384 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:44.386 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:44.388 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:44.392 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:43:44.395 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:43:44.396 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:44.398 +03:00 [DBG] Running health checks
2024-09-09 15:43:44.399 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:44.426 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.4872ms with message 'Ping successful.'
2024-09-09 15:43:44.430 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.2226ms
2024-09-09 15:43:44.432 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:44.432 +03:00 [INF] Received HTTP response headers after 41.5642ms - 200
2024-09-09 15:43:44.434 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 41.9112ms
2024-09-09 15:43:44.436 +03:00 [INF] End processing HTTP request after 49.8523ms - 200
2024-09-09 15:43:44.443 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.445 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.448 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.451 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:44.454 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:44.456 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.466 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.471 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.475 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.477 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.479 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:43:44.482 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.484 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:44.486 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:44.488 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.489 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.491 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.492 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.494 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.496 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.501 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.505 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.506 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.508 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.510 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:44.512 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:44.513 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.514 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.516 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.517 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.519 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.521 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.523 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:44.525 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.526 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.528 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:44.530 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:44.531 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.532 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.534 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:44.535 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.538 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.541 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.542 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.545 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.546 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.547 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:44.548 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.551 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.555 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.558 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:44.561 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:44.564 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:44.565 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.567 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:44.569 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:44.570 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.572 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.574 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:44.576 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:43:44.577 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:43:44.578 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:43:44.579 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.581 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:54.584 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:43:54.587 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:43:54.591 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:43:54.592 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:43:54.594 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:54.597 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.601 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:54.604 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:54.606 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:54.608 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:54.611 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:54.615 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.617 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.619 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.622 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.626 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.628 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.632 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 17ms reading results.
2024-09-09 15:43:54.635 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.639 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:54.641 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:54.643 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:54.647 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:54.650 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:54.652 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:54.654 +03:00 [DBG] Running health checks
2024-09-09 15:43:54.655 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:54.655 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:54.655 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:54.659 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.2816ms with message 'Database is available.'
2024-09-09 15:43:54.668 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.9935ms with message 'Available memory: 184602624 bytes.'
2024-09-09 15:43:54.690 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 34.8263ms with message 'Ping successful.'
2024-09-09 15:43:54.696 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 42.7903ms
2024-09-09 15:43:54.701 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:54.702 +03:00 [INF] Received HTTP response headers after 56.9661ms - 200
2024-09-09 15:43:54.706 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 59.9435ms
2024-09-09 15:43:54.713 +03:00 [INF] End processing HTTP request after 71.9427ms - 200
2024-09-09 15:43:54.727 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:54.729 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.731 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:54.733 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:54.736 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:54.738 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.745 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.752 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.754 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.756 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:43:54.759 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.761 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:54.764 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:54.765 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:54.768 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.771 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:54.773 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:54.777 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:54.781 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.788 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.792 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.794 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:54.796 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.798 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:54.800 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:54.801 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:54.803 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:54.805 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:54.807 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.810 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:54.811 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:54.813 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.815 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:54.816 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:54.819 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:54.821 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:54.829 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:54.837 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.838 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:43:54.842 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.844 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:54.847 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.851 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:54.854 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:54.856 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:54.860 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:54.863 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:54.864 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:54.866 +03:00 [DBG] Running health checks
2024-09-09 15:43:54.868 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:54.868 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:54.868 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:54.871 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.5238ms with message 'Database is available.'
2024-09-09 15:43:54.876 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 7.946ms with message 'Available memory: 184913920 bytes.'
2024-09-09 15:43:54.900 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.9951ms with message 'Ping successful.'
2024-09-09 15:43:54.904 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.6827ms
2024-09-09 15:43:54.907 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:54.908 +03:00 [INF] Received HTTP response headers after 49.4945ms - 200
2024-09-09 15:43:54.910 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 50.6933ms
2024-09-09 15:43:54.912 +03:00 [INF] End processing HTTP request after 58.5203ms - 200
2024-09-09 15:43:54.923 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:54.926 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.932 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:54.934 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:54.937 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:54.939 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.945 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.953 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.955 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:54.957 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.960 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:54.963 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:54.965 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:54.967 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.969 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:54.971 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:54.973 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:54.975 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.982 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.989 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.990 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:54.994 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.997 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:54.999 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:55.001 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.003 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.006 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.009 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.013 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:55.015 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.018 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.020 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.022 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.025 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:55.027 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.030 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.035 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.038 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:43:55.041 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.044 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:55.047 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.051 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:55.054 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:55.056 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:55.060 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:43:55.063 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:43:55.066 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:55.067 +03:00 [DBG] Running health checks
2024-09-09 15:43:55.069 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:55.081 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.794ms with message 'Available memory: 185106432 bytes.'
2024-09-09 15:43:55.085 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 18.0827ms
2024-09-09 15:43:55.088 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:55.088 +03:00 [INF] Received HTTP response headers after 29.9025ms - 200
2024-09-09 15:43:55.090 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 30.4046ms
2024-09-09 15:43:55.093 +03:00 [INF] End processing HTTP request after 39.4431ms - 200
2024-09-09 15:43:55.101 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.104 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.106 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.108 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.110 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.112 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.116 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.121 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.123 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.125 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.127 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.129 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:43:55.132 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.135 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:55.137 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:55.139 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.141 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.145 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.149 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.151 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:55.153 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.160 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.169 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.173 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:43:55.176 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.179 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:55.180 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:55.182 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.184 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.185 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.187 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.191 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.194 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.198 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.201 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:55.203 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.205 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.209 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:55.210 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:55.212 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.214 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.216 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.218 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.222 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.228 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.230 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.234 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.237 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.240 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:55.242 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:55.246 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:55.250 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.252 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.256 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:55.259 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:55.260 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.264 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:55.267 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:55.269 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.273 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.277 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:55.279 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:55.281 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:55.284 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:43:55.288 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:43:55.290 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:55.292 +03:00 [DBG] Running health checks
2024-09-09 15:43:55.296 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:55.298 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.6673ms with message 'Database is available.'
2024-09-09 15:43:55.304 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 11.8288ms
2024-09-09 15:43:55.307 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:55.307 +03:00 [INF] Received HTTP response headers after 24.6466ms - 200
2024-09-09 15:43:55.309 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 25.1297ms
2024-09-09 15:43:55.312 +03:00 [INF] End processing HTTP request after 33.3767ms - 200
2024-09-09 15:43:55.321 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.323 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.327 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.329 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:55.331 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:55.334 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.341 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.348 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.352 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.355 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.357 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 15:43:55.362 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.366 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:55.368 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:55.370 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.372 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.375 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.377 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.379 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:55.381 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.388 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.394 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.396 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.400 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.402 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:55.405 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:55.406 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.407 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.409 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.412 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.415 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.418 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.421 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:55.423 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.424 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.427 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:55.429 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:55.430 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.432 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.434 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.435 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.439 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.444 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.446 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.449 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.451 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.455 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:55.457 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.462 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.468 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.471 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.477 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:55.481 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:55.483 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.487 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:55.489 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:55.491 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.495 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.500 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:55.504 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:55.508 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:55.514 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:43:55.519 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:43:55.520 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:55.522 +03:00 [DBG] Running health checks
2024-09-09 15:43:55.524 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:55.553 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.9813ms with message 'Ping successful.'
2024-09-09 15:43:55.557 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.1048ms
2024-09-09 15:43:55.560 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:55.561 +03:00 [INF] Received HTTP response headers after 49.3492ms - 200
2024-09-09 15:43:55.563 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 49.4794ms
2024-09-09 15:43:55.565 +03:00 [INF] End processing HTTP request after 60.9547ms - 200
2024-09-09 15:43:55.573 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.576 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.579 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.582 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:55.585 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:55.587 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.594 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.600 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.603 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.606 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.608 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:43:55.612 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.615 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:55.617 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:55.619 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.622 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.624 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.626 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.627 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.630 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.635 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.640 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.642 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.646 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.648 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:55.650 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:55.651 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.652 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.654 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.656 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.659 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.661 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.664 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:55.666 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.668 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.670 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:55.672 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:55.673 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.675 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.676 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.678 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.682 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.685 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.687 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.690 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.692 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:55.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:55.696 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.700 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.705 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.708 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.710 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:55.714 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:55.716 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.718 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:55.721 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:55.723 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.726 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.728 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:55.730 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:43:55.731 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:43:55.732 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:43:55.734 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.735 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:05.743 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:44:05.746 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:44:05.750 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:44:05.751 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:44:05.752 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:05.754 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.757 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:05.758 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:05.761 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:05.763 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:05.766 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:05.769 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.772 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.775 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.778 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.781 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.783 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.785 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 15:44:05.787 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.789 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:05.791 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:05.793 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:05.795 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:05.799 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:05.800 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:05.801 +03:00 [DBG] Running health checks
2024-09-09 15:44:05.803 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:05.803 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:05.803 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:05.806 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.2505ms with message 'Database is available.'
2024-09-09 15:44:05.813 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.3497ms with message 'Available memory: 189173760 bytes.'
2024-09-09 15:44:05.834 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.3492ms with message 'Ping successful.'
2024-09-09 15:44:05.837 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.9489ms
2024-09-09 15:44:05.839 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:05.839 +03:00 [INF] Received HTTP response headers after 45.0676ms - 200
2024-09-09 15:44:05.841 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 45.5335ms
2024-09-09 15:44:05.842 +03:00 [INF] End processing HTTP request after 50.9863ms - 200
2024-09-09 15:44:05.849 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:05.850 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.852 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:05.854 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:05.855 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:05.857 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:05.861 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:05.866 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.868 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.870 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:44:05.873 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.875 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:05.877 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:05.879 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:05.880 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.883 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:05.885 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:05.887 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:05.889 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:05.894 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:05.899 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.901 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:05.904 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.906 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:05.908 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:05.910 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:05.911 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:05.913 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:05.916 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.919 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:05.920 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:05.922 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.924 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:05.926 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:05.927 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:05.929 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:05.935 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:05.941 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.943 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:05.947 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.950 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:05.953 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.957 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:05.959 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:05.962 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:05.965 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:05.968 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:05.970 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:05.972 +03:00 [DBG] Running health checks
2024-09-09 15:44:05.973 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:05.973 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:05.973 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:05.977 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.8057ms with message 'Database is available.'
2024-09-09 15:44:05.984 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.8833ms with message 'Available memory: 189403136 bytes.'
2024-09-09 15:44:06.005 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.8274ms with message 'Ping successful.'
2024-09-09 15:44:06.009 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.0025ms
2024-09-09 15:44:06.011 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:06.011 +03:00 [INF] Received HTTP response headers after 47.6671ms - 200
2024-09-09 15:44:06.013 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 48.0406ms
2024-09-09 15:44:06.015 +03:00 [INF] End processing HTTP request after 55.4659ms - 200
2024-09-09 15:44:06.022 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.024 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.026 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.028 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.029 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:06.031 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.035 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.039 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.041 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:06.044 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.048 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:06.050 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:06.052 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.054 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.056 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.057 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.059 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:06.060 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.066 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.073 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.076 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:06.079 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.081 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.084 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:06.085 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.087 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.089 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.091 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.095 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:06.097 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.099 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.101 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.103 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.105 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:06.107 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.111 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.117 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.119 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:44:06.122 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.124 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.126 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.129 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:06.131 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:06.133 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:06.136 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:44:06.138 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:44:06.140 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:06.141 +03:00 [DBG] Running health checks
2024-09-09 15:44:06.142 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:06.153 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.0432ms with message 'Available memory: 189652992 bytes.'
2024-09-09 15:44:06.156 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 14.778ms
2024-09-09 15:44:06.158 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:06.158 +03:00 [INF] Received HTTP response headers after 23.5163ms - 200
2024-09-09 15:44:06.159 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 23.4686ms
2024-09-09 15:44:06.161 +03:00 [INF] End processing HTTP request after 30.3037ms - 200
2024-09-09 15:44:06.168 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.170 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.172 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.174 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.176 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:06.177 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.183 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.188 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.190 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.193 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.196 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.198 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 15:44:06.201 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.204 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.206 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:06.208 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.210 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.213 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.215 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:06.218 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:06.220 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.227 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.232 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.234 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.237 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.239 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.242 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:06.244 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.245 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.247 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.250 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.254 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.256 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.260 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.263 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:06.265 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.268 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.270 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:06.273 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:06.275 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.277 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:06.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:06.281 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.286 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.292 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.294 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.298 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.299 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.302 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:06.305 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:06.310 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:06.314 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.317 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.320 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:06.325 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:06.327 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.330 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:06.332 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:06.334 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.337 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.340 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:06.342 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:06.344 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:06.347 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:44:06.351 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:44:06.353 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:06.355 +03:00 [DBG] Running health checks
2024-09-09 15:44:06.356 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:06.358 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.1073ms with message 'Database is available.'
2024-09-09 15:44:06.363 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 8.4963ms
2024-09-09 15:44:06.365 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:06.365 +03:00 [INF] Received HTTP response headers after 19.4241ms - 200
2024-09-09 15:44:06.367 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 19.7162ms
2024-09-09 15:44:06.369 +03:00 [INF] End processing HTTP request after 26.6492ms - 200
2024-09-09 15:44:06.376 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.378 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.380 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.381 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.384 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:06.386 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.391 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.397 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.401 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.403 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.405 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:44:06.407 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.410 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.412 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:06.414 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.416 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.418 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.420 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.422 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:06.425 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.431 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.437 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.439 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.441 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.444 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.446 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:06.448 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.450 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.452 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.454 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.457 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.460 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.464 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:06.466 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.469 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.471 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:06.473 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:06.476 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.478 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:06.480 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:06.483 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.488 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.495 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.498 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.501 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.503 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.505 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:06.508 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.512 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.517 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.520 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.523 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:06.529 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:06.530 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.534 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:06.537 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:06.538 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.542 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.549 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:06.563 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:06.566 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:06.569 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:44:06.573 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:44:06.575 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:06.577 +03:00 [DBG] Running health checks
2024-09-09 15:44:06.579 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:06.608 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.1192ms with message 'Ping successful.'
2024-09-09 15:44:06.611 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.6194ms
2024-09-09 15:44:06.614 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:06.614 +03:00 [INF] Received HTTP response headers after 46.6161ms - 200
2024-09-09 15:44:06.616 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 46.7376ms
2024-09-09 15:44:06.618 +03:00 [INF] End processing HTTP request after 55.3656ms - 200
2024-09-09 15:44:06.626 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.628 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.630 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.632 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.634 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:06.636 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.640 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.646 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.649 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.651 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.653 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:44:06.656 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.658 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.659 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:06.661 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.662 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.665 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.666 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.667 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:06.669 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.674 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.678 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.681 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.683 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.685 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:06.687 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:06.689 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.690 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.692 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.693 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.697 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.699 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.702 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:06.705 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.707 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.710 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:06.712 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:06.714 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.715 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.717 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:06.718 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.721 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.725 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.726 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:06.729 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.730 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.732 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:06.734 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.738 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.741 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.743 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:06.745 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:06.749 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:06.751 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.753 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.756 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:06.757 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.760 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.763 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:06.765 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:44:06.766 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:44:06.767 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:44:06.768 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.770 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:16.781 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:44:16.783 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:44:16.786 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:44:16.787 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:44:16.788 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:16.789 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.791 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:16.792 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:16.793 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:16.795 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:16.798 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:16.801 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.802 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.804 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.806 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.808 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.809 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.811 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 15:44:16.813 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.815 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:16.816 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:16.817 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:16.820 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:16.822 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:16.823 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:16.824 +03:00 [DBG] Running health checks
2024-09-09 15:44:16.825 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:16.825 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:16.825 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:16.827 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.349ms with message 'Database is available.'
2024-09-09 15:44:16.834 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.7948ms with message 'Available memory: 189607936 bytes.'
2024-09-09 15:44:16.855 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.7198ms with message 'Ping successful.'
2024-09-09 15:44:16.857 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.8178ms
2024-09-09 15:44:16.859 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:16.859 +03:00 [INF] Received HTTP response headers after 40.4226ms - 200
2024-09-09 15:44:16.860 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 39.9129ms
2024-09-09 15:44:16.861 +03:00 [INF] End processing HTTP request after 44.9201ms - 200
2024-09-09 15:44:16.867 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:16.869 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.871 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:16.872 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:16.874 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:16.876 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:16.883 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:16.889 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.892 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.895 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:44:16.898 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.901 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:16.903 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:16.906 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:16.907 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.910 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:16.912 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:16.914 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:16.917 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:16.925 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:16.931 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.932 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:16.935 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.937 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:16.939 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:16.941 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:16.943 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:16.945 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:16.947 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.951 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:16.953 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:16.955 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.958 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:16.959 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:16.961 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:16.963 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:16.968 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:16.975 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.976 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:44:16.979 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.981 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:16.983 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.986 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:16.987 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:16.988 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:16.991 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:16.993 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:16.995 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:16.996 +03:00 [DBG] Running health checks
2024-09-09 15:44:16.997 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:16.997 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:16.997 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:16.999 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0754ms with message 'Database is available.'
2024-09-09 15:44:17.003 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 6.8206ms with message 'Available memory: 189898752 bytes.'
2024-09-09 15:44:17.026 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.1845ms with message 'Ping successful.'
2024-09-09 15:44:17.028 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.5891ms
2024-09-09 15:44:17.030 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:17.030 +03:00 [INF] Received HTTP response headers after 40.2747ms - 200
2024-09-09 15:44:17.031 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 40.0789ms
2024-09-09 15:44:17.032 +03:00 [INF] End processing HTTP request after 44.7541ms - 200
2024-09-09 15:44:17.037 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.039 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.041 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.043 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.046 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:44:17.048 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.055 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.061 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.063 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:17.068 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.070 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.073 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:17.074 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.076 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.079 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.082 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.084 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:44:17.087 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.091 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.098 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.100 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:17.103 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.105 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:17.107 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:17.109 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.111 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.113 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.115 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.118 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:17.120 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.122 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.125 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.128 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.130 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:44:17.131 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.137 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.146 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.148 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:44:17.150 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.152 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:17.155 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.158 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:17.159 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:17.160 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:17.163 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:44:17.166 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:44:17.167 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:17.168 +03:00 [DBG] Running health checks
2024-09-09 15:44:17.169 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:17.181 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.5244ms with message 'Available memory: 190476288 bytes.'
2024-09-09 15:44:17.184 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 15.6534ms
2024-09-09 15:44:17.186 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:17.186 +03:00 [INF] Received HTTP response headers after 24.4641ms - 200
2024-09-09 15:44:17.188 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 25.1041ms
2024-09-09 15:44:17.190 +03:00 [INF] End processing HTTP request after 30.4533ms - 200
2024-09-09 15:44:17.196 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.197 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.199 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.201 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.204 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:17.205 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.209 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.214 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.216 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.219 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.221 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.222 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:44:17.224 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.226 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.228 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:17.230 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.231 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.233 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.235 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.236 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.238 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.242 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.247 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.248 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.251 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.252 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.254 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:17.255 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.256 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.257 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.258 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.260 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.262 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.265 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.267 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:17.269 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.271 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.274 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:17.275 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:17.277 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.278 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.282 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.285 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.288 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.289 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.291 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.292 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:44:17.294 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.295 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:17.299 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:17.301 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.303 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.305 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:17.308 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:17.309 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.311 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.313 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:17.314 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.316 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.318 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:17.319 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:17.320 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:17.323 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:44:17.326 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:44:17.327 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:17.328 +03:00 [DBG] Running health checks
2024-09-09 15:44:17.329 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:17.331 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.3194ms with message 'Database is available.'
2024-09-09 15:44:17.333 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 4.873ms
2024-09-09 15:44:17.334 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:17.335 +03:00 [INF] Received HTTP response headers after 12.9321ms - 200
2024-09-09 15:44:17.336 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 12.8779ms
2024-09-09 15:44:17.337 +03:00 [INF] End processing HTTP request after 17.7263ms - 200
2024-09-09 15:44:17.342 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.343 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.346 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.347 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.349 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.351 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.356 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.360 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.362 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.364 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.366 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:44:17.368 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.369 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.371 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:17.372 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.373 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.375 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.377 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.379 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.382 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.388 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.389 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.392 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.393 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.395 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:17.396 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.397 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.398 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.400 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.402 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.404 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.406 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:17.408 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.409 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.410 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:17.412 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:17.413 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.414 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.416 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.418 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.422 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.426 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.428 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.430 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.431 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.433 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.435 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.438 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.441 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.443 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.444 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:17.446 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:17.447 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.449 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.451 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:17.452 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.455 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.457 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:17.458 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:17.459 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:17.461 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:44:17.464 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:44:17.465 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:17.466 +03:00 [DBG] Running health checks
2024-09-09 15:44:17.468 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:17.496 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.0603ms with message 'Ping successful.'
2024-09-09 15:44:17.499 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.3083ms
2024-09-09 15:44:17.502 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:17.502 +03:00 [INF] Received HTTP response headers after 41.4946ms - 200
2024-09-09 15:44:17.503 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 41.5784ms
2024-09-09 15:44:17.505 +03:00 [INF] End processing HTTP request after 46.8171ms - 200
2024-09-09 15:44:17.511 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.512 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.514 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.515 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.517 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.519 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.523 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.528 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.530 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.532 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.534 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:44:17.537 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.539 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:17.540 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:17.542 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.544 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.546 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.548 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.549 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.551 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.558 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.565 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.568 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:17.571 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.573 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:17.575 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:17.576 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.578 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.580 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.583 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.586 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.589 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.592 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:17.594 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.596 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.598 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:17.600 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:17.601 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.602 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.604 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.606 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.612 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.619 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.621 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:17.624 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.625 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.627 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.629 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.633 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.638 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.639 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.642 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:17.646 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:17.647 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.649 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:17.652 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:17.653 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.657 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.661 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:17.663 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:44:17.666 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:44:17.670 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:44:17.672 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.676 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:27.683 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:44:27.685 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:44:27.688 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:44:27.689 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:44:27.690 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.692 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.693 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.695 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:27.696 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:27.698 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:27.700 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:27.702 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.704 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.705 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.707 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.708 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.710 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.712 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 15:44:27.713 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.715 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.717 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:27.718 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:27.721 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:27.724 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:27.726 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:27.726 +03:00 [DBG] Running health checks
2024-09-09 15:44:27.727 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:27.728 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:27.728 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:27.730 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.6522ms with message 'Database is available.'
2024-09-09 15:44:27.736 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.0458ms with message 'Available memory: 199573504 bytes.'
2024-09-09 15:44:27.758 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.1505ms with message 'Ping successful.'
2024-09-09 15:44:27.760 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.4679ms
2024-09-09 15:44:27.762 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:27.762 +03:00 [INF] Received HTTP response headers after 42.2401ms - 200
2024-09-09 15:44:27.763 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 42.3884ms
2024-09-09 15:44:27.764 +03:00 [INF] End processing HTTP request after 47.2551ms - 200
2024-09-09 15:44:27.769 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.770 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.772 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.773 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:27.774 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:27.775 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.779 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.782 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.784 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.785 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:27.787 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.789 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.791 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:27.792 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.794 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.795 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.797 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:27.798 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:27.800 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.804 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.807 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.808 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:27.810 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.812 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.814 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:27.814 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:27.816 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:27.817 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:27.818 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.820 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:27.821 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.823 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.825 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.827 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:27.828 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:27.830 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:27.832 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:27.837 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.838 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:27.841 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.842 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.844 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.845 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:27.847 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:27.848 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:27.850 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:27.852 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:27.853 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:27.854 +03:00 [DBG] Running health checks
2024-09-09 15:44:27.855 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:27.855 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:27.855 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:27.858 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.3877ms with message 'Database is available.'
2024-09-09 15:44:27.863 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 7.6645ms with message 'Available memory: 199835648 bytes.'
2024-09-09 15:44:27.884 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.0275ms with message 'Ping successful.'
2024-09-09 15:44:27.887 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.7332ms
2024-09-09 15:44:27.889 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:27.889 +03:00 [INF] Received HTTP response headers after 40.0133ms - 200
2024-09-09 15:44:27.890 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 40.1889ms
2024-09-09 15:44:27.891 +03:00 [INF] End processing HTTP request after 44.5338ms - 200
2024-09-09 15:44:27.897 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.898 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.900 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.902 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:27.905 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:27.906 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.910 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.914 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.916 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:27.918 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.920 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.922 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:27.924 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.925 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.927 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.928 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:27.930 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:27.932 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.936 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.941 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.942 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:27.944 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.946 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.948 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:27.949 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:27.950 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:27.952 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:27.953 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.955 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:27.957 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.958 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.959 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.960 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:44:27.962 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:27.963 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:27.967 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:27.972 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.973 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:27.975 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.977 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.979 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.982 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:27.983 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:27.984 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:27.987 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:44:27.989 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:44:27.990 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:27.991 +03:00 [DBG] Running health checks
2024-09-09 15:44:27.992 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:28.001 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.6362ms with message 'Available memory: 200077312 bytes.'
2024-09-09 15:44:28.003 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 11.6221ms
2024-09-09 15:44:28.004 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:28.004 +03:00 [INF] Received HTTP response headers after 18.7159ms - 200
2024-09-09 15:44:28.005 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 18.5574ms
2024-09-09 15:44:28.006 +03:00 [INF] End processing HTTP request after 23.2342ms - 200
2024-09-09 15:44:28.012 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.014 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.015 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.017 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.018 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.019 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.022 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.027 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.031 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.032 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.034 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.035 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:44:28.037 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.038 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:28.040 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:28.041 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.043 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.046 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.047 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.048 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.049 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.053 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.058 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.059 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:28.062 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.064 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:28.066 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:28.068 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:28.069 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:28.071 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.073 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.077 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.080 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.082 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.084 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:28.085 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.088 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.091 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:28.094 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:28.095 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.098 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.099 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:28.101 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.106 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.110 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.111 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.114 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.115 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.118 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:28.119 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:28.124 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:28.128 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.130 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.132 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:28.136 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:28.138 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.140 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:28.142 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:28.143 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.146 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.149 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:28.151 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:28.153 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:28.157 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:44:28.161 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:44:28.163 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:28.164 +03:00 [DBG] Running health checks
2024-09-09 15:44:28.166 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:28.168 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.2117ms with message 'Database is available.'
2024-09-09 15:44:28.172 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 7.4137ms
2024-09-09 15:44:28.174 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:28.174 +03:00 [INF] Received HTTP response headers after 18.3349ms - 200
2024-09-09 15:44:28.176 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 19.0262ms
2024-09-09 15:44:28.177 +03:00 [INF] End processing HTTP request after 26.6111ms - 200
2024-09-09 15:44:28.184 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.186 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.188 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.189 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.191 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.193 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.198 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.203 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.205 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.207 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.209 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:44:28.211 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.214 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:28.217 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:28.218 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.220 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.223 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.224 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.226 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:28.228 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.234 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.238 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.240 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.242 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.244 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:28.246 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:28.247 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:28.248 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:28.250 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.251 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.253 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.254 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.256 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:28.258 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.259 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.261 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:28.263 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:28.264 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.265 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.267 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.268 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.270 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.273 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.275 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.277 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.278 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.281 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.284 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.287 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.289 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.293 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:28.296 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:28.297 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.299 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:28.300 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:28.301 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.303 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.305 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:28.307 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:28.308 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:28.310 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:44:28.312 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:44:28.313 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:28.314 +03:00 [DBG] Running health checks
2024-09-09 15:44:28.315 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:28.343 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.5453ms with message 'Ping successful.'
2024-09-09 15:44:28.345 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 30.9672ms
2024-09-09 15:44:28.347 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:28.347 +03:00 [INF] Received HTTP response headers after 38.0748ms - 200
2024-09-09 15:44:28.348 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 38.0289ms
2024-09-09 15:44:28.349 +03:00 [INF] End processing HTTP request after 42.5473ms - 200
2024-09-09 15:44:28.354 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.356 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.357 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.359 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.360 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.361 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.365 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.369 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.371 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.373 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.374 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:44:28.377 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.379 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:28.381 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:28.383 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.385 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.388 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.389 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.391 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.392 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.396 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.400 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.401 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.403 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.404 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:28.406 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:28.407 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:28.408 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:28.409 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.410 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.413 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.414 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.417 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:28.418 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.420 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.422 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:28.423 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:28.424 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.425 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.426 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.428 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.430 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.434 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.435 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.437 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.438 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:44:28.439 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.441 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.443 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.446 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.447 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.449 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:28.452 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:28.453 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.455 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:28.456 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:28.457 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.459 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.461 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:28.463 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:44:28.464 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:44:28.465 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:44:28.466 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.467 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:38.479 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:44:38.482 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:44:38.486 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:44:38.488 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:44:38.490 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.492 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.497 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.498 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.501 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:38.503 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:38.507 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:38.511 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.513 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.516 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.519 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.521 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.524 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.526 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 15:44:38.529 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.532 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:38.534 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:38.536 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:38.539 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:38.543 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:38.545 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:38.546 +03:00 [DBG] Running health checks
2024-09-09 15:44:38.549 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:38.549 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:38.549 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:38.559 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 9.9358ms with message 'Database is available.'
2024-09-09 15:44:38.567 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 18.6356ms with message 'Available memory: 199094272 bytes.'
2024-09-09 15:44:38.577 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.3447ms with message 'Ping successful.'
2024-09-09 15:44:38.582 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.1663ms
2024-09-09 15:44:38.584 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:38.585 +03:00 [INF] Received HTTP response headers after 46.5978ms - 200
2024-09-09 15:44:38.586 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 47.115ms
2024-09-09 15:44:38.591 +03:00 [INF] End processing HTTP request after 56.4577ms - 200
2024-09-09 15:44:38.598 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.600 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.604 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.606 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.608 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:38.610 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.620 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.627 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.631 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.634 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:44:38.640 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.643 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:38.646 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:38.647 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.650 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.653 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.655 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.657 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:38.661 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.668 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.673 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.674 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:38.676 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.678 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:38.680 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:38.681 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:38.683 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:38.684 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:38.686 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.689 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:38.691 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.693 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.695 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.698 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:38.700 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:38.702 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:38.706 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:38.710 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.713 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:38.715 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.717 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:38.720 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.722 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:38.724 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:38.725 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:38.729 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:38.731 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:38.732 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:38.734 +03:00 [DBG] Running health checks
2024-09-09 15:44:38.735 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:38.735 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:38.735 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:38.736 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.2903ms with message 'Database is available.'
2024-09-09 15:44:38.747 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.4133ms with message 'Available memory: 199380992 bytes.'
2024-09-09 15:44:38.766 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.9771ms with message 'Ping successful.'
2024-09-09 15:44:38.768 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.1293ms
2024-09-09 15:44:38.769 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:38.769 +03:00 [INF] Received HTTP response headers after 42.144ms - 200
2024-09-09 15:44:38.770 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 42.0426ms
2024-09-09 15:44:38.772 +03:00 [INF] End processing HTTP request after 47.6052ms - 200
2024-09-09 15:44:38.777 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.779 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.780 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.782 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.783 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:38.785 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.788 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.793 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.794 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:38.797 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.799 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:38.800 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:38.802 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.803 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.805 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.807 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.808 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:38.810 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.815 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.819 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.820 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:38.823 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.825 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:38.828 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:38.829 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:38.831 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:38.832 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:38.834 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.836 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:38.838 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.840 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.842 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.843 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.845 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:38.846 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:38.850 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:38.855 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.857 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:38.859 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.861 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:38.863 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.866 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:38.868 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:38.870 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:38.872 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:44:38.875 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:44:38.876 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:38.878 +03:00 [DBG] Running health checks
2024-09-09 15:44:38.879 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:38.890 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.7844ms with message 'Available memory: 199843840 bytes.'
2024-09-09 15:44:38.893 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 15.0891ms
2024-09-09 15:44:38.895 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:38.895 +03:00 [INF] Received HTTP response headers after 23.8162ms - 200
2024-09-09 15:44:38.896 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 24.2581ms
2024-09-09 15:44:38.898 +03:00 [INF] End processing HTTP request after 30.3662ms - 200
2024-09-09 15:44:38.904 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.906 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.908 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.910 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.911 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:38.913 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.918 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.923 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.925 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.927 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.929 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.931 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:44:38.935 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.938 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:38.940 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:38.942 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.944 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.947 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.948 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.950 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:38.952 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.956 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.960 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.962 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:38.964 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.965 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:38.967 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:38.968 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:38.969 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:38.970 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:38.972 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.975 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:38.977 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.979 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:38.981 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:38.982 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.984 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.985 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:38.986 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:38.988 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.989 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.990 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:38.992 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:38.996 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:38.999 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.001 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.003 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.004 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.006 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:39.007 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:39.011 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:39.014 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.016 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.018 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:39.022 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:39.023 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.026 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:39.027 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:39.029 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.031 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.034 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:39.036 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:39.038 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:39.040 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:44:39.043 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:44:39.044 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:39.045 +03:00 [DBG] Running health checks
2024-09-09 15:44:39.047 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:39.048 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.2766ms with message 'Database is available.'
2024-09-09 15:44:39.051 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.1678ms
2024-09-09 15:44:39.052 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:39.053 +03:00 [INF] Received HTTP response headers after 13.5444ms - 200
2024-09-09 15:44:39.054 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 13.7003ms
2024-09-09 15:44:39.055 +03:00 [INF] End processing HTTP request after 18.9517ms - 200
2024-09-09 15:44:39.061 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.062 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.064 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.066 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.067 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:39.069 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.074 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.078 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.080 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.082 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.083 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:44:39.085 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.087 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:39.088 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:39.089 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.091 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.092 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.094 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.095 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:39.096 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.100 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.105 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.106 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.108 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.109 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:39.111 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:39.112 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:39.114 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:39.115 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:39.117 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.119 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:39.121 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.123 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:39.125 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.126 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.127 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:39.129 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:39.130 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.131 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.132 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:39.134 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.137 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.140 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.142 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.143 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.144 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.146 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:39.147 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.150 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.153 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.155 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.158 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:39.161 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:39.162 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.164 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:39.166 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:39.167 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.170 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.173 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:39.174 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:39.176 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:39.179 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:44:39.183 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:44:39.184 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:39.186 +03:00 [DBG] Running health checks
2024-09-09 15:44:39.188 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:39.216 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.0788ms with message 'Ping successful.'
2024-09-09 15:44:39.219 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.0207ms
2024-09-09 15:44:39.222 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:39.222 +03:00 [INF] Received HTTP response headers after 43.9258ms - 200
2024-09-09 15:44:39.224 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 45.534ms
2024-09-09 15:44:39.226 +03:00 [INF] End processing HTTP request after 51.5177ms - 200
2024-09-09 15:44:39.232 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.234 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.235 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.236 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.238 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:39.239 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.243 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.248 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.250 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.253 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.254 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:44:39.257 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.259 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:39.262 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:39.263 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.265 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.267 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.269 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.270 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:39.272 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.277 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.281 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.283 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.285 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.287 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:39.288 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:39.290 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:39.291 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:39.293 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:39.295 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.297 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:39.299 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.302 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:39.304 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.306 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.308 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:39.309 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:39.311 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.314 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:39.316 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:44:39.317 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.320 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.324 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.326 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:39.329 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.330 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.332 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:39.333 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.337 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.340 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.342 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.344 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:39.348 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:39.349 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.351 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:39.353 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:39.354 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.357 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.359 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:39.361 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:44:39.362 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:44:39.363 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:44:39.364 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.366 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.381 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:44:49.383 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:44:49.386 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:44:49.387 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:44:49.389 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.391 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.393 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.395 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.396 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.398 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:49.401 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:49.404 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.406 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.408 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.410 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.411 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.414 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.416 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 15:44:49.418 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.421 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:49.423 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:49.425 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:49.427 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:49.430 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:49.432 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:49.433 +03:00 [DBG] Running health checks
2024-09-09 15:44:49.434 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:49.434 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:49.434 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:49.436 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.9488ms with message 'Database is available.'
2024-09-09 15:44:49.441 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 6.9796ms with message 'Available memory: 200667136 bytes.'
2024-09-09 15:44:49.463 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.1146ms with message 'Ping successful.'
2024-09-09 15:44:49.465 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.0016ms
2024-09-09 15:44:49.466 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:49.466 +03:00 [INF] Received HTTP response headers after 40.2255ms - 200
2024-09-09 15:44:49.467 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 40.3815ms
2024-09-09 15:44:49.468 +03:00 [INF] End processing HTTP request after 45.0159ms - 200
2024-09-09 15:44:49.473 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.474 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.475 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.477 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.479 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.482 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.487 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.491 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.493 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.495 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:49.496 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.498 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.500 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:49.501 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.502 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.504 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.505 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.506 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.507 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.510 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.514 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.515 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:49.517 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.518 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.519 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:49.520 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.521 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.523 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.524 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.526 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:49.527 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.529 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.530 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.531 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.533 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.534 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.536 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.542 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.543 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:49.545 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.546 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.548 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.550 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:49.551 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:49.552 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:49.554 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:49.558 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:49.559 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:49.560 +03:00 [DBG] Running health checks
2024-09-09 15:44:49.560 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:49.560 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:49.560 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:49.563 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.0972ms with message 'Database is available.'
2024-09-09 15:44:49.572 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.1717ms with message 'Available memory: 200937472 bytes.'
2024-09-09 15:44:49.588 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.8815ms with message 'Ping successful.'
2024-09-09 15:44:49.591 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 31.496ms
2024-09-09 15:44:49.594 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:49.594 +03:00 [INF] Received HTTP response headers after 40.4129ms - 200
2024-09-09 15:44:49.595 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 40.7554ms
2024-09-09 15:44:49.597 +03:00 [INF] End processing HTTP request after 45.9176ms - 200
2024-09-09 15:44:49.602 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.603 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.605 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.606 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.607 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.608 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.612 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.617 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.620 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:49.622 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.624 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.625 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:49.626 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.628 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.629 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.630 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:44:49.631 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.632 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.637 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.640 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.641 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:49.643 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.645 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.647 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:49.648 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.650 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.651 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.654 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.656 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:49.658 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.659 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.661 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.663 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.665 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.667 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.670 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.676 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.678 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:44:49.681 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.683 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:49.686 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.689 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:49.692 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:49.694 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:49.697 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:44:49.700 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:44:49.701 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:49.703 +03:00 [DBG] Running health checks
2024-09-09 15:44:49.704 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:49.713 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.8452ms with message 'Available memory: 201146368 bytes.'
2024-09-09 15:44:49.716 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 12.7359ms
2024-09-09 15:44:49.717 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:49.718 +03:00 [INF] Received HTTP response headers after 21.6107ms - 200
2024-09-09 15:44:49.719 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 21.7204ms
2024-09-09 15:44:49.720 +03:00 [INF] End processing HTTP request after 27.9595ms - 200
2024-09-09 15:44:49.726 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.728 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.729 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.731 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.732 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.734 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.738 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.742 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.744 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.747 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.749 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.750 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:44:49.753 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.755 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:49.758 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:49.760 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.762 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.764 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.766 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.767 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.769 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.773 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.778 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.780 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:49.782 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.783 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.785 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:49.786 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.787 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.789 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.791 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.795 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.796 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.798 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.800 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:49.801 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.802 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.804 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:49.806 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:49.807 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.809 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.810 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.812 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.816 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.819 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.820 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:49.823 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.825 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.826 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.828 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:49.831 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:49.835 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.839 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:49.841 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:49.844 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:49.845 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.847 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:49.849 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:49.851 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.854 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.856 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:49.857 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:49.858 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:49.860 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:44:49.863 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:44:49.865 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:49.866 +03:00 [DBG] Running health checks
2024-09-09 15:44:49.867 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:49.869 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.526ms with message 'Database is available.'
2024-09-09 15:44:49.872 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.7684ms
2024-09-09 15:44:49.874 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:49.874 +03:00 [INF] Received HTTP response headers after 14.481ms - 200
2024-09-09 15:44:49.875 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 14.6306ms
2024-09-09 15:44:49.877 +03:00 [INF] End processing HTTP request after 19.6521ms - 200
2024-09-09 15:44:49.884 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.885 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.887 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.889 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.891 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.893 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.900 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.905 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.906 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.909 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.910 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:44:49.912 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.915 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:49.917 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:49.919 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.920 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.922 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.924 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.925 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.927 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.932 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.936 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.938 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:49.940 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.943 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:49.946 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:49.947 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.949 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.951 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.953 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.956 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.958 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.961 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:49.963 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.964 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.967 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:49.968 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:49.970 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.971 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.973 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.975 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.980 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.984 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.986 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:49.989 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.991 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.993 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:49.996 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:50.000 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:50.004 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.005 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:50.009 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:50.012 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:50.013 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.016 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:50.017 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:50.019 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.022 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.025 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:50.027 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:50.028 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:50.031 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:44:50.034 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:44:50.037 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:50.038 +03:00 [DBG] Running health checks
2024-09-09 15:44:50.040 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:50.068 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.8623ms with message 'Ping successful.'
2024-09-09 15:44:50.071 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.3962ms
2024-09-09 15:44:50.073 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:50.073 +03:00 [INF] Received HTTP response headers after 43.2759ms - 200
2024-09-09 15:44:50.075 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 43.9211ms
2024-09-09 15:44:50.076 +03:00 [INF] End processing HTTP request after 49.5773ms - 200
2024-09-09 15:44:50.083 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:50.084 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.086 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:50.087 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:50.088 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:50.090 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:50.094 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:50.098 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.100 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.102 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.104 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:44:50.106 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.108 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:50.110 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:50.112 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:50.114 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.115 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:50.117 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:50.118 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:50.120 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:50.125 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:50.134 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.139 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:44:50.158 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.170 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (12ms).
2024-09-09 15:44:50.181 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:50.185 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:50.189 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:50.199 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:50.206 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.234 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:50.238 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.260 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:50.302 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:50.314 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.326 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:50.329 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:50.335 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:50.338 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:50.339 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:50.342 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:50.346 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:50.351 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.353 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:50.358 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:50.361 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:50.363 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:50.367 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:50.370 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:50.373 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.375 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:50.377 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:50.380 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:50.381 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.383 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:50.385 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:50.386 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.389 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.391 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:50.393 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:44:50.395 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:44:50.396 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:44:50.398 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:50.400 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:54.422 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'k8s-cluster-service'
2024-09-09 15:44:57.863 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks'
2024-09-09 15:44:57.863 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks-webhooks'
2024-09-09 15:45:00.404 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:45:00.407 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:45:00.410 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:45:00.411 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:45:00.415 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.416 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.418 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.419 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.422 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:00.423 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:00.426 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:00.428 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.430 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.432 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.434 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.436 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.438 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.439 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 15:45:00.442 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.444 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:00.446 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:00.447 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:00.453 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" accepted.
2024-09-09 15:45:00.455 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" started.
2024-09-09 15:45:00.459 +03:00 [DBG] Connection 0HN6GPJNBSVUR established using the following protocol: "Tls12"
2024-09-09 15:45:00.462 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:00.465 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:00.466 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:00.468 +03:00 [DBG] Running health checks
2024-09-09 15:45:00.469 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:00.469 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:00.470 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:00.472 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0637ms with message 'Database is available.'
2024-09-09 15:45:00.479 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.6078ms with message 'Available memory: 203284480 bytes.'
2024-09-09 15:45:00.500 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.8246ms with message 'Ping successful.'
2024-09-09 15:45:00.503 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.7557ms
2024-09-09 15:45:00.505 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:00.505 +03:00 [INF] Received HTTP response headers after 56.5102ms - 200
2024-09-09 15:45:00.506 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 44.4808ms
2024-09-09 15:45:00.508 +03:00 [INF] End processing HTTP request after 61.9278ms - 200
2024-09-09 15:45:00.513 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.516 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.517 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.518 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.520 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.521 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.524 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.527 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.529 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.531 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:00.533 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.535 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:00.536 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:00.538 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.539 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.541 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.542 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.544 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.545 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.548 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.551 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.553 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:00.555 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.557 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:00.559 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:00.560 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:00.561 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:00.563 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:00.565 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.568 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:00.569 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.571 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.573 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.575 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.576 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:00.578 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:00.581 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:00.585 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.587 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:00.589 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.590 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:00.592 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.594 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:00.596 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:00.597 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:00.600 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:00.603 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:00.604 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:00.605 +03:00 [DBG] Running health checks
2024-09-09 15:45:00.606 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:00.606 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:00.607 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:00.609 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.7706ms with message 'Database is available.'
2024-09-09 15:45:00.616 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.2608ms with message 'Available memory: 202530816 bytes.'
2024-09-09 15:45:00.636 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.7416ms with message 'Ping successful.'
2024-09-09 15:45:00.639 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.2753ms
2024-09-09 15:45:00.641 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:00.641 +03:00 [INF] Received HTTP response headers after 42.4093ms - 200
2024-09-09 15:45:00.642 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 42.5727ms
2024-09-09 15:45:00.644 +03:00 [INF] End processing HTTP request after 47.7303ms - 200
2024-09-09 15:45:00.650 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.651 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.653 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.655 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.657 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:00.659 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.661 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.664 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.666 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:00.668 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.670 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:00.671 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:00.673 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.675 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.676 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.677 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.679 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.681 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.684 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.687 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.689 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:00.690 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.692 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:00.695 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:00.696 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:00.697 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:00.698 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:00.699 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.702 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:00.703 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.705 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.706 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.709 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.711 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:00.716 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:00.723 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.725 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:00.729 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.732 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:00.735 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.739 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:00.742 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:00.744 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:00.748 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:45:00.754 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:45:00.755 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:00.757 +03:00 [DBG] Running health checks
2024-09-09 15:45:00.759 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:00.771 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.3659ms with message 'Available memory: 202940416 bytes.'
2024-09-09 15:45:00.775 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 17.8702ms
2024-09-09 15:45:00.779 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:00.779 +03:00 [INF] Received HTTP response headers after 32.385ms - 200
2024-09-09 15:45:00.782 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 33.8491ms
2024-09-09 15:45:00.785 +03:00 [INF] End processing HTTP request after 42.8478ms - 200
2024-09-09 15:45:00.796 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.798 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.800 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.802 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.805 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:45:00.808 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.814 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.819 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.822 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.825 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.829 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.832 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 15:45:00.835 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.838 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:00.841 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:00.843 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.846 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.849 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.851 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.854 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:45:00.856 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.861 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.870 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.873 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:00.876 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.879 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:00.882 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:00.886 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:00.889 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:00.891 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:00.895 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.898 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:00.900 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.904 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:00.908 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:00.911 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.915 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.919 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:00.922 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:00.924 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.926 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.929 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:45:00.937 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:00.941 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:00.949 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.955 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:00.966 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.969 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:00.974 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 15:45:00.983 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:00.995 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:01.003 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.006 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:01.010 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:01.015 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:01.017 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.022 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 15:45:01.026 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:01.028 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.033 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.037 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:01.042 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:01.045 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:01.049 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:45:01.053 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:45:01.055 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:01.057 +03:00 [DBG] Running health checks
2024-09-09 15:45:01.059 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:01.061 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.9228ms with message 'Database is available.'
2024-09-09 15:45:01.065 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 7.8435ms
2024-09-09 15:45:01.068 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:01.068 +03:00 [INF] Received HTTP response headers after 20.7211ms - 200
2024-09-09 15:45:01.069 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 20.6097ms
2024-09-09 15:45:01.071 +03:00 [INF] End processing HTTP request after 29.3773ms - 200
2024-09-09 15:45:01.080 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.083 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.085 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.086 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:01.089 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:45:01.091 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.097 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.102 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.104 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.107 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.110 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:45:01.113 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.116 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:01.119 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:01.121 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.123 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.126 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.127 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:01.130 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:45:01.133 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.138 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.143 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.146 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:01.149 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.153 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:45:01.156 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:01.158 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:01.161 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:01.163 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:01.165 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.169 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:01.171 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.176 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:01.178 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.181 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.183 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:01.185 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:01.188 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.190 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:01.193 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:45:01.195 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.200 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.205 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.207 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:01.210 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.213 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:01.215 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:45:01.218 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.222 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.226 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.229 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:01.232 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:01.237 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:01.238 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.241 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:01.244 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:01.245 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.248 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.251 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:01.254 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:01.256 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:01.260 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:45:01.266 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:45:01.268 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:01.270 +03:00 [DBG] Running health checks
2024-09-09 15:45:01.272 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:01.304 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 32.6127ms with message 'Ping successful.'
2024-09-09 15:45:01.308 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.8596ms
2024-09-09 15:45:01.310 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:01.310 +03:00 [INF] Received HTTP response headers after 51.7803ms - 200
2024-09-09 15:45:01.312 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 51.7399ms
2024-09-09 15:45:01.313 +03:00 [INF] End processing HTTP request after 59.9122ms - 200
2024-09-09 15:45:01.321 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.323 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.325 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.327 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:01.329 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:01.331 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.336 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.340 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.343 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.345 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.347 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:45:01.350 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.352 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:01.355 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:01.356 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.359 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.363 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.365 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:01.367 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:01.368 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.372 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.377 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.380 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:01.383 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.386 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:45:01.389 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:01.391 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:01.393 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:01.394 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:01.396 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.398 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:01.400 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.404 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:01.406 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.408 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.410 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:01.412 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:01.414 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.415 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:01.418 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:01.421 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.425 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.430 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.433 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:01.436 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.438 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:01.440 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:01.443 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.446 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.451 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.454 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:01.458 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:01.462 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:01.463 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.466 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:01.469 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:01.471 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.475 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.479 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:01.482 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:45:01.484 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:45:01.486 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:45:01.488 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.491 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:04.439 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:45:04.446 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0884ms - processed: 0 items - remaining: 3 items
2024-09-09 15:45:11.495 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:45:11.497 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:45:11.500 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:45:11.501 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:45:11.503 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.504 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.506 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.507 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.508 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.509 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:11.512 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:11.514 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.516 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.518 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.520 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.521 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.523 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.524 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 15:45:11.526 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.528 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.530 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:11.531 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:11.533 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:11.536 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:11.537 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:11.538 +03:00 [DBG] Running health checks
2024-09-09 15:45:11.539 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:11.539 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:11.539 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:11.542 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.7192ms with message 'Database is available.'
2024-09-09 15:45:11.547 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.3382ms with message 'Available memory: 204447744 bytes.'
2024-09-09 15:45:11.569 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.1249ms with message 'Ping successful.'
2024-09-09 15:45:11.572 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.095ms
2024-09-09 15:45:11.574 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:11.574 +03:00 [INF] Received HTTP response headers after 41.5408ms - 200
2024-09-09 15:45:11.575 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 41.6267ms
2024-09-09 15:45:11.576 +03:00 [INF] End processing HTTP request after 46.2864ms - 200
2024-09-09 15:45:11.580 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.581 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.583 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.584 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:11.585 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.586 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.589 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.591 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.592 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.593 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:11.595 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.596 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.597 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:11.598 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.599 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.601 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.602 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.603 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.605 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.607 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.610 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.611 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:11.612 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.613 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.615 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:11.615 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.616 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.617 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.618 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.620 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:11.621 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.622 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.623 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.624 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:11.626 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.627 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:11.629 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:11.633 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.634 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:11.636 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.637 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.639 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.641 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:11.643 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:11.645 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:11.648 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:11.651 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:11.653 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:11.654 +03:00 [DBG] Running health checks
2024-09-09 15:45:11.655 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:11.655 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:11.655 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:11.658 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.093ms with message 'Database is available.'
2024-09-09 15:45:11.663 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.1674ms with message 'Available memory: 205377536 bytes.'
2024-09-09 15:45:11.686 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.8697ms with message 'Ping successful.'
2024-09-09 15:45:11.688 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.7052ms
2024-09-09 15:45:11.690 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:11.690 +03:00 [INF] Received HTTP response headers after 43.8425ms - 200
2024-09-09 15:45:11.692 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 44.2362ms
2024-09-09 15:45:11.693 +03:00 [INF] End processing HTTP request after 49.9224ms - 200
2024-09-09 15:45:11.700 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.702 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.703 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.705 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.706 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.708 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.710 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.714 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.715 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:11.717 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.718 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.720 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:11.721 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.722 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.723 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.725 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.726 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.727 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.730 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.732 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.734 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:11.735 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.736 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.738 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:11.739 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.739 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.740 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.742 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.744 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:11.745 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.746 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.747 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.748 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.750 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.751 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:11.753 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:11.757 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.759 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:11.761 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.762 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.764 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.765 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:11.767 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:11.768 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:11.770 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:45:11.773 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:45:11.775 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:11.776 +03:00 [DBG] Running health checks
2024-09-09 15:45:11.777 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:11.783 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 6.1473ms with message 'Available memory: 205598720 bytes.'
2024-09-09 15:45:11.785 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 9.2277ms
2024-09-09 15:45:11.787 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:11.787 +03:00 [INF] Received HTTP response headers after 17.6668ms - 200
2024-09-09 15:45:11.788 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 17.5965ms
2024-09-09 15:45:11.789 +03:00 [INF] End processing HTTP request after 22.101ms - 200
2024-09-09 15:45:11.795 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.797 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.798 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.800 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.801 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.803 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.806 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.809 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.811 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.813 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.814 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.816 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:45:11.817 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.818 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.820 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:11.821 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.823 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.825 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.826 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.828 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.829 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.832 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.835 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.836 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:11.838 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.840 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.841 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:11.842 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.843 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.844 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.846 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.848 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.849 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.851 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.853 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:11.855 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.856 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.858 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:11.860 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:11.861 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.862 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.864 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:11.866 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:11.869 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:11.872 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.873 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:11.875 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.877 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.878 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:11.880 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:11.883 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:11.886 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.888 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:11.890 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:11.893 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:11.895 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.896 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.898 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:11.900 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.903 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.906 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:11.908 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:11.910 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:11.912 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:45:11.915 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:45:11.916 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:11.917 +03:00 [DBG] Running health checks
2024-09-09 15:45:11.918 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:11.919 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.2928ms with message 'Database is available.'
2024-09-09 15:45:11.921 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 3.949ms
2024-09-09 15:45:11.923 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:11.923 +03:00 [INF] Received HTTP response headers after 11.9058ms - 200
2024-09-09 15:45:11.924 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 11.6709ms
2024-09-09 15:45:11.925 +03:00 [INF] End processing HTTP request after 17.0018ms - 200
2024-09-09 15:45:11.931 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.933 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.935 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.936 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.938 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.939 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.942 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.944 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.947 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.949 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.950 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:45:11.952 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.954 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.955 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:11.956 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.958 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.959 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.960 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.963 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:11.964 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.967 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.969 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.971 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:11.972 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.974 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.976 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:11.977 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.979 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.980 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.982 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.984 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.985 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.988 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:11.989 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.991 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.993 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:11.994 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:11.996 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.997 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.998 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:12.000 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.003 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.006 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.008 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:12.010 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:12.012 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:12.014 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:12.016 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.019 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.022 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.024 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:12.026 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:12.031 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:12.032 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.034 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:12.036 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:12.038 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.040 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.043 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:12.044 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:12.046 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:12.049 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:45:12.052 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:45:12.053 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:12.054 +03:00 [DBG] Running health checks
2024-09-09 15:45:12.055 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:12.083 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.3621ms with message 'Ping successful.'
2024-09-09 15:45:12.085 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 31.3534ms
2024-09-09 15:45:12.087 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:12.088 +03:00 [INF] Received HTTP response headers after 40.0378ms - 200
2024-09-09 15:45:12.089 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 39.7311ms
2024-09-09 15:45:12.089 +03:00 [INF] End processing HTTP request after 45.3579ms - 200
2024-09-09 15:45:12.095 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:12.096 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.098 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:12.099 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:12.100 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:12.102 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:12.105 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:12.107 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.109 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.110 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.112 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:12.114 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.115 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:12.117 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:12.118 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:12.120 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.122 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:12.123 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:12.125 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:12.126 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:12.129 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:12.132 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.134 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:12.135 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.137 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:12.138 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:12.139 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:12.141 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:12.142 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:12.144 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.146 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:12.148 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.150 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:12.152 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:12.154 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.155 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:12.157 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:12.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:12.160 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:12.162 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:12.164 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.167 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.170 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.172 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:12.173 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:12.175 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:12.176 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:12.177 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.180 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.183 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.184 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:12.186 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:12.188 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:12.189 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.191 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:12.194 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:12.195 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.197 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.199 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:12.201 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:45:12.202 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:45:12.203 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:45:12.204 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:12.206 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:14.453 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:45:14.455 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 3 items
2024-09-09 15:45:22.211 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:45:22.214 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:45:22.216 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:45:22.217 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:45:22.218 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.220 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.221 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.222 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.224 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.226 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:22.229 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:22.232 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.234 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.235 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.237 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.238 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.240 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.242 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 15:45:22.244 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.246 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.248 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:22.250 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:22.252 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:22.255 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:22.257 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:22.258 +03:00 [DBG] Running health checks
2024-09-09 15:45:22.259 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:22.259 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:22.259 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:22.264 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.6052ms with message 'Database is available.'
2024-09-09 15:45:22.268 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.7574ms with message 'Available memory: 206442496 bytes.'
2024-09-09 15:45:22.287 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.1524ms with message 'Ping successful.'
2024-09-09 15:45:22.290 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 31.9677ms
2024-09-09 15:45:22.292 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:22.292 +03:00 [INF] Received HTTP response headers after 41.1418ms - 200
2024-09-09 15:45:22.294 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 41.7828ms
2024-09-09 15:45:22.295 +03:00 [INF] End processing HTTP request after 47.0072ms - 200
2024-09-09 15:45:22.302 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.304 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.306 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.308 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.309 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:22.312 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.315 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.318 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.320 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.321 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:22.323 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.325 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.326 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:22.327 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.329 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.330 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.331 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.333 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.334 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.337 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.340 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.341 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.343 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.344 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.346 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:22.346 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.348 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.349 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.350 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.352 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:22.354 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.355 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.356 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.357 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.359 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.360 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.363 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.368 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.369 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:22.371 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.373 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.375 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.376 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:22.378 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:22.379 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:22.381 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:22.384 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:22.385 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:22.386 +03:00 [DBG] Running health checks
2024-09-09 15:45:22.387 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:22.387 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:22.387 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:22.389 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.2901ms with message 'Database is available.'
2024-09-09 15:45:22.394 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 6.8908ms with message 'Available memory: 206663680 bytes.'
2024-09-09 15:45:22.417 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.5763ms with message 'Ping successful.'
2024-09-09 15:45:22.419 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.2872ms
2024-09-09 15:45:22.421 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:22.421 +03:00 [INF] Received HTTP response headers after 40.8453ms - 200
2024-09-09 15:45:22.422 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 40.7121ms
2024-09-09 15:45:22.424 +03:00 [INF] End processing HTTP request after 46.1101ms - 200
2024-09-09 15:45:22.434 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.439 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.440 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.442 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.444 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:22.446 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.449 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.453 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.454 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.457 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.459 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:22.462 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:22.463 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.465 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.468 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.469 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.471 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:22.473 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.477 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.481 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.483 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:22.485 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.487 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.489 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:22.489 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.490 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.492 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.493 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.495 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:22.496 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.497 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.498 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.499 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.500 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.501 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.504 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.506 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.508 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:22.510 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.511 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.513 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.515 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:22.516 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:22.518 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:22.520 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:45:22.523 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:45:22.525 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:22.526 +03:00 [DBG] Running health checks
2024-09-09 15:45:22.527 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:22.536 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.8889ms with message 'Available memory: 206852096 bytes.'
2024-09-09 15:45:22.538 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 11.9117ms
2024-09-09 15:45:22.539 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:22.539 +03:00 [INF] Received HTTP response headers after 20.4729ms - 200
2024-09-09 15:45:22.540 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 20.5738ms
2024-09-09 15:45:22.542 +03:00 [INF] End processing HTTP request after 25.4208ms - 200
2024-09-09 15:45:22.547 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.548 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.550 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.551 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:22.552 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.553 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.556 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.558 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.559 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.560 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.562 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.563 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:22.565 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.567 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.568 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:22.569 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.570 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.572 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.573 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.574 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.575 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.578 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.582 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.583 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.585 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.586 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.587 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:22.588 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.589 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.590 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.591 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.593 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.594 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.596 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.597 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:22.598 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.599 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.600 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:22.601 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:22.603 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.604 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.605 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.606 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.608 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.611 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.612 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.614 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.615 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:22.616 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.617 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:22.619 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:22.621 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.622 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.624 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:22.627 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:22.628 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.629 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.630 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:22.631 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.633 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.635 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:22.636 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:22.638 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:22.640 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:45:22.644 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:45:22.645 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:22.646 +03:00 [DBG] Running health checks
2024-09-09 15:45:22.646 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:22.648 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.2365ms with message 'Database is available.'
2024-09-09 15:45:22.649 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 3.7403ms
2024-09-09 15:45:22.651 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:22.651 +03:00 [INF] Received HTTP response headers after 12.0448ms - 200
2024-09-09 15:45:22.652 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 12.087ms
2024-09-09 15:45:22.653 +03:00 [INF] End processing HTTP request after 16.6738ms - 200
2024-09-09 15:45:22.658 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.659 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.660 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.661 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.663 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.664 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.666 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.669 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.670 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.671 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.674 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:22.676 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.677 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.678 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:22.679 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.681 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.682 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.684 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.685 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.686 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.689 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.692 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.693 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.695 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.697 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.698 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:22.699 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.700 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.702 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.703 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.706 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.708 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.710 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:22.711 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.712 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.714 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:22.715 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:22.716 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.718 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.719 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.720 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.722 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.725 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.726 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.727 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.729 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.730 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.731 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.733 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.735 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.737 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:22.739 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:22.742 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:22.744 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.746 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.748 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:22.749 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.750 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.753 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:22.754 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:22.756 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:22.758 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:45:22.760 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:45:22.761 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:22.762 +03:00 [DBG] Running health checks
2024-09-09 15:45:22.763 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:22.790 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.3319ms with message 'Ping successful.'
2024-09-09 15:45:22.793 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 30.6315ms
2024-09-09 15:45:22.794 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:22.794 +03:00 [INF] Received HTTP response headers after 37.6883ms - 200
2024-09-09 15:45:22.796 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 38.2593ms
2024-09-09 15:45:22.797 +03:00 [INF] End processing HTTP request after 42.4107ms - 200
2024-09-09 15:45:22.803 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.804 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.805 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.807 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.808 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.810 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.812 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.815 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.816 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.818 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.819 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:22.820 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.822 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.823 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:22.824 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.826 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.827 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.829 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.830 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:22.832 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.834 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.837 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.838 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.840 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.841 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.844 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:22.845 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.846 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.847 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.849 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.850 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.852 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.854 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:22.855 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.857 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.859 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:22.860 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:22.861 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.862 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.864 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.865 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.867 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.869 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.871 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.873 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.875 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.877 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:22.879 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.881 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.883 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.885 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.887 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:22.890 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:22.891 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.893 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.895 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:22.896 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.898 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.900 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:22.902 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:45:22.903 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:45:22.904 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:45:22.905 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.906 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:24.463 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:45:24.465 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 3 items
2024-09-09 15:45:32.909 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:45:32.912 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:45:32.914 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:45:32.915 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:45:32.916 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:32.917 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:32.918 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:32.918 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:32.919 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:32.920 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:32.922 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:32.924 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:32.925 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:32.927 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:32.929 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:32.930 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:32.931 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:32.933 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:45:32.934 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:32.936 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:32.937 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:32.938 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:32.940 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:32.943 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:32.944 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:32.944 +03:00 [DBG] Running health checks
2024-09-09 15:45:32.945 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:32.945 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:32.945 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:32.947 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0173ms with message 'Database is available.'
2024-09-09 15:45:32.953 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.0992ms with message 'Available memory: 207470592 bytes.'
2024-09-09 15:45:32.975 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.176ms with message 'Ping successful.'
2024-09-09 15:45:32.978 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.7947ms
2024-09-09 15:45:32.981 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:32.981 +03:00 [INF] Received HTTP response headers after 41.728ms - 200
2024-09-09 15:45:32.982 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 42.9915ms
2024-09-09 15:45:32.984 +03:00 [INF] End processing HTTP request after 47.3086ms - 200
2024-09-09 15:45:32.995 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:32.997 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.000 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.002 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.008 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 15:45:33.010 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.017 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.024 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.027 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.029 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:33.034 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.039 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 15:45:33.043 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:33.045 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.048 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.051 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.055 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:33.058 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 15:45:33.060 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.066 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.073 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.076 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:33.079 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.082 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:33.086 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:33.088 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.090 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.094 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.098 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.104 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:33.106 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.110 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.114 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.119 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:45:33.122 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 15:45:33.127 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.137 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.145 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.148 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:33.151 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.154 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:33.157 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.161 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:33.164 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:33.166 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:33.169 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:33.174 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:33.176 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:33.178 +03:00 [DBG] Running health checks
2024-09-09 15:45:33.180 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:33.180 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:33.180 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:33.182 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.3519ms with message 'Database is available.'
2024-09-09 15:45:33.195 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 15.463ms with message 'Available memory: 207765504 bytes.'
2024-09-09 15:45:33.210 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.4422ms with message 'Ping successful.'
2024-09-09 15:45:33.213 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.6492ms
2024-09-09 15:45:33.214 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:33.214 +03:00 [INF] Received HTTP response headers after 46.3235ms - 200
2024-09-09 15:45:33.215 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 46.554ms
2024-09-09 15:45:33.217 +03:00 [INF] End processing HTTP request after 53.1437ms - 200
2024-09-09 15:45:33.223 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.224 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.226 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.227 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.228 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.230 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.232 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.235 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.237 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.239 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.240 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.242 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:33.243 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.244 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.246 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.247 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.248 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.250 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.252 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.255 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.256 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.258 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.259 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.260 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:33.261 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.262 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.263 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.264 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.266 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:33.267 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.269 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.271 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.271 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:33.273 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.274 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.276 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.281 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.283 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:33.285 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.286 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.287 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.289 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:33.291 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:33.292 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:33.294 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:45:33.297 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:45:33.298 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:33.299 +03:00 [DBG] Running health checks
2024-09-09 15:45:33.300 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:33.306 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 5.8947ms with message 'Available memory: 207929344 bytes.'
2024-09-09 15:45:33.308 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 8.7532ms
2024-09-09 15:45:33.309 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:33.309 +03:00 [INF] Received HTTP response headers after 16.3039ms - 200
2024-09-09 15:45:33.310 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 16.3257ms
2024-09-09 15:45:33.312 +03:00 [INF] End processing HTTP request after 20.8023ms - 200
2024-09-09 15:45:33.316 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.317 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.319 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.320 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.321 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.322 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.325 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.327 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.329 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.331 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.333 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.334 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:45:33.336 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.337 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.339 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:33.340 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.341 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.343 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.344 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.346 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:33.347 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.350 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.353 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.354 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.355 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.357 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.358 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:33.359 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.361 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.362 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.364 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.366 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.367 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.369 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.371 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:33.372 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.374 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.375 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:33.377 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:33.378 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.379 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.380 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.382 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.384 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.387 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.388 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.390 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.392 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.393 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.395 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:33.397 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:33.399 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.401 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.403 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:33.407 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:33.408 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.409 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.411 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:33.413 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.416 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.418 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:33.420 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:33.422 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:33.424 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:45:33.427 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:45:33.428 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:33.429 +03:00 [DBG] Running health checks
2024-09-09 15:45:33.431 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:33.432 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.2951ms with message 'Database is available.'
2024-09-09 15:45:33.434 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 4.6745ms
2024-09-09 15:45:33.436 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:33.436 +03:00 [INF] Received HTTP response headers after 12.3673ms - 200
2024-09-09 15:45:33.437 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 12.5731ms
2024-09-09 15:45:33.439 +03:00 [INF] End processing HTTP request after 18.7309ms - 200
2024-09-09 15:45:33.444 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.446 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.447 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.448 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:33.450 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.452 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.456 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.459 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.461 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.463 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.464 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:33.466 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.469 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:33.471 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:33.472 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.474 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.476 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.478 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.479 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:33.481 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.485 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.489 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.490 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.492 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.494 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.495 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:33.496 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.497 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.499 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.501 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.503 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.505 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.507 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:33.509 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.511 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.513 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:33.514 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:33.515 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.517 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.518 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.520 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.522 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.525 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.527 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.529 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.530 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.532 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:33.534 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.536 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.539 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.541 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.543 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:33.545 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:33.546 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.548 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.549 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:33.550 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.552 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.555 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:33.556 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:33.557 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:33.560 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:45:33.566 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:45:33.568 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:33.569 +03:00 [DBG] Running health checks
2024-09-09 15:45:33.571 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:33.599 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.4193ms with message 'Ping successful.'
2024-09-09 15:45:33.602 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.7807ms
2024-09-09 15:45:33.604 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:33.604 +03:00 [INF] Received HTTP response headers after 45.7715ms - 200
2024-09-09 15:45:33.606 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 46.1686ms
2024-09-09 15:45:33.607 +03:00 [INF] End processing HTTP request after 51.2362ms - 200
2024-09-09 15:45:33.613 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.614 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.616 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.617 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.618 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.620 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.622 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.626 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.627 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.629 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.631 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:33.633 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.635 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.637 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:33.639 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.641 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.643 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.645 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.647 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:33.648 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.651 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.654 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.656 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.658 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.659 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.660 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:33.661 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.662 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.663 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.664 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.667 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.668 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.671 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:33.672 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.674 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.675 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:33.676 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:33.678 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.679 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.680 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.682 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.685 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.688 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.690 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.692 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.693 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.695 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.696 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.700 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.702 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.703 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.706 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:33.710 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:33.712 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.713 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.717 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:33.717 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.719 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.722 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:33.724 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:45:33.725 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:45:33.727 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:45:33.728 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.730 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:34.481 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:45:34.483 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 3 items
2024-09-09 15:45:43.738 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:45:43.740 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:45:43.744 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:45:43.745 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:45:43.746 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:43.748 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.750 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:43.751 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:43.752 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:43.755 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:43.757 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:43.759 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.762 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.763 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.765 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.767 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.769 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.771 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 15:45:43.773 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.775 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:43.777 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:43.778 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:43.781 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:43.785 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:43.786 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:43.787 +03:00 [DBG] Running health checks
2024-09-09 15:45:43.788 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:43.788 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:43.788 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:43.791 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.9681ms with message 'Database is available.'
2024-09-09 15:45:43.798 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.4228ms with message 'Available memory: 215191552 bytes.'
2024-09-09 15:45:43.819 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.9089ms with message 'Ping successful.'
2024-09-09 15:45:43.822 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.7687ms
2024-09-09 15:45:43.824 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:43.825 +03:00 [INF] Received HTTP response headers after 44.6783ms - 200
2024-09-09 15:45:43.826 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 45.0535ms
2024-09-09 15:45:43.827 +03:00 [INF] End processing HTTP request after 50.4073ms - 200
2024-09-09 15:45:43.834 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:43.836 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.838 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:43.839 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:43.841 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:43.843 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.846 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.849 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.851 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.853 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:43.855 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.856 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:43.858 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:43.859 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:43.861 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.863 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:43.865 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:43.866 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:43.868 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.871 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.874 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.875 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:43.877 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.879 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:43.881 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:43.882 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:43.883 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:43.884 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:43.885 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.888 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:43.889 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:43.890 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.892 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:43.893 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:43.894 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:43.897 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:43.899 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:43.904 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.906 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:43.908 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.910 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:43.912 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.914 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:43.915 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:43.916 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:43.918 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:43.921 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:43.922 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:43.923 +03:00 [DBG] Running health checks
2024-09-09 15:45:43.924 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:43.924 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:43.924 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:43.926 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.2397ms with message 'Database is available.'
2024-09-09 15:45:43.932 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.3762ms with message 'Available memory: 215396352 bytes.'
2024-09-09 15:45:43.954 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.1911ms with message 'Ping successful.'
2024-09-09 15:45:43.956 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.9807ms
2024-09-09 15:45:43.957 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:43.957 +03:00 [INF] Received HTTP response headers after 40.0422ms - 200
2024-09-09 15:45:43.958 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 40.148ms
2024-09-09 15:45:43.960 +03:00 [INF] End processing HTTP request after 44.7047ms - 200
2024-09-09 15:45:43.965 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:43.966 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.968 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:43.969 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:43.971 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:43.972 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.975 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.978 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.979 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:43.981 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.982 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:43.984 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:43.985 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:43.986 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.987 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:43.988 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:43.990 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:43.992 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.994 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.997 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.999 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.001 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.003 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.004 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:44.006 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.007 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.008 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.009 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.011 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:44.012 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.014 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.015 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.016 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.017 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.018 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.019 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.024 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.026 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:44.027 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.029 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.030 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.032 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:44.034 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:44.035 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:44.037 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:45:44.040 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:45:44.041 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:44.042 +03:00 [DBG] Running health checks
2024-09-09 15:45:44.043 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:44.052 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.4403ms with message 'Available memory: 215617536 bytes.'
2024-09-09 15:45:44.054 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 12.1892ms
2024-09-09 15:45:44.056 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:44.056 +03:00 [INF] Received HTTP response headers after 20.3257ms - 200
2024-09-09 15:45:44.058 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 20.8123ms
2024-09-09 15:45:44.059 +03:00 [INF] End processing HTTP request after 25.497ms - 200
2024-09-09 15:45:44.065 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.067 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.069 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.070 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.071 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.073 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.075 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.077 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.079 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.080 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.081 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.083 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:44.084 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.086 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:44.088 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:44.089 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.090 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.092 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.093 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.094 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.096 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.099 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.103 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.104 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.106 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.107 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.110 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:44.111 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.112 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.114 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.115 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.118 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.120 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.122 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.123 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:44.125 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.126 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.128 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:44.129 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:44.130 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.131 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.133 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:44.135 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.137 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.140 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.142 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:44.144 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.145 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.146 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.147 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:44.150 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:44.152 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.154 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.156 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:44.159 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:44.160 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.161 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.163 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:44.164 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.166 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.168 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:44.169 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:44.170 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:44.173 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:45:44.175 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:45:44.176 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:44.177 +03:00 [DBG] Running health checks
2024-09-09 15:45:44.177 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:44.179 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.6518ms with message 'Database is available.'
2024-09-09 15:45:44.181 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 4.1619ms
2024-09-09 15:45:44.183 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:44.183 +03:00 [INF] Received HTTP response headers after 11.0355ms - 200
2024-09-09 15:45:44.184 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 10.9945ms
2024-09-09 15:45:44.185 +03:00 [INF] End processing HTTP request after 15.8613ms - 200
2024-09-09 15:45:44.189 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.190 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.192 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.192 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.193 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.195 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.197 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.200 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.201 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.203 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.204 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:44.206 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.207 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.208 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:44.209 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.210 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.213 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.214 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.214 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.216 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.218 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.219 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.220 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.222 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.223 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.224 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:44.225 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.226 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.227 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.229 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.231 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.232 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.234 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:44.236 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.237 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.239 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:44.240 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:44.241 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.242 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.244 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.245 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.247 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.248 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.249 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.251 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.252 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.253 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.254 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.255 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.258 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.259 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.261 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:44.264 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:44.265 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.267 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.268 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:44.269 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.271 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.273 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:44.275 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:44.277 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:44.279 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:45:44.282 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:45:44.284 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:44.285 +03:00 [DBG] Running health checks
2024-09-09 15:45:44.286 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:44.314 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.6871ms with message 'Ping successful.'
2024-09-09 15:45:44.316 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 31.4421ms
2024-09-09 15:45:44.317 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:44.317 +03:00 [INF] Received HTTP response headers after 38.9618ms - 200
2024-09-09 15:45:44.319 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 39.4524ms
2024-09-09 15:45:44.320 +03:00 [INF] End processing HTTP request after 44.886ms - 200
2024-09-09 15:45:44.324 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.326 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.327 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.328 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.329 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.330 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.332 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.335 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.336 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.338 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.339 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:44.340 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.342 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.343 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:44.345 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.346 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.347 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.348 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.349 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.351 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.353 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.355 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.356 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.358 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.359 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.360 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:44.361 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.362 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.363 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.364 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.366 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.368 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.370 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:44.371 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.373 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.374 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:44.376 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:44.377 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.377 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.379 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.380 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.383 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.385 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.386 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.388 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.388 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.389 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.391 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.393 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.395 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.396 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.397 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:44.400 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:44.401 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.403 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.405 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:44.406 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.407 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.409 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:44.410 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:45:44.411 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:45:44.413 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:45:44.414 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.415 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.492 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:45:44.494 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 3 items
2024-09-09 15:45:54.424 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:45:54.427 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:45:54.431 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:45:54.433 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:45:54.435 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.437 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.439 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.442 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.443 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.446 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:54.448 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:54.452 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.454 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.455 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.458 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.459 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.461 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.463 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 15:45:54.465 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.467 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.468 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:54.470 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:54.473 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:54.476 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:54.477 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:54.478 +03:00 [DBG] Running health checks
2024-09-09 15:45:54.480 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:54.480 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:54.480 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:54.481 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.5602ms with message 'Database is available.'
2024-09-09 15:45:54.490 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.4432ms with message 'Available memory: 217497600 bytes.'
2024-09-09 15:45:54.502 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:45:54.505 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 3 items
2024-09-09 15:45:54.510 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.289ms with message 'Ping successful.'
2024-09-09 15:45:54.513 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.2102ms
2024-09-09 15:45:54.515 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:54.515 +03:00 [INF] Received HTTP response headers after 42.9563ms - 200
2024-09-09 15:45:54.516 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 43.7628ms
2024-09-09 15:45:54.517 +03:00 [INF] End processing HTTP request after 48.9086ms - 200
2024-09-09 15:45:54.523 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.525 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.526 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.527 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.529 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.530 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.534 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.537 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.538 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.540 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:54.541 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.543 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.544 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:54.545 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.547 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.548 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.550 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.552 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.553 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.556 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.559 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.561 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:54.563 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.565 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:54.567 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:54.568 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.569 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.570 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.571 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.573 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:54.575 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.576 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.577 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.578 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.580 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.581 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.583 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.588 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.590 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:54.592 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.593 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.595 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.597 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:54.598 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:54.599 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:54.602 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:54.604 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:54.605 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:54.606 +03:00 [DBG] Running health checks
2024-09-09 15:45:54.607 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:54.607 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:54.607 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:54.609 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.1614ms with message 'Database is available.'
2024-09-09 15:45:54.615 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.0394ms with message 'Available memory: 217714688 bytes.'
2024-09-09 15:45:54.636 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.1912ms with message 'Ping successful.'
2024-09-09 15:45:54.638 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.4149ms
2024-09-09 15:45:54.640 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:54.640 +03:00 [INF] Received HTTP response headers after 39.2158ms - 200
2024-09-09 15:45:54.641 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 39.3243ms
2024-09-09 15:45:54.642 +03:00 [INF] End processing HTTP request after 43.7914ms - 200
2024-09-09 15:45:54.648 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.650 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.652 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.654 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.655 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.656 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.660 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.664 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.666 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:54.668 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.670 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.671 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:54.673 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.675 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.677 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.678 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.680 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.681 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.685 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.688 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.690 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:54.692 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.694 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.696 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:54.697 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.699 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.700 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.702 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.704 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:54.706 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.708 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.710 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.712 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.713 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.715 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.718 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.723 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.725 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:54.727 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.729 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.731 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.734 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:54.736 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:54.738 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:54.741 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:45:54.745 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:45:54.747 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:54.747 +03:00 [DBG] Running health checks
2024-09-09 15:45:54.748 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:54.756 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 7.9419ms with message 'Available memory: 217894912 bytes.'
2024-09-09 15:45:54.759 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 11.1335ms
2024-09-09 15:45:54.761 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:54.761 +03:00 [INF] Received HTTP response headers after 20.3964ms - 200
2024-09-09 15:45:54.762 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 20.7811ms
2024-09-09 15:45:54.763 +03:00 [INF] End processing HTTP request after 27.2545ms - 200
2024-09-09 15:45:54.770 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.771 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.773 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.774 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.776 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.778 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.781 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.785 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.787 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.789 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.790 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.792 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:45:54.794 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.796 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.798 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:54.799 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.802 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.804 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.805 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.807 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.808 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.811 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.814 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.816 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:54.818 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.819 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.820 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:54.822 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.823 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.824 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.826 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.828 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.829 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.831 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.833 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:54.834 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.836 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.837 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:54.839 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:54.840 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.841 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.842 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.844 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.846 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.849 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.851 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:54.853 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.854 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.856 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.857 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:54.859 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:54.861 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.863 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:54.865 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:54.868 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:54.869 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.871 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.872 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:54.874 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.876 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.878 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:54.880 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:54.881 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:54.884 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:45:54.887 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:45:54.888 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:54.889 +03:00 [DBG] Running health checks
2024-09-09 15:45:54.890 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:54.892 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.7346ms with message 'Database is available.'
2024-09-09 15:45:54.895 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.7214ms
2024-09-09 15:45:54.896 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:54.896 +03:00 [INF] Received HTTP response headers after 13.6889ms - 200
2024-09-09 15:45:54.897 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 13.8489ms
2024-09-09 15:45:54.899 +03:00 [INF] End processing HTTP request after 19.0127ms - 200
2024-09-09 15:45:54.904 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.906 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.907 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.908 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:54.911 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.914 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.917 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.921 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.923 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.926 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.928 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:45:54.929 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.931 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.933 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:54.934 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.936 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.937 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.939 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.940 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.942 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.945 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.948 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.949 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:54.951 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.953 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.954 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:54.956 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.957 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.959 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.961 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.963 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.965 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.968 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:54.969 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.971 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.973 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:54.975 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:54.976 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.977 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.979 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.980 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.983 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.986 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.988 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:54.990 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.991 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.993 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.995 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.998 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:55.000 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.002 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:55.004 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:55.006 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:55.008 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.009 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:55.012 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:55.013 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.016 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.019 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:55.020 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:55.022 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:55.024 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:45:55.028 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:45:55.029 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:55.030 +03:00 [DBG] Running health checks
2024-09-09 15:45:55.031 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:55.058 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.4956ms with message 'Ping successful.'
2024-09-09 15:45:55.060 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 30.1825ms
2024-09-09 15:45:55.061 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:55.061 +03:00 [INF] Received HTTP response headers after 38.1049ms - 200
2024-09-09 15:45:55.063 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 38.3288ms
2024-09-09 15:45:55.064 +03:00 [INF] End processing HTTP request after 44.0182ms - 200
2024-09-09 15:45:55.069 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:55.071 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.072 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:55.073 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:55.075 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:55.076 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:55.079 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:55.082 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.084 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.085 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.087 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:55.088 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.089 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:55.091 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:55.092 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:55.094 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.096 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:55.097 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:55.098 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:55.100 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:55.102 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:55.105 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.106 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:55.108 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.109 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:55.111 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:55.112 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:55.113 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:55.114 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:55.115 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.117 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:55.118 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.119 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:55.120 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:55.122 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.123 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:55.124 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:55.125 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:55.126 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:55.128 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:55.129 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:55.131 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:55.134 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.135 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:55.137 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:55.138 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:55.139 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:55.141 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:55.143 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:55.146 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.147 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:55.148 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:55.152 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:55.153 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.154 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:55.155 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:55.156 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.157 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.159 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:55.161 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:45:55.162 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:45:55.163 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:45:55.164 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:55.165 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:58.107 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" received FIN.
2024-09-09 15:45:58.110 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" disconnecting.
2024-09-09 15:45:58.112 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 15:45:58.121 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" stopped.
2024-09-09 15:46:04.515 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:46:04.517 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 3 items
2024-09-09 15:46:05.180 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:46:05.184 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:46:05.186 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:46:05.187 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:46:05.189 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.191 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.193 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.195 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.197 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.199 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:46:05.201 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:46:05.204 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.206 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.208 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.210 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.212 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.214 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.217 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 15:46:05.220 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.222 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.225 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:46:05.226 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:46:05.230 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:46:05.237 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:46:05.239 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:46:05.240 +03:00 [DBG] Running health checks
2024-09-09 15:46:05.241 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:46:05.241 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:46:05.245 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.7756ms with message 'Database is available.'
2024-09-09 15:46:05.241 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:46:05.266 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 24.8604ms with message 'Available memory: 218808320 bytes.'
2024-09-09 15:46:05.279 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 37.2865ms with message 'Ping successful.'
2024-09-09 15:46:05.281 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 41.6689ms
2024-09-09 15:46:05.284 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:46:05.284 +03:00 [INF] Received HTTP response headers after 54.7127ms - 200
2024-09-09 15:46:05.287 +03:00 [INF] End processing HTTP request after 62.1182ms - 200
2024-09-09 15:46:05.285 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 55.4882ms
2024-09-09 15:46:05.289 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.295 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.297 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.298 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.300 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.302 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.306 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.310 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.312 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.313 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:46:05.315 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.317 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:46:05.320 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:46:05.322 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.324 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.326 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.328 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.330 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:46:05.332 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.336 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.340 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.342 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:46:05.345 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.347 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.350 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:46:05.351 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.352 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.354 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.356 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.359 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:46:05.361 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.364 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.366 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.367 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.369 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.371 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.373 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.379 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.381 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:46:05.383 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.385 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.386 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.388 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:46:05.390 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:46:05.392 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:46:05.395 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:46:05.398 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:46:05.400 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:46:05.401 +03:00 [DBG] Running health checks
2024-09-09 15:46:05.402 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:46:05.402 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:46:05.402 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:46:05.405 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.1269ms with message 'Database is available.'
2024-09-09 15:46:05.411 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.7956ms with message 'Available memory: 219000832 bytes.'
2024-09-09 15:46:05.433 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.9968ms with message 'Ping successful.'
2024-09-09 15:46:05.436 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.6857ms
2024-09-09 15:46:05.438 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:46:05.438 +03:00 [INF] Received HTTP response headers after 44.5742ms - 200
2024-09-09 15:46:05.439 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 44.5655ms
2024-09-09 15:46:05.441 +03:00 [INF] End processing HTTP request after 50.6892ms - 200
2024-09-09 15:46:05.446 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.448 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.450 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.451 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.453 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.454 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.458 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.461 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.463 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.465 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.467 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.469 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:46:05.470 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.472 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.474 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.476 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.477 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.479 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.482 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.486 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.487 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.489 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.491 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.493 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:46:05.494 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.495 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.497 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.498 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.500 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:46:05.502 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.504 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.506 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.508 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.510 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.511 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.514 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.518 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.520 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:46:05.522 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.524 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:46:05.527 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.530 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:46:05.532 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:46:05.535 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:46:05.540 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:46:05.544 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:46:05.546 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:46:05.548 +03:00 [DBG] Running health checks
2024-09-09 15:46:05.550 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:46:05.562 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.5702ms with message 'Available memory: 219189248 bytes.'
2024-09-09 15:46:05.568 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 20.3414ms
2024-09-09 15:46:05.571 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:46:05.571 +03:00 [INF] Received HTTP response headers after 31.6844ms - 200
2024-09-09 15:46:05.573 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 32.6512ms
2024-09-09 15:46:05.575 +03:00 [INF] End processing HTTP request after 42.6162ms - 200
2024-09-09 15:46:05.585 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.587 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.589 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.592 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.595 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:46:05.599 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.604 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.608 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.611 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.614 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.616 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.618 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 15:46:05.620 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.623 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:46:05.625 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:46:05.627 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.631 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.633 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.634 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.636 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.638 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.641 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.646 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.648 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.650 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.652 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.654 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:46:05.655 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.657 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.658 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.659 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.663 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.664 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.667 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.668 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:46:05.669 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.672 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.673 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:46:05.675 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:46:05.677 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.678 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.680 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.682 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.685 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.688 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.690 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.692 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.694 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.696 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.698 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:46:05.700 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:46:05.703 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.705 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:46:05.707 +03:00 [DBG] Committing transaction.
2024-09-09 15:46:05.711 +03:00 [DBG] Committed transaction.
2024-09-09 15:46:05.712 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.714 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.715 +03:00 [DBG] Disposing transaction.
2024-09-09 15:46:05.716 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.718 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.721 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:46:05.722 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:46:05.724 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:46:05.727 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:46:05.730 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:46:05.731 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:46:05.732 +03:00 [DBG] Running health checks
2024-09-09 15:46:05.733 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:46:05.735 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.6412ms with message 'Database is available.'
2024-09-09 15:46:05.737 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.679ms
2024-09-09 15:46:05.739 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:46:05.739 +03:00 [INF] Received HTTP response headers after 13.4648ms - 200
2024-09-09 15:46:05.740 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 13.703ms
2024-09-09 15:46:05.742 +03:00 [INF] End processing HTTP request after 19.1591ms - 200
2024-09-09 15:46:05.747 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.749 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.751 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.752 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.754 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.755 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.758 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.761 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.763 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.765 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.767 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:46:05.769 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.771 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.773 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:46:05.774 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.776 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.777 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.778 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.779 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.781 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.784 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.787 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.789 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.791 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.792 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.794 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:46:05.796 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.797 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.799 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.800 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.802 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.804 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.806 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:46:05.808 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.810 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.812 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:46:05.813 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:46:05.814 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.815 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.817 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.818 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.821 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.823 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.825 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.827 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.828 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.829 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.830 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.833 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.835 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.837 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.839 +03:00 [DBG] Committing transaction.
2024-09-09 15:46:05.843 +03:00 [DBG] Committed transaction.
2024-09-09 15:46:05.844 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.846 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:46:05.848 +03:00 [DBG] Disposing transaction.
2024-09-09 15:46:05.849 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.851 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.854 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:46:05.855 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:46:05.857 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:46:05.860 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:46:05.863 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:46:05.864 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:46:05.865 +03:00 [DBG] Running health checks
2024-09-09 15:46:05.866 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:46:05.895 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.4152ms with message 'Ping successful.'
2024-09-09 15:46:05.897 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.2601ms
2024-09-09 15:46:05.899 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:46:05.900 +03:00 [INF] Received HTTP response headers after 40.8395ms - 200
2024-09-09 15:46:05.901 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 41.3354ms
2024-09-09 15:46:05.902 +03:00 [INF] End processing HTTP request after 47.0959ms - 200
2024-09-09 15:46:05.909 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.911 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.913 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.914 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.915 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.917 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.920 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.923 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.924 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.926 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.928 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:46:05.930 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.932 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.934 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:46:05.936 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.938 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.940 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.941 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.943 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.944 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.948 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.952 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.953 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.956 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.958 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.960 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:46:05.961 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.962 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.964 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.966 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.969 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.970 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.973 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:46:05.975 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.976 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.979 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:46:05.980 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:46:05.983 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.984 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.986 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.987 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.989 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.992 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.994 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.996 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.997 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.999 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:06.001 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:06.003 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:06.006 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:06.007 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:06.009 +03:00 [DBG] Committing transaction.
2024-09-09 15:46:06.013 +03:00 [DBG] Committed transaction.
2024-09-09 15:46:06.014 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:06.016 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:46:06.018 +03:00 [DBG] Disposing transaction.
2024-09-09 15:46:06.019 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:06.021 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:06.023 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:46:06.025 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:46:06.026 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:46:06.027 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:46:06.029 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:06.030 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).

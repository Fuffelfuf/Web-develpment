2024-09-09 15:06:38.029 +03:00 [DBG] This is a debug message
2024-09-09 15:06:38.077 +03:00 [INF] This is an info message
2024-09-09 15:06:38.079 +03:00 [WRN] This is a warning message
2024-09-09 15:06:38.080 +03:00 [ERR] This is an error message
2024-09-09 15:06:38.081 +03:00 [FTL] This is a fatal message
2024-09-09 15:06:38.632 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-09 15:06:38.815 +03:00 [DBG] Hosting starting
2024-09-09 15:06:38.906 +03:00 [INF] User profile is available. Using 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-09 15:06:38.919 +03:00 [INF] Initializing UI Database
2024-09-09 15:06:39.111 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-09 15:06:39.825 +03:00 [DBG] The property 'HealthCheckExecutionEntry.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 15:06:39.827 +03:00 [DBG] The property 'HealthCheckExecutionHistory.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 15:06:40.011 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:06:40.041 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:06:40.057 +03:00 [DBG] Created DbConnection. (13ms).
2024-09-09 15:06:40.063 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.078 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.085 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.092 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:06:40.104 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-09 15:06:40.106 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:06:40.107 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:06:40.116 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2024-09-09 15:06:40.118 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (15ms).
2024-09-09 15:06:40.124 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.131 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.141 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 15:06:40.199 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 15:06:40.209 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.214 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 15:06:40.236 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.239 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.240 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:40.242 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:40.244 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:40.246 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 15:06:40.252 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 15:06:40.262 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.267 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 15:06:40.269 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.271 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:40.341 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()
    .Any()'
2024-09-09 15:06:40.553 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Configurations AS c)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 15:06:40.586 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.587 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.589 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:40.590 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:40.592 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:40.594 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 15:06:40.596 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 15:06:40.602 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.604 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:06:40.606 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.608 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:06:40.615 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()'
2024-09-09 15:06:40.668 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: HealthCheckConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckConfiguration.DiscoveryService (string) MaxLength(100), 1], [Property: HealthCheckConfiguration.Name (string) Required MaxLength(500), 2], [Property: HealthCheckConfiguration.Uri (string) Required MaxLength(500), 3] }
        SELECT c.Id, c.DiscoveryService, c.Name, c.Uri
        FROM Configurations AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Data.HealthChecksDb, 
    False, 
    False, 
    True
)'
2024-09-09 15:06:40.678 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.679 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.680 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:40.681 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:40.682 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:40.684 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:06:40.686 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:06:40.722 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:40.746 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:40.749 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:40.751 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:40.754 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:40.756 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.758 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 69ms reading results.
2024-09-09 15:06:40.760 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:40.762 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:40.769 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:40.774 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:40.792 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:06:40.801 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 0 entities written to the database.
2024-09-09 15:06:40.805 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:06:40.808 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:40.810 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:40.818 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-708ff948-4064-4637-b437-6d3d4d39db23.xml'.
2024-09-09 15:06:40.829 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-b1c18ae0-c8a0-4231-a320-ae7c37796e64.xml'.
2024-09-09 15:06:40.832 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-c1775fa6-7869-4e48-a739-17ea1f4d4600.xml'.
2024-09-09 15:06:40.834 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-f484012b-a04f-4d48-bbf1-e6db9c34915c.xml'.
2024-09-09 15:06:40.842 +03:00 [DBG] Found key {708ff948-4064-4637-b437-6d3d4d39db23}.
2024-09-09 15:06:40.849 +03:00 [DBG] Found key {b1c18ae0-c8a0-4231-a320-ae7c37796e64}.
2024-09-09 15:06:40.851 +03:00 [DBG] Found key {c1775fa6-7869-4e48-a739-17ea1f4d4600}.
2024-09-09 15:06:40.852 +03:00 [DBG] Found key {f484012b-a04f-4d48-bbf1-e6db9c34915c}.
2024-09-09 15:06:40.864 +03:00 [DBG] Considering key {708ff948-4064-4637-b437-6d3d4d39db23} with expiration date 2024-11-18 12:06:14Z as default key.
2024-09-09 15:06:40.872 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 15:06:40.875 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-09 15:06:40.879 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 15:06:40.884 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-09 15:06:40.887 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-09 15:06:40.892 +03:00 [DBG] Using key {708ff948-4064-4637-b437-6d3d4d39db23} as the default key.
2024-09-09 15:06:40.895 +03:00 [DBG] Key ring with default key {708ff948-4064-4637-b437-6d3d4d39db23} was loaded during application startup.
2024-09-09 15:06:41.107 +03:00 [INF] Now listening on: https://localhost:7227
2024-09-09 15:06:41.109 +03:00 [INF] Now listening on: http://localhost:5174
2024-09-09 15:06:41.110 +03:00 [DBG] Loaded hosting startup assembly MyApi
2024-09-09 15:06:41.111 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-09 15:06:41.112 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-09 15:06:41.131 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:06:41.156 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:06:41.162 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:06:41.163 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:06:41.164 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:41.165 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.166 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:41.167 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:41.168 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:41.170 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:06:41.172 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:06:41.174 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:41.175 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:41.177 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:41.178 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:41.179 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:41.181 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.182 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:06:41.183 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.184 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:41.212 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:06:41.215 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:06:41.283 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-09 15:06:41.284 +03:00 [INF] Hosting environment: Development
2024-09-09 15:06:41.286 +03:00 [INF] Content root path: C:\Users\Viktor\source\repos\MyApi\MyApi
2024-09-09 15:06:41.293 +03:00 [DBG] Hosting started
2024-09-09 15:06:41.304 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" accepted.
2024-09-09 15:06:41.306 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" started.
2024-09-09 15:06:41.353 +03:00 [DBG] Connection 0HN6GOVEO1G8A established using the following protocol: "Tls12"
2024-09-09 15:06:41.403 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:06:41.422 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-09 15:06:41.450 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:06:41.453 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:41.458 +03:00 [DBG] Running health checks
2024-09-09 15:06:41.462 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:06:41.462 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:06:41.462 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:06:41.484 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 11.6281ms with message 'Database is available.'
2024-09-09 15:06:41.486 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 23.9131ms with message 'Available memory: 127721472 bytes.'
2024-09-09 15:06:41.512 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 50.5189ms with message 'Ping successful.'
2024-09-09 15:06:41.516 +03:00 [DBG] Connection id "0HN6GOVEO1G8B" accepted.
2024-09-09 15:06:41.518 +03:00 [DBG] Connection id "0HN6GOVEO1G8B" started.
2024-09-09 15:06:41.526 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 61.1799ms
2024-09-09 15:06:41.532 +03:00 [DBG] Connection id "0HN6GOVEO1G8C" received FIN.
2024-09-09 15:06:41.532 +03:00 [DBG] Connection id "0HN6GOVEO1G8B" received FIN.
2024-09-09 15:06:41.535 +03:00 [DBG] Connection id "0HN6GOVEO1G8C" accepted.
2024-09-09 15:06:41.537 +03:00 [DBG] Connection id "0HN6GOVEO1G8C" started.
2024-09-09 15:06:41.539 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-09 15:06:41.540 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-09 15:06:41.579 +03:00 [DBG] Connection id "0HN6GOVEO1G8C" stopped.
2024-09-09 15:06:41.579 +03:00 [DBG] Connection id "0HN6GOVEO1G8B" stopped.
2024-09-09 15:06:41.581 +03:00 [DBG] Connection id "0HN6GOVEO1G8C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 15:06:41.582 +03:00 [DBG] Connection id "0HN6GOVEO1G8B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 15:06:41.646 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" completed keep alive response.
2024-09-09 15:06:41.649 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 252.0771ms
2024-09-09 15:06:41.653 +03:00 [INF] Received HTTP response headers after 433.4108ms - 200
2024-09-09 15:06:41.655 +03:00 [INF] End processing HTTP request after 444.5118ms - 200
2024-09-09 15:06:41.728 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckExecution>()
    .Include(le => le.History)
    .Include(le => le.Entries)
    .Where(le => le.Name == __configuration_Name_0)
    .SingleOrDefault()'
2024-09-09 15:06:41.749 +03:00 [DBG] Including navigation: 'HealthCheckExecution.History'.
2024-09-09 15:06:41.753 +03:00 [DBG] Including navigation: 'HealthCheckExecution.Entries'.
2024-09-09 15:06:41.857 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-09 15:06:41.871 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckExecution>(
    asyncEnumerable: new SingleQueryingEnumerable<HealthCheckExecution>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: HealthCheckExecution.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckExecution.DiscoveryService (string) MaxLength(50), 1], [Property: HealthCheckExecution.LastExecuted (DateTime) Required, 2], [Property: HealthCheckExecution.Name (string) Required MaxLength(500), 3], [Property: HealthCheckExecution.OnStateFrom (DateTime) Required, 4], [Property: HealthCheckExecution.Status (UIHealthStatus) Required, 5], [Property: HealthCheckExecution.Uri (string) Required MaxLength(500), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionHistory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: HealthCheckExecutionHistory.Description (string), 8], [Property: HealthCheckExecutionHistory.HealthCheckExecutionId (no field, int?) Shadow FK Index, 9], [Property: HealthCheckExecutionHistory.Name (string) MaxLength(500), 10], [Property: HealthCheckExecutionHistory.On (DateTime) Required, 11], [Property: HealthCheckExecutionHistory.Status (UIHealthStatus) Required MaxLength(50), 12] }
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionEntry.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: HealthCheckExecutionEntry.Description (string), 14], [Property: HealthCheckExecutionEntry.Duration (TimeSpan) Required, 15], [Property: HealthCheckExecutionEntry.HealthCheckExecutionId (no field, int?) Shadow FK Index, 16], [Property: HealthCheckExecutionEntry.Name (string) Required MaxLength(500), 17], [Property: HealthCheckExecutionEntry.Status (UIHealthStatus) Required, 18], [Property: HealthCheckExecutionEntry.Tags (List<string>), 19] }
                5 -> 13
            SELECT t.Id, t.DiscoveryService, t.LastExecuted, t.Name, t.OnStateFrom, t.Status, t.Uri, h.Id, h.Description, h.HealthCheckExecutionId, h.Name, h.On, h.Status, h0.Id, h0.Description, h0.Duration, h0.HealthCheckExecutionId, h0.Name, h0.Status, h0.Tags
            FROM 
            (
                SELECT TOP(2) e.Id, e.DiscoveryService, e.LastExecuted, e.Name, e.OnStateFrom, e.Status, e.Uri
                FROM Executions AS e
                WHERE e.Name == @__configuration_Name_0
            ) AS t
            LEFT JOIN HealthCheckExecutionHistories AS h ON t.Id == h.HealthCheckExecutionId
            LEFT JOIN HealthCheckExecutionEntries AS h0 ON t.Id == h0.HealthCheckExecutionId
            ORDER BY t.Id ASC, h.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckExecution>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 15:06:41.891 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:41.893 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.894 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:41.895 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:41.899 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:06:41.905 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:41.914 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:41.934 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:41.957 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.959 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 40ms reading results.
2024-09-09 15:06:41.960 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.961 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:41.966 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:06:41.972 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:41.973 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.975 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:41.976 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:41.977 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:41.978 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:41.980 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:41.984 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.986 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:41.988 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:41.990 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:41.992 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:06:41.995 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:41.996 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.005 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.015 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.029 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:06:42.095 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.098 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.103 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.104 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:06:42.110 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.114 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.127 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.128 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 15:06:42.132 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.134 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.142 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.145 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:06:42.147 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:06:42.148 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:06:42.153 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:06:42.156 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:06:42.157 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:42.158 +03:00 [DBG] Running health checks
2024-09-09 15:06:42.159 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:06:42.159 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:06:42.159 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:06:42.161 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.6792ms with message 'Database is available.'
2024-09-09 15:06:42.169 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.2273ms with message 'Available memory: 135725056 bytes.'
2024-09-09 15:06:42.188 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.6323ms with message 'Ping successful.'
2024-09-09 15:06:42.190 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 31.6002ms
2024-09-09 15:06:42.192 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" completed keep alive response.
2024-09-09 15:06:42.192 +03:00 [INF] Received HTTP response headers after 42.7311ms - 200
2024-09-09 15:06:42.193 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 39.8082ms
2024-09-09 15:06:42.194 +03:00 [INF] End processing HTTP request after 46.8852ms - 200
2024-09-09 15:06:42.199 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.201 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.202 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.203 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.205 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:42.206 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.210 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.214 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.215 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.217 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.218 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.219 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:06:42.220 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.222 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.223 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.224 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.225 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.226 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.229 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.233 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.234 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.236 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.238 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.239 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:06:42.240 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.241 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.242 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.244 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.245 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:06:42.248 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.249 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.250 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.251 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.253 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:42.254 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.257 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.262 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.264 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:06:42.267 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.269 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.270 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.272 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:06:42.273 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:06:42.274 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:06:42.276 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:06:42.279 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:06:42.280 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:42.281 +03:00 [DBG] Running health checks
2024-09-09 15:06:42.282 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:06:42.289 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 7.0899ms with message 'Available memory: 135987200 bytes.'
2024-09-09 15:06:42.291 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 9.9769ms
2024-09-09 15:06:42.314 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" completed keep alive response.
2024-09-09 15:06:42.313 +03:00 [INF] Received HTTP response headers after 38.1707ms - 200
2024-09-09 15:06:42.315 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 38.8945ms
2024-09-09 15:06:42.316 +03:00 [INF] End processing HTTP request after 43.0472ms - 200
2024-09-09 15:06:42.333 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.335 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.336 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.337 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.338 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.339 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.343 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.346 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.359 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.380 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.399 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.402 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 56ms reading results.
2024-09-09 15:06:42.405 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.407 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:06:42.410 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:06:42.412 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.414 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.416 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.418 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.419 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:42.421 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.424 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.427 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.428 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.430 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.431 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.432 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:06:42.435 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.437 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.438 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.439 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.451 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.453 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.460 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.465 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:06:42.474 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.476 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.480 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:06:42.486 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:06:42.489 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.490 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.492 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:42.494 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.496 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.501 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.502 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.506 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.507 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.509 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:42.511 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:06:42.516 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:06:42.521 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.522 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.529 +03:00 [DBG] Committing transaction.
2024-09-09 15:06:42.533 +03:00 [DBG] Committed transaction.
2024-09-09 15:06:42.538 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.541 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:06:42.545 +03:00 [DBG] Disposing transaction.
2024-09-09 15:06:42.548 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.552 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.554 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:06:42.556 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:06:42.558 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:06:42.560 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:06:42.563 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:06:42.564 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:42.566 +03:00 [DBG] Running health checks
2024-09-09 15:06:42.567 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:06:42.568 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.1397ms with message 'Database is available.'
2024-09-09 15:06:42.570 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 4.5609ms
2024-09-09 15:06:42.572 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" completed keep alive response.
2024-09-09 15:06:42.573 +03:00 [INF] Received HTTP response headers after 13.3763ms - 200
2024-09-09 15:06:42.573 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 13.2376ms
2024-09-09 15:06:42.575 +03:00 [INF] End processing HTTP request after 18.7257ms - 200
2024-09-09 15:06:42.581 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.582 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.584 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.585 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.586 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:42.587 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.590 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.598 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.600 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.602 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.603 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 15:06:42.605 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.606 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.607 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:06:42.609 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.610 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.611 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.612 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.614 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:42.615 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.618 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.621 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.622 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.624 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.625 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.627 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:06:42.628 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.629 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.631 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.632 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.634 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.635 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.637 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:06:42.638 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.640 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.641 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:06:42.643 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:06:42.644 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.644 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.646 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.647 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.649 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.651 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.652 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.654 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.655 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.657 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:42.658 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.660 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.663 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.664 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.666 +03:00 [DBG] Committing transaction.
2024-09-09 15:06:42.670 +03:00 [DBG] Committed transaction.
2024-09-09 15:06:42.671 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.672 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.674 +03:00 [DBG] Disposing transaction.
2024-09-09 15:06:42.674 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.676 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.678 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:06:42.679 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:06:42.680 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:06:42.682 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:06:42.684 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:06:42.684 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:42.685 +03:00 [DBG] Running health checks
2024-09-09 15:06:42.686 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:06:42.713 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.0629ms with message 'Ping successful.'
2024-09-09 15:06:42.716 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 30.2351ms
2024-09-09 15:06:42.717 +03:00 [DBG] Connection id "0HN6GOVEO1G8A" completed keep alive response.
2024-09-09 15:06:42.717 +03:00 [INF] Received HTTP response headers after 36.6015ms - 200
2024-09-09 15:06:42.718 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 36.7324ms
2024-09-09 15:06:42.720 +03:00 [INF] End processing HTTP request after 40.8657ms - 200
2024-09-09 15:06:42.724 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.725 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.726 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.727 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:06:42.728 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.729 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.733 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.736 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.738 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.740 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.741 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:06:42.743 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.744 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.745 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:06:42.746 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.747 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.749 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.750 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.751 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:06:42.753 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.755 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:06:42.758 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.759 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.761 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.762 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.764 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:06:42.765 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.766 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:06:42.767 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.768 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.770 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:06:42.771 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.773 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:06:42.774 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.776 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.777 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:06:42.778 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:06:42.779 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.780 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.782 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:42.801 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.804 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.807 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.808 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.810 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:06:42.812 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:06:42.814 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:06:42.815 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.819 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:06:42.822 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.823 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:06:42.825 +03:00 [DBG] Committing transaction.
2024-09-09 15:06:42.828 +03:00 [DBG] Committed transaction.
2024-09-09 15:06:42.829 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:06:42.830 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:42.832 +03:00 [DBG] Disposing transaction.
2024-09-09 15:06:42.833 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.835 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:06:42.836 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:06:42.838 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:06:42.839 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:06:42.840 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:06:42.841 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:06:42.842 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:06:43.062 +03:00 [DBG] Connection id "0HN6GOVEO1G8D" accepted.
2024-09-09 15:06:43.064 +03:00 [DBG] Connection id "0HN6GOVEO1G8D" started.
2024-09-09 15:06:43.077 +03:00 [DBG] Connection 0HN6GOVEO1G8D established using the following protocol: "Tls12"
2024-09-09 15:06:43.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/index.html - null null
2024-09-09 15:06:43.154 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-09 15:06:43.157 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:43.266 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-09 15:06:43.296 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-09 15:06:43.299 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/index.html - 200 null text/html;charset=utf-8 179.6539ms
2024-09-09 15:06:43.335 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - null null
2024-09-09 15:06:43.336 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_vs/browserLink - null null
2024-09-09 15:06:43.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 10.6877ms
2024-09-09 15:06:43.404 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.9108ms
2024-09-09 15:06:43.669 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - null null
2024-09-09 15:06:43.672 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-09 15:06:43.673 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:06:43.916 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 247.3976ms
2024-09-09 15:42:53.136 +03:00 [DBG] This is a debug message
2024-09-09 15:42:53.202 +03:00 [INF] This is an info message
2024-09-09 15:42:53.204 +03:00 [WRN] This is a warning message
2024-09-09 15:42:53.206 +03:00 [ERR] This is an error message
2024-09-09 15:42:53.207 +03:00 [FTL] This is a fatal message
2024-09-09 15:42:54.192 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-09 15:42:54.396 +03:00 [DBG] Hosting starting
2024-09-09 15:42:54.475 +03:00 [INF] User profile is available. Using 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-09 15:42:54.487 +03:00 [INF] Initializing UI Database
2024-09-09 15:42:54.744 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-09 15:42:55.811 +03:00 [DBG] The property 'HealthCheckExecutionEntry.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 15:42:55.814 +03:00 [DBG] The property 'HealthCheckExecutionHistory.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 15:42:56.064 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:42:56.116 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:42:56.144 +03:00 [DBG] Created DbConnection. (24ms).
2024-09-09 15:42:56.153 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:56.185 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.197 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:56.208 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:42:56.224 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-09 15:42:56.225 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:42:56.227 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:42:56.238 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (10ms).
2024-09-09 15:42:56.242 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (19ms).
2024-09-09 15:42:56.247 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:56.256 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.273 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 15:42:56.352 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 15:42:56.365 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.375 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (9ms).
2024-09-09 15:42:56.413 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:56.416 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.419 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:56.422 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:42:56.424 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:42:56.428 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 15:42:56.436 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 15:42:56.451 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.457 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 15:42:56.461 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.463 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:56.580 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()
    .Any()'
2024-09-09 15:42:56.885 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Configurations AS c)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 15:42:56.936 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:56.940 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.943 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:56.945 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:42:56.949 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:42:56.951 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 15:42:56.956 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 15:42:56.964 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.966 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:42:56.970 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:56.973 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:42:56.982 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()'
2024-09-09 15:42:57.056 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: HealthCheckConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckConfiguration.DiscoveryService (string) MaxLength(100), 1], [Property: HealthCheckConfiguration.Name (string) Required MaxLength(500), 2], [Property: HealthCheckConfiguration.Uri (string) Required MaxLength(500), 3] }
        SELECT c.Id, c.DiscoveryService, c.Name, c.Uri
        FROM Configurations AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Data.HealthChecksDb, 
    False, 
    False, 
    True
)'
2024-09-09 15:42:57.070 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:57.073 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:57.076 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:57.078 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:57.080 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:42:57.082 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:42:57.085 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:42:57.148 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.186 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.189 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.192 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.195 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.198 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:57.200 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 110ms reading results.
2024-09-09 15:42:57.203 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:57.205 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:57.216 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:57.222 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:57.247 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:42:57.258 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 0 entities written to the database.
2024-09-09 15:42:57.265 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:42:57.268 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:57.270 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:42:57.280 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-708ff948-4064-4637-b437-6d3d4d39db23.xml'.
2024-09-09 15:42:57.308 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-b1c18ae0-c8a0-4231-a320-ae7c37796e64.xml'.
2024-09-09 15:42:57.311 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-c1775fa6-7869-4e48-a739-17ea1f4d4600.xml'.
2024-09-09 15:42:57.314 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-f484012b-a04f-4d48-bbf1-e6db9c34915c.xml'.
2024-09-09 15:42:57.327 +03:00 [DBG] Found key {708ff948-4064-4637-b437-6d3d4d39db23}.
2024-09-09 15:42:57.340 +03:00 [DBG] Found key {b1c18ae0-c8a0-4231-a320-ae7c37796e64}.
2024-09-09 15:42:57.342 +03:00 [DBG] Found key {c1775fa6-7869-4e48-a739-17ea1f4d4600}.
2024-09-09 15:42:57.344 +03:00 [DBG] Found key {f484012b-a04f-4d48-bbf1-e6db9c34915c}.
2024-09-09 15:42:57.357 +03:00 [DBG] Considering key {708ff948-4064-4637-b437-6d3d4d39db23} with expiration date 2024-11-18 12:06:14Z as default key.
2024-09-09 15:42:57.365 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 15:42:57.368 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-09 15:42:57.373 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 15:42:57.378 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-09 15:42:57.382 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-09 15:42:57.386 +03:00 [DBG] Using key {708ff948-4064-4637-b437-6d3d4d39db23} as the default key.
2024-09-09 15:42:57.389 +03:00 [DBG] Key ring with default key {708ff948-4064-4637-b437-6d3d4d39db23} was loaded during application startup.
2024-09-09 15:42:57.715 +03:00 [DBG] Connection id "0HN6GPJNBSVUO" received FIN.
2024-09-09 15:42:57.727 +03:00 [INF] Now listening on: https://localhost:7227
2024-09-09 15:42:57.728 +03:00 [INF] Now listening on: http://localhost:5174
2024-09-09 15:42:57.730 +03:00 [DBG] Connection id "0HN6GPJNBSVUO" accepted.
2024-09-09 15:42:57.731 +03:00 [DBG] Loaded hosting startup assembly MyApi
2024-09-09 15:42:57.736 +03:00 [DBG] Connection id "0HN6GPJNBSVUO" started.
2024-09-09 15:42:57.737 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-09 15:42:57.741 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-09 15:42:57.773 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-09 15:42:57.831 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:42:57.861 +03:00 [DBG] Connection id "0HN6GPJNBSVUO" stopped.
2024-09-09 15:42:57.867 +03:00 [DBG] Connection id "0HN6GPJNBSVUO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 15:42:57.896 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:42:57.903 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:42:57.904 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:42:57.908 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:57.915 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:57.918 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:57.921 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:42:57.925 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 15:42:57.929 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:42:57.933 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:42:57.938 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.940 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.943 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.946 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.948 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:57.951 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:57.953 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 15:42:57.955 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:57.958 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:57.997 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:42:58.002 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:42:58.031 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-09 15:42:58.034 +03:00 [INF] Hosting environment: Development
2024-09-09 15:42:58.037 +03:00 [INF] Content root path: C:\Users\Viktor\source\repos\MyApi\MyApi
2024-09-09 15:42:58.038 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" accepted.
2024-09-09 15:42:58.040 +03:00 [DBG] Hosting started
2024-09-09 15:42:58.043 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" started.
2024-09-09 15:42:58.048 +03:00 [DBG] Connection id "0HN6GPJNBSVUQ" accepted.
2024-09-09 15:42:58.060 +03:00 [DBG] Connection id "0HN6GPJNBSVUQ" started.
2024-09-09 15:42:58.128 +03:00 [DBG] Connection 0HN6GPJNBSVUQ established using the following protocol: "Tls12"
2024-09-09 15:42:58.128 +03:00 [DBG] Connection 0HN6GPJNBSVUP established using the following protocol: "Tls12"
2024-09-09 15:42:58.217 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:42:58.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/index.html - null null
2024-09-09 15:42:58.246 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-09 15:42:58.299 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-09 15:42:58.299 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:42:58.302 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:42:58.303 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:42:58.310 +03:00 [DBG] Running health checks
2024-09-09 15:42:58.315 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:42:58.315 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:42:58.315 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:42:58.347 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 18.4624ms with message 'Database is available.'
2024-09-09 15:42:58.347 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 32.5347ms with message 'Available memory: 132694016 bytes.'
2024-09-09 15:42:58.375 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 60.0636ms with message 'Ping successful.'
2024-09-09 15:42:58.393 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 73.8511ms
2024-09-09 15:42:58.505 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:42:58.509 +03:00 [INF] Received HTTP response headers after 496.7941ms - 200
2024-09-09 15:42:58.509 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 306.6931ms
2024-09-09 15:42:58.513 +03:00 [INF] End processing HTTP request after 518.9935ms - 200
2024-09-09 15:42:58.544 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-09 15:42:58.586 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-09 15:42:58.591 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/index.html - 200 null text/html;charset=utf-8 390.0292ms
2024-09-09 15:42:58.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - null null
2024-09-09 15:42:58.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_vs/browserLink - null null
2024-09-09 15:42:58.639 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckExecution>()
    .Include(le => le.History)
    .Include(le => le.Entries)
    .Where(le => le.Name == __configuration_Name_0)
    .SingleOrDefault()'
2024-09-09 15:42:58.652 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 20.3726ms
2024-09-09 15:42:58.684 +03:00 [DBG] Including navigation: 'HealthCheckExecution.History'.
2024-09-09 15:42:58.689 +03:00 [DBG] Including navigation: 'HealthCheckExecution.Entries'.
2024-09-09 15:42:58.725 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.9118ms
2024-09-09 15:42:58.901 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-09 15:42:58.922 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckExecution>(
    asyncEnumerable: new SingleQueryingEnumerable<HealthCheckExecution>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: HealthCheckExecution.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckExecution.DiscoveryService (string) MaxLength(50), 1], [Property: HealthCheckExecution.LastExecuted (DateTime) Required, 2], [Property: HealthCheckExecution.Name (string) Required MaxLength(500), 3], [Property: HealthCheckExecution.OnStateFrom (DateTime) Required, 4], [Property: HealthCheckExecution.Status (UIHealthStatus) Required, 5], [Property: HealthCheckExecution.Uri (string) Required MaxLength(500), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionHistory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: HealthCheckExecutionHistory.Description (string), 8], [Property: HealthCheckExecutionHistory.HealthCheckExecutionId (no field, int?) Shadow FK Index, 9], [Property: HealthCheckExecutionHistory.Name (string) MaxLength(500), 10], [Property: HealthCheckExecutionHistory.On (DateTime) Required, 11], [Property: HealthCheckExecutionHistory.Status (UIHealthStatus) Required MaxLength(50), 12] }
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionEntry.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: HealthCheckExecutionEntry.Description (string), 14], [Property: HealthCheckExecutionEntry.Duration (TimeSpan) Required, 15], [Property: HealthCheckExecutionEntry.HealthCheckExecutionId (no field, int?) Shadow FK Index, 16], [Property: HealthCheckExecutionEntry.Name (string) Required MaxLength(500), 17], [Property: HealthCheckExecutionEntry.Status (UIHealthStatus) Required, 18], [Property: HealthCheckExecutionEntry.Tags (List<string>), 19] }
                5 -> 13
            SELECT t.Id, t.DiscoveryService, t.LastExecuted, t.Name, t.OnStateFrom, t.Status, t.Uri, h.Id, h.Description, h.HealthCheckExecutionId, h.Name, h.On, h.Status, h0.Id, h0.Description, h0.Duration, h0.HealthCheckExecutionId, h0.Name, h0.Status, h0.Tags
            FROM 
            (
                SELECT TOP(2) e.Id, e.DiscoveryService, e.LastExecuted, e.Name, e.OnStateFrom, e.Status, e.Uri
                FROM Executions AS e
                WHERE e.Name == @__configuration_Name_0
            ) AS t
            LEFT JOIN HealthCheckExecutionHistories AS h ON t.Id == h.HealthCheckExecutionId
            LEFT JOIN HealthCheckExecutionEntries AS h0 ON t.Id == h0.HealthCheckExecutionId
            ORDER BY t.Id ASC, h.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckExecution>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 15:42:58.950 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:58.952 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:58.955 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:58.956 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:58.961 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 15:42:58.969 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:58.987 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.026 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.067 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.069 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 74ms reading results.
2024-09-09 15:42:59.074 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.078 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:42:59.085 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:42:59.094 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.096 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.099 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.101 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.104 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:42:59.106 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.113 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.119 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.121 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:42:59.125 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.128 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:59.130 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:42:59.135 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:59.138 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:59.142 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - null null
2024-09-09 15:42:59.146 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-09 15:42:59.148 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:42:59.153 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:42:59.173 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.196 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:42:59.339 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.342 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.348 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.350 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.357 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 15:42:59.359 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:42:59.365 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:42:59.380 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.383 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 15:42:59.387 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.389 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:59.401 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.405 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:42:59.408 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:42:59.410 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:42:59.416 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:42:59.422 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:42:59.424 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:42:59.427 +03:00 [DBG] Running health checks
2024-09-09 15:42:59.429 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:42:59.430 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:42:59.429 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:42:59.442 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 300.8657ms
2024-09-09 15:42:59.440 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 10.9063ms with message 'Database is available.'
2024-09-09 15:42:59.453 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 24.2585ms with message 'Available memory: 142819328 bytes.'
2024-09-09 15:42:59.469 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 38.884ms with message 'Ping successful.'
2024-09-09 15:42:59.473 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 45.6965ms
2024-09-09 15:42:59.476 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:42:59.476 +03:00 [INF] Received HTTP response headers after 63.5374ms - 200
2024-09-09 15:42:59.478 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 61.4511ms
2024-09-09 15:42:59.479 +03:00 [INF] End processing HTTP request after 71.1949ms - 200
2024-09-09 15:42:59.488 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.491 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.493 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.494 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.496 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:42:59.498 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.503 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.508 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.510 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:42:59.514 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.516 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:59.518 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:42:59.520 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.522 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.525 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.527 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.529 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:42:59.531 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.536 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.543 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.545 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:42:59.549 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.551 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:59.554 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:42:59.555 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:59.557 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:59.559 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:42:59.561 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.564 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:42:59.568 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.571 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.573 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.575 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.577 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:42:59.579 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:42:59.584 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:42:59.592 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.594 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:42:59.598 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.601 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:59.604 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.607 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:42:59.609 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:42:59.611 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:42:59.615 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:42:59.619 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:42:59.621 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:42:59.622 +03:00 [DBG] Running health checks
2024-09-09 15:42:59.625 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:42:59.634 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.4635ms with message 'Available memory: 143085568 bytes.'
2024-09-09 15:42:59.638 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 15.65ms
2024-09-09 15:42:59.677 +03:00 [INF] Received HTTP response headers after 63.4346ms - 200
2024-09-09 15:42:59.677 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:42:59.679 +03:00 [INF] End processing HTTP request after 69.6326ms - 200
2024-09-09 15:42:59.683 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 68.0859ms
2024-09-09 15:42:59.709 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.712 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.717 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.719 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:42:59.722 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:42:59.725 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.735 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.745 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.772 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.811 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.840 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.842 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 97ms reading results.
2024-09-09 15:42:59.845 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.847 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:42:59.850 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:42:59.852 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.855 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.857 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.859 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.861 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:42:59.863 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.869 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:42:59.875 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.877 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:42:59.881 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.885 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:42:59.888 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:42:59.893 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:59.896 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:42:59.899 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:42:59.902 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.924 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:42:59.927 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:42:59.936 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:42:59.946 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:42:59.959 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:42:59.961 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.966 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:42:59.973 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:42:59.976 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:42:59.978 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:42:59.983 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 15:42:59.984 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:42:59.989 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:42:59.993 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:42:59.994 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:42:59.998 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.000 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.003 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:00.006 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:00.011 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:00.016 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.017 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:00.026 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:00.031 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:00.037 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.040 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:00.046 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:00.048 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.053 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.056 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:00.058 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:00.060 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:00.063 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:43:00.067 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:43:00.068 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:00.070 +03:00 [DBG] Running health checks
2024-09-09 15:43:00.071 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:00.073 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0312ms with message 'Database is available.'
2024-09-09 15:43:00.076 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.2763ms
2024-09-09 15:43:00.079 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:00.079 +03:00 [INF] Received HTTP response headers after 17.7353ms - 200
2024-09-09 15:43:00.082 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 18.8624ms
2024-09-09 15:43:00.084 +03:00 [INF] End processing HTTP request after 25.8682ms - 200
2024-09-09 15:43:00.091 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.093 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.095 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.096 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.098 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:00.101 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.107 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.115 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.119 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.121 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.122 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 15:43:00.125 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.127 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:00.129 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:00.130 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.132 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.134 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.135 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.137 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:00.139 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.143 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.148 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.150 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:00.152 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.155 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:00.162 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:00.163 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:00.165 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:00.167 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:00.168 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.171 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:00.173 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.177 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:00.179 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.181 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.183 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:00.185 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:00.187 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.188 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.190 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:00.192 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.195 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.199 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.200 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:00.203 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.204 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.207 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:00.209 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.212 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.216 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.217 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:00.220 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:00.224 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:00.225 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.227 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:00.230 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:00.231 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.234 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.238 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:00.239 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:00.241 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:00.244 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:43:00.247 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:43:00.248 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:00.249 +03:00 [DBG] Running health checks
2024-09-09 15:43:00.251 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:00.279 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.2355ms with message 'Ping successful.'
2024-09-09 15:43:00.282 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.5001ms
2024-09-09 15:43:00.284 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:00.285 +03:00 [INF] Received HTTP response headers after 42.4676ms - 200
2024-09-09 15:43:00.286 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 42.2345ms
2024-09-09 15:43:00.287 +03:00 [INF] End processing HTTP request after 47.9233ms - 200
2024-09-09 15:43:00.294 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.296 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.298 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.300 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.302 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:00.304 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.308 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.313 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.315 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.318 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.319 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:43:00.322 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.325 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:00.354 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:00.356 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.358 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.360 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.362 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.364 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:00.366 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.371 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:00.376 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.378 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:00.381 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.383 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:00.385 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:00.386 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:00.388 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:00.390 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:00.392 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.396 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:00.398 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.402 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:00.404 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.406 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.409 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:00.411 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:00.412 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.414 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.416 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:00.418 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.422 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.428 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.430 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:00.432 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:00.434 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:00.435 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:00.437 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.441 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:00.445 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.447 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:00.449 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:00.451 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:00.452 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:00.455 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:00.458 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:00.459 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.462 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:00.466 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:00.468 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:43:00.471 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:43:00.473 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:43:00.474 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:00.476 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:10.483 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:43:10.630 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:43:10.636 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:43:10.638 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:43:10.640 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:10.644 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.649 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:10.650 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:10.653 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:10.656 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:10.659 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:10.663 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.671 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.675 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.678 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.681 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.685 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.687 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 24ms reading results.
2024-09-09 15:43:10.691 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.698 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 15:43:10.705 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:10.707 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:10.710 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:10.715 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:10.716 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:10.718 +03:00 [DBG] Running health checks
2024-09-09 15:43:10.720 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:10.720 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:10.720 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:10.726 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 5.9213ms with message 'Database is available.'
2024-09-09 15:43:10.734 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 13.7621ms with message 'Available memory: 154603520 bytes.'
2024-09-09 15:43:10.749 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.6495ms with message 'Ping successful.'
2024-09-09 15:43:10.753 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.1149ms
2024-09-09 15:43:10.756 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:10.756 +03:00 [INF] Received HTTP response headers after 47.4247ms - 200
2024-09-09 15:43:10.758 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 47.7889ms
2024-09-09 15:43:10.760 +03:00 [INF] End processing HTTP request after 54.9663ms - 200
2024-09-09 15:43:10.771 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:10.776 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.779 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:10.781 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:10.785 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:10.788 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:10.797 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:10.805 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.809 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.811 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:43:10.814 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.816 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:10.819 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:10.822 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:10.824 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.828 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:10.831 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:10.834 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:10.837 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:10.848 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:10.856 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.858 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:10.861 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.864 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:10.866 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:10.868 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:10.871 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:10.873 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:10.876 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.880 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:10.884 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:10.886 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.889 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:10.891 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:10.894 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:10.896 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:10.902 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:10.910 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.913 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:43:10.920 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:10.923 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:10.925 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:10.929 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:10.932 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:10.934 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:10.939 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:10.944 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:10.949 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:10.951 +03:00 [DBG] Running health checks
2024-09-09 15:43:10.953 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:10.953 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:10.953 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:10.956 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.8836ms with message 'Database is available.'
2024-09-09 15:43:10.969 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 15.2729ms with message 'Available memory: 154980352 bytes.'
2024-09-09 15:43:10.984 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.4325ms with message 'Ping successful.'
2024-09-09 15:43:10.988 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.74ms
2024-09-09 15:43:10.992 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:10.992 +03:00 [INF] Received HTTP response headers after 54.9553ms - 200
2024-09-09 15:43:10.996 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 56.4412ms
2024-09-09 15:43:10.998 +03:00 [INF] End processing HTTP request after 65.7819ms - 200
2024-09-09 15:43:11.007 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.009 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.012 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.014 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.016 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.018 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.025 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.034 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.036 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.039 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.041 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.044 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:11.047 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.049 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.051 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.052 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.055 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.058 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.064 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.072 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.073 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.077 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.080 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:11.083 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:11.085 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.086 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.088 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.090 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.093 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:11.096 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.098 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.101 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.102 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.104 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.106 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.111 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.118 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.121 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:43:11.124 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.127 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:11.131 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.134 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:11.137 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:11.138 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:11.142 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:43:11.145 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:43:11.146 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:11.148 +03:00 [DBG] Running health checks
2024-09-09 15:43:11.149 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:11.159 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.7948ms with message 'Available memory: 155488256 bytes.'
2024-09-09 15:43:11.163 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 14.7888ms
2024-09-09 15:43:11.165 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:11.165 +03:00 [INF] Received HTTP response headers after 25.4303ms - 200
2024-09-09 15:43:11.167 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 25.1642ms
2024-09-09 15:43:11.168 +03:00 [INF] End processing HTTP request after 31.594ms - 200
2024-09-09 15:43:11.176 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.177 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.180 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.181 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.183 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.185 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.192 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.198 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.201 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.206 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.209 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.211 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 15:43:11.214 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.217 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.219 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:11.221 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.223 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.226 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.227 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.229 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.231 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.236 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.243 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.245 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.248 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.251 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.253 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:11.255 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.256 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.259 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.261 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.264 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.267 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.271 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.274 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:11.277 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.279 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.282 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:11.284 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:11.287 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.289 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.291 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:11.294 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.301 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.308 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.310 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.314 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.316 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.319 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:11.321 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:11.327 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:11.332 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.334 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.337 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:11.340 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:11.341 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.344 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.346 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:11.348 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.351 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.355 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:11.358 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:11.359 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:11.364 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:43:11.367 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:43:11.369 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:11.370 +03:00 [DBG] Running health checks
2024-09-09 15:43:11.372 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:11.374 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.781ms with message 'Database is available.'
2024-09-09 15:43:11.377 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 7.0035ms
2024-09-09 15:43:11.380 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:11.380 +03:00 [INF] Received HTTP response headers after 18.4622ms - 200
2024-09-09 15:43:11.382 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 17.9444ms
2024-09-09 15:43:11.383 +03:00 [INF] End processing HTTP request after 25.6067ms - 200
2024-09-09 15:43:11.390 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.392 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.394 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.395 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.397 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.399 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.405 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.410 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.414 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.417 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.419 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 15:43:11.423 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.425 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.427 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:11.429 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.431 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.433 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.434 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.436 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:11.439 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.443 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.449 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.450 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:11.453 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.456 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.458 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:11.459 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.460 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.462 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.464 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.467 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.469 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.472 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:11.474 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.476 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.478 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:11.480 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:11.482 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.484 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:11.486 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:11.488 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.491 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.495 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.496 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:11.498 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.500 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.502 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.503 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.506 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.510 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.512 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.516 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:11.518 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:11.519 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.521 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:11.522 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:11.524 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.527 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.532 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:11.534 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:11.536 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:11.539 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:43:11.543 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:43:11.544 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:11.546 +03:00 [DBG] Running health checks
2024-09-09 15:43:11.548 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:11.576 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.9887ms with message 'Ping successful.'
2024-09-09 15:43:11.579 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.9898ms
2024-09-09 15:43:11.582 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:11.583 +03:00 [INF] Received HTTP response headers after 45.4542ms - 200
2024-09-09 15:43:11.584 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 45.0358ms
2024-09-09 15:43:11.585 +03:00 [INF] End processing HTTP request after 51.3157ms - 200
2024-09-09 15:43:11.595 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.597 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.599 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.601 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.603 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.605 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.610 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.616 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.618 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.621 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.623 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:43:11.626 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.629 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.631 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:11.633 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.635 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.637 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.640 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:11.642 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:11.644 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.649 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:11.655 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.657 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.660 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.662 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.664 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:11.665 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.666 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:11.668 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.671 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.674 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:11.676 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.678 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:11.680 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.682 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.684 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:11.687 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:11.689 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.690 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.693 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.694 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.698 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.701 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.703 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:11.706 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:11.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:11.710 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:11.712 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.715 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:11.719 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.721 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:11.723 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:11.726 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:11.727 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:11.729 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:11.732 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:11.733 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.737 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:11.740 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:11.741 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:43:11.743 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:43:11.744 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:43:11.746 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:11.748 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:21.754 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:43:21.763 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:43:21.767 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:43:21.768 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:43:21.770 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:21.772 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.774 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:21.776 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:21.778 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:21.780 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:21.783 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:21.786 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.789 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.791 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.793 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.796 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.798 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.800 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 15:43:21.802 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.804 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:21.806 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:21.807 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:21.810 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:21.813 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:21.814 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:21.815 +03:00 [DBG] Running health checks
2024-09-09 15:43:21.816 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:21.816 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:21.816 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:21.822 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 5.8825ms with message 'Database is available.'
2024-09-09 15:43:21.829 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.3235ms with message 'Available memory: 164188160 bytes.'
2024-09-09 15:43:21.845 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.4436ms with message 'Ping successful.'
2024-09-09 15:43:21.848 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.0174ms
2024-09-09 15:43:21.851 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:21.852 +03:00 [INF] Received HTTP response headers after 43.4166ms - 200
2024-09-09 15:43:21.853 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 42.408ms
2024-09-09 15:43:21.855 +03:00 [INF] End processing HTTP request after 48.831ms - 200
2024-09-09 15:43:21.864 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:21.866 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.869 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:21.872 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:21.874 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:21.877 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:21.884 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:21.891 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.895 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.897 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:43:21.901 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.904 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:21.907 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:21.910 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:21.912 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.915 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:21.917 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:21.919 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:21.921 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:21.925 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:21.932 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.934 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:21.937 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.939 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:21.941 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:21.942 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:21.944 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:21.945 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:21.947 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.949 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:21.951 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:21.953 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.955 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:21.956 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:21.958 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:21.960 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:21.963 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:21.966 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.968 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:21.970 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:21.972 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:21.974 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:21.976 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:21.978 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:21.979 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:21.983 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:21.986 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:21.987 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:21.989 +03:00 [DBG] Running health checks
2024-09-09 15:43:21.990 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:21.990 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:21.990 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:21.993 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.6809ms with message 'Database is available.'
2024-09-09 15:43:21.999 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.4845ms with message 'Available memory: 164548608 bytes.'
2024-09-09 15:43:22.021 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.5134ms with message 'Ping successful.'
2024-09-09 15:43:22.024 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.5231ms
2024-09-09 15:43:22.027 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:22.027 +03:00 [INF] Received HTTP response headers after 46.64ms - 200
2024-09-09 15:43:22.028 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 45.7535ms
2024-09-09 15:43:22.030 +03:00 [INF] End processing HTTP request after 51.8154ms - 200
2024-09-09 15:43:22.037 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.038 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.039 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.041 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.042 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:22.044 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.048 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.052 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.054 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:22.056 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.058 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:22.060 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:22.061 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.063 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.064 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.066 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:22.068 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.070 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.076 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.083 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.085 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:22.087 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.089 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:22.091 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:22.092 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.093 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.095 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.096 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.100 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:22.102 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.104 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.106 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.108 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:22.111 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.114 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.120 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.122 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:43:22.125 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.127 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:22.129 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.132 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:22.134 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:22.136 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:22.139 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:43:22.143 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:43:22.144 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:22.146 +03:00 [DBG] Running health checks
2024-09-09 15:43:22.147 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:22.159 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.3881ms with message 'Available memory: 170995712 bytes.'
2024-09-09 15:43:22.162 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 16.327ms
2024-09-09 15:43:22.164 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:22.165 +03:00 [INF] Received HTTP response headers after 27.0048ms - 200
2024-09-09 15:43:22.166 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 26.7802ms
2024-09-09 15:43:22.168 +03:00 [INF] End processing HTTP request after 33.192ms - 200
2024-09-09 15:43:22.174 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.175 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.178 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.180 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.181 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.183 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.188 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.193 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.195 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.197 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.199 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.201 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:43:22.204 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.205 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:22.208 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:22.210 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.211 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.214 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.216 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.218 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.220 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.226 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.232 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.234 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:22.237 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.241 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:22.243 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:22.245 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.246 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.248 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.250 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.253 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.256 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.259 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.260 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:22.263 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.264 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.267 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:22.269 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:22.271 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.274 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:22.276 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:22.279 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.285 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.295 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.300 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:43:22.305 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.306 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.308 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.309 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:22.322 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:22.335 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.338 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:22.341 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:22.344 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:22.346 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.351 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 15:43:22.353 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:22.355 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.359 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.361 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:22.363 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:22.365 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:22.369 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:43:22.372 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:43:22.373 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:22.374 +03:00 [DBG] Running health checks
2024-09-09 15:43:22.376 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:22.377 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.5555ms with message 'Database is available.'
2024-09-09 15:43:22.380 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.9411ms
2024-09-09 15:43:22.383 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:22.383 +03:00 [INF] Received HTTP response headers after 15.9914ms - 200
2024-09-09 15:43:22.384 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 15.6511ms
2024-09-09 15:43:22.386 +03:00 [INF] End processing HTTP request after 22.4156ms - 200
2024-09-09 15:43:22.396 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.398 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.400 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.402 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.404 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.405 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.413 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.420 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.423 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.426 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.429 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:43:22.432 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.435 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:22.437 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:22.438 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.440 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.442 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.443 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.445 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.447 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.453 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.459 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.461 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:22.464 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.466 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:22.468 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:22.470 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.472 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.474 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.476 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.479 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.481 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.484 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:22.486 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.488 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.489 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:22.491 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:22.492 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.494 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.495 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.497 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.500 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.504 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.506 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:22.509 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.510 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.513 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.515 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.518 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.522 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.523 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:22.526 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:22.530 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:22.531 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.535 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:22.536 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:22.537 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.540 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.542 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:22.544 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:22.546 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:22.549 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:43:22.552 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:43:22.553 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:22.555 +03:00 [DBG] Running health checks
2024-09-09 15:43:22.556 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:22.584 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.6666ms with message 'Ping successful.'
2024-09-09 15:43:22.588 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.8921ms
2024-09-09 15:43:22.590 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:22.590 +03:00 [INF] Received HTTP response headers after 42.6063ms - 200
2024-09-09 15:43:22.591 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 42.2553ms
2024-09-09 15:43:22.594 +03:00 [INF] End processing HTTP request after 49.5436ms - 200
2024-09-09 15:43:22.602 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.604 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.606 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.608 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.609 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.611 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.616 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.621 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.624 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.627 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.629 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:43:22.632 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.634 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:22.636 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:22.638 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.639 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.642 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.644 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.646 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:22.648 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.657 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:22.663 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.665 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:22.669 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.671 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:22.673 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:22.675 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.677 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:22.679 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.681 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.684 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:22.686 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.689 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:22.691 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.692 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.694 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:22.695 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:22.697 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.698 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.700 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:22.701 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.706 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.709 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.710 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:22.713 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:22.714 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:22.715 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:22.717 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.721 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:22.724 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.726 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:22.729 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:22.733 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:22.735 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:22.738 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:22.740 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:22.741 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.745 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:22.748 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:22.749 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:43:22.751 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:43:22.752 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:43:22.753 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:22.755 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:32.770 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:43:32.773 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:43:32.776 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:43:32.776 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:43:32.778 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:32.779 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.781 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:32.783 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:32.784 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:32.786 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:32.789 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:32.792 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.794 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.796 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.798 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.800 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.801 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.803 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 15:43:32.805 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.807 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:32.809 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:32.810 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:32.812 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:32.815 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:32.816 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:32.817 +03:00 [DBG] Running health checks
2024-09-09 15:43:32.818 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:32.818 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:32.818 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:32.821 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.6359ms with message 'Database is available.'
2024-09-09 15:43:32.826 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.0015ms with message 'Available memory: 176603136 bytes.'
2024-09-09 15:43:32.849 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.3736ms with message 'Ping successful.'
2024-09-09 15:43:32.852 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.8792ms
2024-09-09 15:43:32.855 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:32.855 +03:00 [INF] Received HTTP response headers after 43.9649ms - 200
2024-09-09 15:43:32.856 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 43.6664ms
2024-09-09 15:43:32.858 +03:00 [INF] End processing HTTP request after 49.337ms - 200
2024-09-09 15:43:32.865 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:32.867 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.869 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:32.870 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:32.872 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:32.874 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:32.878 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:32.883 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.885 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.887 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:43:32.889 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.891 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:32.893 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:32.895 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:32.897 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.899 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:32.901 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:32.903 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:32.905 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:32.910 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:32.915 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.918 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:32.921 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.924 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:32.926 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:32.927 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:32.929 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:32.930 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:32.932 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.935 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:32.938 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:32.939 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.941 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:32.943 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:32.945 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:32.946 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:32.950 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:32.956 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.958 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:43:32.960 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:32.962 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:32.965 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:32.967 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:32.969 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:32.970 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:32.973 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:32.976 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:32.978 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:32.979 +03:00 [DBG] Running health checks
2024-09-09 15:43:32.980 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:32.980 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:32.980 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:32.983 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.837ms with message 'Database is available.'
2024-09-09 15:43:32.990 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.9738ms with message 'Available memory: 176902144 bytes.'
2024-09-09 15:43:33.011 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.6565ms with message 'Ping successful.'
2024-09-09 15:43:33.015 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.3234ms
2024-09-09 15:43:33.018 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:33.018 +03:00 [INF] Received HTTP response headers after 45.9551ms - 200
2024-09-09 15:43:33.019 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 45.9476ms
2024-09-09 15:43:33.021 +03:00 [INF] End processing HTTP request after 51.9944ms - 200
2024-09-09 15:43:33.029 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.031 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.034 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.036 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.038 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:33.040 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.046 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.052 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.054 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:33.058 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.060 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.062 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:33.064 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.066 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.069 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.071 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.073 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:33.076 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.082 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.086 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.088 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.090 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.092 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.094 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:33.095 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.096 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.098 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.100 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.102 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:33.104 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.106 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.108 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.109 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.110 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.112 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.115 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.120 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.122 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:43:33.124 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.125 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:33.127 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.129 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:33.130 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:33.132 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:33.135 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:43:33.139 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:43:33.140 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:33.142 +03:00 [DBG] Running health checks
2024-09-09 15:43:33.143 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:33.151 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 7.4185ms with message 'Available memory: 177078272 bytes.'
2024-09-09 15:43:33.154 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 11.8204ms
2024-09-09 15:43:33.155 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:33.155 +03:00 [INF] Received HTTP response headers after 21.5633ms - 200
2024-09-09 15:43:33.157 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 21.3265ms
2024-09-09 15:43:33.158 +03:00 [INF] End processing HTTP request after 27.6715ms - 200
2024-09-09 15:43:33.165 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.167 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.169 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.171 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.173 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:33.174 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.179 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.183 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.185 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.187 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.189 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.190 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:43:33.192 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.195 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.197 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:33.199 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.201 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.203 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.204 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.205 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.207 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.212 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.216 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.217 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.219 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.221 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:33.222 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:33.224 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.226 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.228 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.230 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.233 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.235 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.237 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.240 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:33.241 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.243 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.245 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:33.246 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:33.247 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.248 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.250 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.251 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.254 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.258 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.259 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.262 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.263 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.265 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.266 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:33.269 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:33.273 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.274 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.276 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:33.278 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:33.279 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.282 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.284 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:33.285 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.287 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.289 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:33.291 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:33.292 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:33.295 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:43:33.298 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:43:33.299 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:33.301 +03:00 [DBG] Running health checks
2024-09-09 15:43:33.302 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:33.304 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.9298ms with message 'Database is available.'
2024-09-09 15:43:33.307 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.1707ms
2024-09-09 15:43:33.309 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:33.309 +03:00 [INF] Received HTTP response headers after 15.4714ms - 200
2024-09-09 15:43:33.310 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 15.3717ms
2024-09-09 15:43:33.312 +03:00 [INF] End processing HTTP request after 20.9451ms - 200
2024-09-09 15:43:33.317 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.319 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.321 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.323 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.324 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.326 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.329 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.334 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.336 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.338 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.340 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:43:33.344 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.347 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:33.350 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:33.352 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.354 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.356 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.358 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.360 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:33.363 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.371 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.378 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.380 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:33.384 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.388 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:33.391 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:33.394 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.396 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.400 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.403 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.407 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.409 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.412 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:33.415 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.417 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.419 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:33.420 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:33.422 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.424 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.425 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:33.427 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.430 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.433 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.434 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.436 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.437 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.438 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.440 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.443 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.446 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.448 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.450 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:33.452 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:33.454 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.456 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.458 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:33.459 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.462 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.464 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:33.466 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:33.468 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:33.470 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:43:33.474 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:43:33.475 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:33.477 +03:00 [DBG] Running health checks
2024-09-09 15:43:33.479 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:33.507 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.1798ms with message 'Ping successful.'
2024-09-09 15:43:33.509 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.4406ms
2024-09-09 15:43:33.511 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:33.512 +03:00 [INF] Received HTTP response headers after 42.6298ms - 200
2024-09-09 15:43:33.513 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 42.2832ms
2024-09-09 15:43:33.514 +03:00 [INF] End processing HTTP request after 48.3907ms - 200
2024-09-09 15:43:33.520 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.522 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.524 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.526 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.527 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.529 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.533 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.537 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.539 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.540 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.543 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:43:33.545 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.548 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.550 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:33.551 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.553 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.555 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.556 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:33.563 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 15:43:33.565 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.571 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:33.578 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.580 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:33.582 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.585 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:33.588 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:33.590 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.592 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:33.594 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.598 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.604 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:33.609 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.614 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:33.616 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.618 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.621 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:33.623 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:33.625 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.627 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.629 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:33.632 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.636 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.639 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.641 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.645 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:33.647 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:33.650 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:33.653 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.657 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:33.660 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.662 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:33.664 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:33.668 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:33.669 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:33.671 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:33.673 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:33.674 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.676 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:33.678 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:33.680 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:43:33.681 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:43:33.683 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:43:33.684 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:33.686 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:43.704 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:43:43.708 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:43:43.710 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:43:43.712 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:43:43.713 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:43.715 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.717 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:43.719 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:43.722 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:43.724 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:43.727 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:43.730 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.733 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.735 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.737 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.739 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.741 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.743 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 15:43:43.746 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.748 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:43.751 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:43.753 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:43.757 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:43.760 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:43.762 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:43.763 +03:00 [DBG] Running health checks
2024-09-09 15:43:43.764 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:43.764 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:43.764 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:43.767 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.3336ms with message 'Database is available.'
2024-09-09 15:43:43.772 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.3456ms with message 'Available memory: 182910976 bytes.'
2024-09-09 15:43:43.795 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.141ms with message 'Ping successful.'
2024-09-09 15:43:43.799 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.885ms
2024-09-09 15:43:43.801 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:43.801 +03:00 [INF] Received HTTP response headers after 45.6982ms - 200
2024-09-09 15:43:43.802 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 45.3732ms
2024-09-09 15:43:43.803 +03:00 [INF] End processing HTTP request after 52.3979ms - 200
2024-09-09 15:43:43.810 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:43.812 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.814 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:43.816 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:43.817 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:43.818 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:43.822 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:43.826 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.827 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.829 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:43:43.831 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.833 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:43.835 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:43.836 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:43.837 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.839 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:43.840 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:43.842 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:43.843 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:43.848 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:43.852 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.853 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:43.855 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.857 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:43.858 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:43.860 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:43.861 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:43.863 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:43.865 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.867 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:43.869 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:43.870 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.872 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:43.874 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:43.876 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:43.877 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:43.880 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:43.884 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.886 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:43.888 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.891 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:43.894 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:43.897 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:43.899 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:43.901 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:43.905 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:43.908 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:43.910 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:43.912 +03:00 [DBG] Running health checks
2024-09-09 15:43:43.913 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:43.913 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:43.913 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:43.916 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.0214ms with message 'Database is available.'
2024-09-09 15:43:43.923 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.2903ms with message 'Available memory: 183791616 bytes.'
2024-09-09 15:43:43.944 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.8648ms with message 'Ping successful.'
2024-09-09 15:43:43.948 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.0854ms
2024-09-09 15:43:43.950 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:43.950 +03:00 [INF] Received HTTP response headers after 46.7611ms - 200
2024-09-09 15:43:43.952 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 47.4392ms
2024-09-09 15:43:43.954 +03:00 [INF] End processing HTTP request after 54.5981ms - 200
2024-09-09 15:43:43.961 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:43.963 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.965 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:43.968 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:43.970 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:43.972 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:43.977 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:43.982 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.984 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:43.987 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.989 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:43.990 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:43.992 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:43.993 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:43.996 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:43.997 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:43.999 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.001 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.005 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.008 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.009 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.012 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.014 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:44.017 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:44.018 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.020 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.021 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.023 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.026 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:44.027 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.029 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.031 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.032 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.033 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:44.035 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.038 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.043 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.045 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:43:44.047 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.049 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:44.051 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.053 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:44.054 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:44.056 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:44.059 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:43:44.061 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:43:44.063 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:44.064 +03:00 [DBG] Running health checks
2024-09-09 15:43:44.065 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:44.074 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.2628ms with message 'Available memory: 184082432 bytes.'
2024-09-09 15:43:44.076 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 12.4996ms
2024-09-09 15:43:44.078 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:44.078 +03:00 [INF] Received HTTP response headers after 20.4844ms - 200
2024-09-09 15:43:44.079 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 20.1148ms
2024-09-09 15:43:44.080 +03:00 [INF] End processing HTTP request after 25.9518ms - 200
2024-09-09 15:43:44.086 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.088 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.089 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.091 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.092 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.095 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.100 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.105 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.107 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.108 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.110 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.112 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:43:44.114 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.116 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:44.117 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:44.119 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.121 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.123 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.124 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.126 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.127 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.131 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.137 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.139 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:44.141 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.143 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:44.146 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:44.147 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.148 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.150 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.153 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.155 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.157 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.160 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.162 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:44.164 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.165 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.167 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:44.168 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:44.170 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.171 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.172 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:44.174 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.177 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.180 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.182 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.184 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.186 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.188 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.190 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:44.193 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:44.196 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.198 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.200 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:44.204 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:44.205 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.208 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:44.210 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:44.211 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.214 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.218 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:44.220 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:44.222 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:44.225 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:43:44.228 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:43:44.229 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:44.230 +03:00 [DBG] Running health checks
2024-09-09 15:43:44.231 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:44.233 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.7402ms with message 'Database is available.'
2024-09-09 15:43:44.235 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.6295ms
2024-09-09 15:43:44.237 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:44.238 +03:00 [INF] Received HTTP response headers after 13.95ms - 200
2024-09-09 15:43:44.239 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 13.7885ms
2024-09-09 15:43:44.240 +03:00 [INF] End processing HTTP request after 20.1328ms - 200
2024-09-09 15:43:44.247 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.249 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.251 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.252 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.254 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.256 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.260 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.265 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.267 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.269 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.271 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:43:44.272 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.274 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:44.276 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:44.278 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.280 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.282 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.283 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.285 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.287 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.291 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.297 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.299 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.301 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.302 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:44.304 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:44.305 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.306 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.308 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.310 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.312 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.314 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.317 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:44.319 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.320 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.323 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:44.325 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:44.328 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.330 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.332 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:44.335 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.339 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.343 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.345 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:44.349 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.350 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.352 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.355 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.360 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.364 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.366 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.368 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:44.372 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:44.373 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.376 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:44.378 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:44.379 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.381 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.384 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:44.386 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:44.388 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:44.392 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:43:44.395 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:43:44.396 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:44.398 +03:00 [DBG] Running health checks
2024-09-09 15:43:44.399 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:44.426 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.4872ms with message 'Ping successful.'
2024-09-09 15:43:44.430 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.2226ms
2024-09-09 15:43:44.432 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:44.432 +03:00 [INF] Received HTTP response headers after 41.5642ms - 200
2024-09-09 15:43:44.434 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 41.9112ms
2024-09-09 15:43:44.436 +03:00 [INF] End processing HTTP request after 49.8523ms - 200
2024-09-09 15:43:44.443 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.445 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.448 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.451 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:44.454 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:44.456 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.466 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.471 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.475 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.477 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.479 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:43:44.482 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.484 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:44.486 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:44.488 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.489 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.491 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.492 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.494 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:44.496 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.501 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:44.505 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.506 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.508 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.510 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:44.512 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:44.513 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.514 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:44.516 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.517 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.519 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:44.521 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.523 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:44.525 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.526 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.528 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:44.530 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:44.531 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.532 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.534 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:44.535 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.538 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.541 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.542 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:44.545 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:44.546 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:44.547 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:44.548 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.551 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:44.555 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.558 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:44.561 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:44.564 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:44.565 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:44.567 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:44.569 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:44.570 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.572 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:44.574 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:44.576 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:43:44.577 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:43:44.578 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:43:44.579 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:44.581 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:54.584 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:43:54.587 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:43:54.591 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:43:54.592 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:43:54.594 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:54.597 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.601 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:54.604 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:54.606 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:54.608 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:54.611 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:43:54.615 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.617 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.619 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.622 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.626 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.628 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.632 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 17ms reading results.
2024-09-09 15:43:54.635 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.639 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:54.641 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:54.643 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:54.647 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:54.650 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:54.652 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:54.654 +03:00 [DBG] Running health checks
2024-09-09 15:43:54.655 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:54.655 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:54.655 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:54.659 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.2816ms with message 'Database is available.'
2024-09-09 15:43:54.668 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.9935ms with message 'Available memory: 184602624 bytes.'
2024-09-09 15:43:54.690 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 34.8263ms with message 'Ping successful.'
2024-09-09 15:43:54.696 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 42.7903ms
2024-09-09 15:43:54.701 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:54.702 +03:00 [INF] Received HTTP response headers after 56.9661ms - 200
2024-09-09 15:43:54.706 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 59.9435ms
2024-09-09 15:43:54.713 +03:00 [INF] End processing HTTP request after 71.9427ms - 200
2024-09-09 15:43:54.727 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:54.729 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.731 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:54.733 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:54.736 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:54.738 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.745 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.752 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.754 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.756 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:43:54.759 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.761 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:43:54.764 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:54.765 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:54.768 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.771 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:54.773 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:54.777 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:54.781 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.788 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.792 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.794 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:54.796 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.798 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:54.800 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:54.801 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:54.803 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:54.805 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:54.807 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.810 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:54.811 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:54.813 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.815 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:54.816 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:54.819 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:54.821 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:54.829 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:54.837 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.838 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:43:54.842 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.844 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:54.847 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:54.851 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:54.854 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:43:54.856 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:43:54.860 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:43:54.863 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:43:54.864 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:54.866 +03:00 [DBG] Running health checks
2024-09-09 15:43:54.868 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:54.868 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:54.868 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:54.871 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.5238ms with message 'Database is available.'
2024-09-09 15:43:54.876 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 7.946ms with message 'Available memory: 184913920 bytes.'
2024-09-09 15:43:54.900 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.9951ms with message 'Ping successful.'
2024-09-09 15:43:54.904 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.6827ms
2024-09-09 15:43:54.907 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:54.908 +03:00 [INF] Received HTTP response headers after 49.4945ms - 200
2024-09-09 15:43:54.910 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 50.6933ms
2024-09-09 15:43:54.912 +03:00 [INF] End processing HTTP request after 58.5203ms - 200
2024-09-09 15:43:54.923 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:54.926 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.932 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:54.934 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:54.937 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:54.939 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.945 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.953 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.955 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:54.957 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.960 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:54.963 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:54.965 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:54.967 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.969 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:54.971 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:54.973 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:54.975 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.982 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:54.989 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.990 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:43:54.994 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:54.997 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:54.999 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:55.001 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.003 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.006 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.009 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.013 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:55.015 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.018 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.020 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.022 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.025 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:55.027 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.030 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.035 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.038 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:43:55.041 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.044 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:55.047 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.051 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:43:55.054 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:55.056 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:43:55.060 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:43:55.063 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:43:55.066 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:55.067 +03:00 [DBG] Running health checks
2024-09-09 15:43:55.069 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:43:55.081 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.794ms with message 'Available memory: 185106432 bytes.'
2024-09-09 15:43:55.085 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 18.0827ms
2024-09-09 15:43:55.088 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:55.088 +03:00 [INF] Received HTTP response headers after 29.9025ms - 200
2024-09-09 15:43:55.090 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 30.4046ms
2024-09-09 15:43:55.093 +03:00 [INF] End processing HTTP request after 39.4431ms - 200
2024-09-09 15:43:55.101 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.104 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.106 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.108 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.110 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.112 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.116 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.121 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.123 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.125 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.127 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.129 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:43:55.132 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.135 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:55.137 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:55.139 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.141 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.145 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.149 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.151 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:55.153 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.160 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.169 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.173 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:43:55.176 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.179 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:55.180 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:55.182 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.184 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.185 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.187 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.191 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.194 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.198 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.201 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:55.203 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.205 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.209 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:55.210 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:55.212 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.214 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.216 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.218 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.222 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.228 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.230 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.234 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.237 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.240 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:55.242 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:55.246 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:43:55.250 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.252 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.256 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:55.259 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:55.260 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.264 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:55.267 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:55.269 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.273 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.277 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:55.279 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:55.281 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:43:55.284 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:43:55.288 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:43:55.290 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:55.292 +03:00 [DBG] Running health checks
2024-09-09 15:43:55.296 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:43:55.298 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.6673ms with message 'Database is available.'
2024-09-09 15:43:55.304 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 11.8288ms
2024-09-09 15:43:55.307 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:55.307 +03:00 [INF] Received HTTP response headers after 24.6466ms - 200
2024-09-09 15:43:55.309 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 25.1297ms
2024-09-09 15:43:55.312 +03:00 [INF] End processing HTTP request after 33.3767ms - 200
2024-09-09 15:43:55.321 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.323 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.327 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.329 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:55.331 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:55.334 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.341 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.348 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.352 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.355 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.357 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 15:43:55.362 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.366 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:55.368 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:55.370 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.372 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.375 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.377 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.379 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:55.381 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.388 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.394 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.396 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.400 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.402 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:55.405 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:55.406 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.407 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.409 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.412 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.415 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.418 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.421 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:55.423 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.424 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.427 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:55.429 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:55.430 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.432 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.434 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.435 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.439 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.444 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.446 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.449 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.451 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.455 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:55.457 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.462 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.468 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.471 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.477 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:55.481 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:55.483 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.487 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:43:55.489 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:55.491 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.495 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.500 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:55.504 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:55.508 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:43:55.514 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:43:55.519 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:43:55.520 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:43:55.522 +03:00 [DBG] Running health checks
2024-09-09 15:43:55.524 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:43:55.553 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.9813ms with message 'Ping successful.'
2024-09-09 15:43:55.557 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.1048ms
2024-09-09 15:43:55.560 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:43:55.561 +03:00 [INF] Received HTTP response headers after 49.3492ms - 200
2024-09-09 15:43:55.563 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 49.4794ms
2024-09-09 15:43:55.565 +03:00 [INF] End processing HTTP request after 60.9547ms - 200
2024-09-09 15:43:55.573 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.576 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.579 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.582 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:55.585 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:43:55.587 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.594 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.600 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.603 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.606 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.608 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:43:55.612 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.615 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:55.617 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:43:55.619 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.622 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.624 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.626 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.627 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.630 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.635 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:43:55.640 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.642 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.646 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.648 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:55.650 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:43:55.651 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.652 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:43:55.654 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.656 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.659 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:43:55.661 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.664 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:43:55.666 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.668 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.670 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:43:55.672 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:43:55.673 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.675 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:43:55.676 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:43:55.678 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.682 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.685 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.687 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.690 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:43:55.692 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:43:55.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:43:55.696 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.700 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:43:55.705 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.708 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:43:55.710 +03:00 [DBG] Committing transaction.
2024-09-09 15:43:55.714 +03:00 [DBG] Committed transaction.
2024-09-09 15:43:55.716 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:43:55.718 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:43:55.721 +03:00 [DBG] Disposing transaction.
2024-09-09 15:43:55.723 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.726 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:43:55.728 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:43:55.730 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:43:55.731 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:43:55.732 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:43:55.734 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:43:55.735 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:05.743 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:44:05.746 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:44:05.750 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:44:05.751 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:44:05.752 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:05.754 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.757 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:05.758 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:05.761 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:05.763 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:05.766 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:05.769 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.772 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.775 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.778 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.781 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.783 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.785 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 15:44:05.787 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.789 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:05.791 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:05.793 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:05.795 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:05.799 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:05.800 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:05.801 +03:00 [DBG] Running health checks
2024-09-09 15:44:05.803 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:05.803 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:05.803 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:05.806 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.2505ms with message 'Database is available.'
2024-09-09 15:44:05.813 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.3497ms with message 'Available memory: 189173760 bytes.'
2024-09-09 15:44:05.834 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.3492ms with message 'Ping successful.'
2024-09-09 15:44:05.837 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.9489ms
2024-09-09 15:44:05.839 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:05.839 +03:00 [INF] Received HTTP response headers after 45.0676ms - 200
2024-09-09 15:44:05.841 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 45.5335ms
2024-09-09 15:44:05.842 +03:00 [INF] End processing HTTP request after 50.9863ms - 200
2024-09-09 15:44:05.849 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:05.850 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.852 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:05.854 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:05.855 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:05.857 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:05.861 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:05.866 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.868 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.870 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:44:05.873 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.875 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:05.877 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:05.879 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:05.880 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.883 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:05.885 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:05.887 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:05.889 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:05.894 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:05.899 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.901 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:05.904 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.906 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:05.908 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:05.910 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:05.911 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:05.913 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:05.916 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.919 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:05.920 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:05.922 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.924 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:05.926 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:05.927 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:05.929 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:05.935 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:05.941 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.943 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:05.947 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:05.950 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:05.953 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:05.957 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:05.959 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:05.962 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:05.965 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:05.968 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:05.970 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:05.972 +03:00 [DBG] Running health checks
2024-09-09 15:44:05.973 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:05.973 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:05.973 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:05.977 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.8057ms with message 'Database is available.'
2024-09-09 15:44:05.984 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.8833ms with message 'Available memory: 189403136 bytes.'
2024-09-09 15:44:06.005 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.8274ms with message 'Ping successful.'
2024-09-09 15:44:06.009 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.0025ms
2024-09-09 15:44:06.011 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:06.011 +03:00 [INF] Received HTTP response headers after 47.6671ms - 200
2024-09-09 15:44:06.013 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 48.0406ms
2024-09-09 15:44:06.015 +03:00 [INF] End processing HTTP request after 55.4659ms - 200
2024-09-09 15:44:06.022 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.024 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.026 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.028 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.029 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:06.031 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.035 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.039 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.041 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:06.044 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.048 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:06.050 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:06.052 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.054 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.056 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.057 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.059 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:06.060 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.066 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.073 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.076 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:06.079 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.081 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.084 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:06.085 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.087 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.089 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.091 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.095 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:06.097 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.099 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.101 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.103 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.105 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:06.107 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.111 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.117 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.119 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:44:06.122 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.124 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.126 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.129 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:06.131 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:06.133 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:06.136 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:44:06.138 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:44:06.140 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:06.141 +03:00 [DBG] Running health checks
2024-09-09 15:44:06.142 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:06.153 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.0432ms with message 'Available memory: 189652992 bytes.'
2024-09-09 15:44:06.156 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 14.778ms
2024-09-09 15:44:06.158 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:06.158 +03:00 [INF] Received HTTP response headers after 23.5163ms - 200
2024-09-09 15:44:06.159 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 23.4686ms
2024-09-09 15:44:06.161 +03:00 [INF] End processing HTTP request after 30.3037ms - 200
2024-09-09 15:44:06.168 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.170 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.172 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.174 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.176 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:06.177 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.183 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.188 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.190 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.193 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.196 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.198 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 15:44:06.201 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.204 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.206 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:06.208 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.210 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.213 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.215 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:06.218 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:06.220 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.227 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.232 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.234 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.237 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.239 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.242 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:06.244 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.245 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.247 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.250 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.254 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.256 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.260 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.263 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:06.265 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.268 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.270 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:06.273 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:06.275 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.277 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:06.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:06.281 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.286 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.292 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.294 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.298 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.299 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.302 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:06.305 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:06.310 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:06.314 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.317 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.320 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:06.325 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:06.327 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.330 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:06.332 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:06.334 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.337 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.340 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:06.342 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:06.344 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:06.347 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:44:06.351 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:44:06.353 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:06.355 +03:00 [DBG] Running health checks
2024-09-09 15:44:06.356 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:06.358 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.1073ms with message 'Database is available.'
2024-09-09 15:44:06.363 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 8.4963ms
2024-09-09 15:44:06.365 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:06.365 +03:00 [INF] Received HTTP response headers after 19.4241ms - 200
2024-09-09 15:44:06.367 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 19.7162ms
2024-09-09 15:44:06.369 +03:00 [INF] End processing HTTP request after 26.6492ms - 200
2024-09-09 15:44:06.376 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.378 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.380 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.381 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.384 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:06.386 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.391 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.397 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.401 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.403 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.405 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:44:06.407 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.410 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.412 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:06.414 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.416 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.418 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.420 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.422 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:06.425 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.431 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.437 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.439 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.441 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.444 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.446 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:06.448 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.450 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.452 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.454 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.457 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.460 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.464 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:06.466 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.469 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.471 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:06.473 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:06.476 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.478 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:06.480 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:06.483 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.488 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.495 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.498 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.501 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.503 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.505 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:06.508 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.512 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.517 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.520 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.523 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:06.529 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:06.530 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.534 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:06.537 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:06.538 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.542 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.549 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:06.563 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:06.566 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:06.569 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:44:06.573 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:44:06.575 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:06.577 +03:00 [DBG] Running health checks
2024-09-09 15:44:06.579 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:06.608 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.1192ms with message 'Ping successful.'
2024-09-09 15:44:06.611 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.6194ms
2024-09-09 15:44:06.614 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:06.614 +03:00 [INF] Received HTTP response headers after 46.6161ms - 200
2024-09-09 15:44:06.616 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 46.7376ms
2024-09-09 15:44:06.618 +03:00 [INF] End processing HTTP request after 55.3656ms - 200
2024-09-09 15:44:06.626 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.628 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.630 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.632 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.634 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:06.636 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.640 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.646 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.649 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.651 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.653 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:44:06.656 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.658 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.659 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:06.661 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.662 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.665 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.666 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.667 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:06.669 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.674 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:06.678 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.681 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:06.683 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.685 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:06.687 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:06.689 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.690 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:06.692 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.693 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.697 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:06.699 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.702 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:06.705 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.707 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.710 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:06.712 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:06.714 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.715 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.717 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:06.718 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.721 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.725 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.726 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:06.729 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:06.730 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:06.732 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:06.734 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.738 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:06.741 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.743 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:06.745 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:06.749 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:06.751 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:06.753 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:06.756 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:06.757 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.760 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:06.763 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:06.765 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:44:06.766 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:44:06.767 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:44:06.768 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:06.770 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:16.781 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:44:16.783 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:44:16.786 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:44:16.787 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:44:16.788 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:16.789 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.791 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:16.792 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:16.793 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:16.795 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:16.798 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:16.801 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.802 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.804 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.806 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.808 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.809 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.811 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 15:44:16.813 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.815 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:16.816 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:16.817 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:16.820 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:16.822 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:16.823 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:16.824 +03:00 [DBG] Running health checks
2024-09-09 15:44:16.825 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:16.825 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:16.825 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:16.827 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.349ms with message 'Database is available.'
2024-09-09 15:44:16.834 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.7948ms with message 'Available memory: 189607936 bytes.'
2024-09-09 15:44:16.855 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.7198ms with message 'Ping successful.'
2024-09-09 15:44:16.857 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.8178ms
2024-09-09 15:44:16.859 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:16.859 +03:00 [INF] Received HTTP response headers after 40.4226ms - 200
2024-09-09 15:44:16.860 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 39.9129ms
2024-09-09 15:44:16.861 +03:00 [INF] End processing HTTP request after 44.9201ms - 200
2024-09-09 15:44:16.867 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:16.869 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.871 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:16.872 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:16.874 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:16.876 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:16.883 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:16.889 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.892 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.895 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:44:16.898 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.901 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:16.903 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:16.906 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:16.907 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.910 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:16.912 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:16.914 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:16.917 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:16.925 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:16.931 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.932 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:16.935 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.937 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:16.939 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:16.941 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:16.943 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:16.945 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:16.947 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.951 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:16.953 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:16.955 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.958 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:16.959 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:16.961 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:16.963 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:16.968 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:16.975 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.976 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:44:16.979 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:16.981 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:16.983 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:16.986 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:16.987 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:16.988 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:16.991 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:16.993 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:16.995 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:16.996 +03:00 [DBG] Running health checks
2024-09-09 15:44:16.997 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:16.997 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:16.997 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:16.999 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0754ms with message 'Database is available.'
2024-09-09 15:44:17.003 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 6.8206ms with message 'Available memory: 189898752 bytes.'
2024-09-09 15:44:17.026 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.1845ms with message 'Ping successful.'
2024-09-09 15:44:17.028 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.5891ms
2024-09-09 15:44:17.030 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:17.030 +03:00 [INF] Received HTTP response headers after 40.2747ms - 200
2024-09-09 15:44:17.031 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 40.0789ms
2024-09-09 15:44:17.032 +03:00 [INF] End processing HTTP request after 44.7541ms - 200
2024-09-09 15:44:17.037 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.039 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.041 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.043 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.046 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:44:17.048 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.055 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.061 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.063 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:17.068 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.070 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.073 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:17.074 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.076 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.079 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.082 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.084 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:44:17.087 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.091 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.098 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.100 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:17.103 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.105 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:17.107 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:17.109 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.111 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.113 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.115 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.118 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:17.120 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.122 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.125 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.128 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.130 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:44:17.131 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.137 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.146 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.148 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:44:17.150 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.152 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:17.155 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.158 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:17.159 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:17.160 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:17.163 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:44:17.166 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:44:17.167 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:17.168 +03:00 [DBG] Running health checks
2024-09-09 15:44:17.169 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:17.181 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.5244ms with message 'Available memory: 190476288 bytes.'
2024-09-09 15:44:17.184 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 15.6534ms
2024-09-09 15:44:17.186 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:17.186 +03:00 [INF] Received HTTP response headers after 24.4641ms - 200
2024-09-09 15:44:17.188 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 25.1041ms
2024-09-09 15:44:17.190 +03:00 [INF] End processing HTTP request after 30.4533ms - 200
2024-09-09 15:44:17.196 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.197 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.199 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.201 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.204 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:17.205 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.209 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.214 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.216 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.219 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.221 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.222 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:44:17.224 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.226 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.228 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:17.230 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.231 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.233 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.235 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.236 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.238 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.242 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.247 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.248 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.251 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.252 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.254 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:17.255 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.256 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.257 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.258 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.260 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.262 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.265 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.267 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:17.269 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.271 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.274 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:17.275 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:17.277 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.278 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.282 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.285 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.288 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.289 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.291 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.292 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:44:17.294 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.295 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:17.299 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:17.301 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.303 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.305 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:17.308 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:17.309 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.311 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.313 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:17.314 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.316 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.318 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:17.319 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:17.320 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:17.323 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:44:17.326 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:44:17.327 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:17.328 +03:00 [DBG] Running health checks
2024-09-09 15:44:17.329 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:17.331 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.3194ms with message 'Database is available.'
2024-09-09 15:44:17.333 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 4.873ms
2024-09-09 15:44:17.334 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:17.335 +03:00 [INF] Received HTTP response headers after 12.9321ms - 200
2024-09-09 15:44:17.336 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 12.8779ms
2024-09-09 15:44:17.337 +03:00 [INF] End processing HTTP request after 17.7263ms - 200
2024-09-09 15:44:17.342 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.343 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.346 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.347 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.349 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.351 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.356 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.360 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.362 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.364 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.366 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:44:17.368 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.369 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.371 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:17.372 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.373 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.375 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.377 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.379 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.382 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.388 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.389 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.392 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.393 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.395 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:17.396 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.397 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.398 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.400 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.402 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.404 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.406 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:17.408 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.409 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.410 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:17.412 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:17.413 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.414 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.416 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.418 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.422 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.426 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.428 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.430 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.431 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.433 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.435 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.438 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.441 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.443 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.444 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:17.446 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:17.447 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.449 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:17.451 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:17.452 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.455 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.457 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:17.458 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:17.459 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:17.461 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:44:17.464 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:44:17.465 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:17.466 +03:00 [DBG] Running health checks
2024-09-09 15:44:17.468 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:17.496 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.0603ms with message 'Ping successful.'
2024-09-09 15:44:17.499 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.3083ms
2024-09-09 15:44:17.502 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:17.502 +03:00 [INF] Received HTTP response headers after 41.4946ms - 200
2024-09-09 15:44:17.503 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 41.5784ms
2024-09-09 15:44:17.505 +03:00 [INF] End processing HTTP request after 46.8171ms - 200
2024-09-09 15:44:17.511 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.512 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.514 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.515 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.517 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.519 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.523 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.528 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.530 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.532 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.534 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:44:17.537 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.539 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:17.540 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:17.542 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.544 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.546 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.548 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.549 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:17.551 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.558 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:17.565 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.568 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:17.571 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.573 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:17.575 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:17.576 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.578 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:17.580 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.583 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.586 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:17.589 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.592 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:17.594 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.596 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.598 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:17.600 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:17.601 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.602 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.604 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.606 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.612 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.619 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.621 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:17.624 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:17.625 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:17.627 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:17.629 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.633 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:17.638 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.639 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:17.642 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:17.646 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:17.647 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:17.649 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:17.652 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:17.653 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.657 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:17.661 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:17.663 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:44:17.666 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:44:17.670 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:44:17.672 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:17.676 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:27.683 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:44:27.685 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:44:27.688 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:44:27.689 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:44:27.690 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.692 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.693 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.695 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:27.696 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:27.698 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:27.700 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:27.702 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.704 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.705 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.707 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.708 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.710 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.712 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 15:44:27.713 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.715 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.717 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:27.718 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:27.721 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:27.724 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:27.726 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:27.726 +03:00 [DBG] Running health checks
2024-09-09 15:44:27.727 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:27.728 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:27.728 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:27.730 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.6522ms with message 'Database is available.'
2024-09-09 15:44:27.736 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.0458ms with message 'Available memory: 199573504 bytes.'
2024-09-09 15:44:27.758 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.1505ms with message 'Ping successful.'
2024-09-09 15:44:27.760 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.4679ms
2024-09-09 15:44:27.762 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:27.762 +03:00 [INF] Received HTTP response headers after 42.2401ms - 200
2024-09-09 15:44:27.763 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 42.3884ms
2024-09-09 15:44:27.764 +03:00 [INF] End processing HTTP request after 47.2551ms - 200
2024-09-09 15:44:27.769 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.770 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.772 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.773 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:27.774 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:27.775 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.779 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.782 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.784 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.785 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:27.787 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.789 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.791 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:27.792 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.794 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.795 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.797 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:27.798 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:27.800 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.804 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.807 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.808 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:27.810 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.812 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.814 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:27.814 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:27.816 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:27.817 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:27.818 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.820 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:27.821 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.823 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.825 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.827 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:27.828 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:27.830 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:27.832 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:27.837 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.838 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:27.841 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.842 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.844 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.845 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:27.847 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:27.848 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:27.850 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:27.852 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:27.853 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:27.854 +03:00 [DBG] Running health checks
2024-09-09 15:44:27.855 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:27.855 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:27.855 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:27.858 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.3877ms with message 'Database is available.'
2024-09-09 15:44:27.863 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 7.6645ms with message 'Available memory: 199835648 bytes.'
2024-09-09 15:44:27.884 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.0275ms with message 'Ping successful.'
2024-09-09 15:44:27.887 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.7332ms
2024-09-09 15:44:27.889 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:27.889 +03:00 [INF] Received HTTP response headers after 40.0133ms - 200
2024-09-09 15:44:27.890 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 40.1889ms
2024-09-09 15:44:27.891 +03:00 [INF] End processing HTTP request after 44.5338ms - 200
2024-09-09 15:44:27.897 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.898 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.900 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.902 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:27.905 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:27.906 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.910 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.914 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.916 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:27.918 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.920 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.922 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:27.924 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.925 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.927 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.928 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:27.930 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:27.932 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.936 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:27.941 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.942 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:27.944 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.946 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.948 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:27.949 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:27.950 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:27.952 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:27.953 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.955 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:27.957 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:27.958 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.959 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:27.960 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:44:27.962 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:27.963 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:27.967 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:27.972 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.973 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:27.975 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:27.977 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:27.979 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:27.982 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:27.983 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:27.984 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:27.987 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:44:27.989 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:44:27.990 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:27.991 +03:00 [DBG] Running health checks
2024-09-09 15:44:27.992 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:28.001 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.6362ms with message 'Available memory: 200077312 bytes.'
2024-09-09 15:44:28.003 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 11.6221ms
2024-09-09 15:44:28.004 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:28.004 +03:00 [INF] Received HTTP response headers after 18.7159ms - 200
2024-09-09 15:44:28.005 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 18.5574ms
2024-09-09 15:44:28.006 +03:00 [INF] End processing HTTP request after 23.2342ms - 200
2024-09-09 15:44:28.012 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.014 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.015 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.017 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.018 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.019 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.022 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.027 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.031 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.032 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.034 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.035 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:44:28.037 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.038 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:28.040 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:28.041 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.043 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.046 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.047 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.048 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.049 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.053 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.058 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.059 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:28.062 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.064 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:28.066 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:28.068 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:28.069 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:28.071 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.073 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.077 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.080 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.082 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.084 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:28.085 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.088 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.091 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:28.094 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:28.095 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.098 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.099 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:28.101 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.106 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.110 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.111 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.114 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.115 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.118 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:28.119 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:28.124 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:28.128 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.130 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.132 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:28.136 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:28.138 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.140 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:28.142 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:28.143 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.146 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.149 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:28.151 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:28.153 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:28.157 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:44:28.161 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:44:28.163 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:28.164 +03:00 [DBG] Running health checks
2024-09-09 15:44:28.166 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:28.168 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.2117ms with message 'Database is available.'
2024-09-09 15:44:28.172 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 7.4137ms
2024-09-09 15:44:28.174 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:28.174 +03:00 [INF] Received HTTP response headers after 18.3349ms - 200
2024-09-09 15:44:28.176 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 19.0262ms
2024-09-09 15:44:28.177 +03:00 [INF] End processing HTTP request after 26.6111ms - 200
2024-09-09 15:44:28.184 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.186 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.188 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.189 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.191 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.193 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.198 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.203 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.205 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.207 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.209 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:44:28.211 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.214 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:28.217 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:28.218 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.220 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.223 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.224 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.226 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:28.228 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.234 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.238 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.240 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.242 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.244 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:28.246 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:28.247 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:28.248 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:28.250 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.251 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.253 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.254 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.256 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:28.258 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.259 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.261 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:28.263 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:28.264 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.265 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.267 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.268 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.270 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.273 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.275 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.277 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.278 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.281 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.284 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.287 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.289 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.293 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:28.296 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:28.297 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.299 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:28.300 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:28.301 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.303 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.305 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:28.307 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:28.308 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:28.310 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:44:28.312 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:44:28.313 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:28.314 +03:00 [DBG] Running health checks
2024-09-09 15:44:28.315 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:28.343 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.5453ms with message 'Ping successful.'
2024-09-09 15:44:28.345 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 30.9672ms
2024-09-09 15:44:28.347 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:28.347 +03:00 [INF] Received HTTP response headers after 38.0748ms - 200
2024-09-09 15:44:28.348 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 38.0289ms
2024-09-09 15:44:28.349 +03:00 [INF] End processing HTTP request after 42.5473ms - 200
2024-09-09 15:44:28.354 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.356 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.357 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.359 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.360 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.361 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.365 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.369 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.371 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.373 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.374 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:44:28.377 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.379 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:28.381 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:28.383 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.385 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.388 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.389 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.391 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.392 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.396 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:28.400 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.401 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.403 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.404 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:28.406 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:28.407 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:28.408 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:28.409 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.410 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.413 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:28.414 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.417 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:28.418 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.420 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.422 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:28.423 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:28.424 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.425 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:28.426 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.428 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.430 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.434 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.435 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.437 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:28.438 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:44:28.439 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:28.441 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.443 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:28.446 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.447 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:28.449 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:28.452 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:28.453 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:28.455 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:28.456 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:28.457 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.459 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:28.461 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:28.463 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:44:28.464 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:44:28.465 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:44:28.466 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:28.467 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:38.479 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:44:38.482 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:44:38.486 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:44:38.488 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:44:38.490 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.492 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.497 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.498 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.501 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:38.503 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:38.507 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:38.511 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.513 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.516 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.519 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.521 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.524 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.526 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 15:44:38.529 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.532 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:38.534 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:38.536 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:38.539 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:38.543 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:38.545 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:38.546 +03:00 [DBG] Running health checks
2024-09-09 15:44:38.549 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:38.549 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:38.549 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:38.559 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 9.9358ms with message 'Database is available.'
2024-09-09 15:44:38.567 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 18.6356ms with message 'Available memory: 199094272 bytes.'
2024-09-09 15:44:38.577 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.3447ms with message 'Ping successful.'
2024-09-09 15:44:38.582 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.1663ms
2024-09-09 15:44:38.584 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:38.585 +03:00 [INF] Received HTTP response headers after 46.5978ms - 200
2024-09-09 15:44:38.586 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 47.115ms
2024-09-09 15:44:38.591 +03:00 [INF] End processing HTTP request after 56.4577ms - 200
2024-09-09 15:44:38.598 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.600 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.604 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.606 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.608 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:38.610 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.620 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.627 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.631 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.634 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:44:38.640 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.643 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:38.646 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:38.647 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.650 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.653 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.655 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.657 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:38.661 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.668 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.673 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.674 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:38.676 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.678 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:38.680 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:38.681 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:38.683 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:38.684 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:38.686 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.689 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:38.691 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.693 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.695 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.698 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:38.700 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:38.702 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:38.706 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:38.710 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.713 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:38.715 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.717 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:38.720 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.722 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:38.724 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:38.725 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:38.729 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:38.731 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:38.732 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:38.734 +03:00 [DBG] Running health checks
2024-09-09 15:44:38.735 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:38.735 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:38.735 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:38.736 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.2903ms with message 'Database is available.'
2024-09-09 15:44:38.747 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.4133ms with message 'Available memory: 199380992 bytes.'
2024-09-09 15:44:38.766 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.9771ms with message 'Ping successful.'
2024-09-09 15:44:38.768 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.1293ms
2024-09-09 15:44:38.769 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:38.769 +03:00 [INF] Received HTTP response headers after 42.144ms - 200
2024-09-09 15:44:38.770 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 42.0426ms
2024-09-09 15:44:38.772 +03:00 [INF] End processing HTTP request after 47.6052ms - 200
2024-09-09 15:44:38.777 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.779 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.780 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.782 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.783 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:38.785 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.788 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.793 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.794 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:38.797 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.799 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:38.800 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:38.802 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.803 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.805 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.807 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.808 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:38.810 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.815 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.819 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.820 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:38.823 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.825 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:38.828 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:38.829 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:38.831 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:38.832 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:38.834 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.836 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:38.838 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.840 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.842 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.843 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.845 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:38.846 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:38.850 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:38.855 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.857 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:38.859 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.861 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:38.863 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.866 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:38.868 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:38.870 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:38.872 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:44:38.875 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:44:38.876 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:38.878 +03:00 [DBG] Running health checks
2024-09-09 15:44:38.879 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:38.890 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.7844ms with message 'Available memory: 199843840 bytes.'
2024-09-09 15:44:38.893 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 15.0891ms
2024-09-09 15:44:38.895 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:38.895 +03:00 [INF] Received HTTP response headers after 23.8162ms - 200
2024-09-09 15:44:38.896 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 24.2581ms
2024-09-09 15:44:38.898 +03:00 [INF] End processing HTTP request after 30.3662ms - 200
2024-09-09 15:44:38.904 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.906 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.908 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.910 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.911 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:38.913 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.918 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.923 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.925 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.927 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.929 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.931 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:44:38.935 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.938 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:38.940 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:38.942 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.944 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.947 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.948 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.950 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:38.952 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.956 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:38.960 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.962 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:38.964 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.965 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:38.967 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:38.968 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:38.969 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:38.970 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:38.972 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.975 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:38.977 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:38.979 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:38.981 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:38.982 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:38.984 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:38.985 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:38.986 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:38.988 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:38.989 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:38.990 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:38.992 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:38.996 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:38.999 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.001 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.003 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.004 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.006 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:39.007 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:39.011 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:39.014 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.016 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.018 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:39.022 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:39.023 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.026 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:39.027 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:39.029 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.031 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.034 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:39.036 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:39.038 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:39.040 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:44:39.043 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:44:39.044 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:39.045 +03:00 [DBG] Running health checks
2024-09-09 15:44:39.047 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:39.048 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.2766ms with message 'Database is available.'
2024-09-09 15:44:39.051 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.1678ms
2024-09-09 15:44:39.052 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:39.053 +03:00 [INF] Received HTTP response headers after 13.5444ms - 200
2024-09-09 15:44:39.054 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 13.7003ms
2024-09-09 15:44:39.055 +03:00 [INF] End processing HTTP request after 18.9517ms - 200
2024-09-09 15:44:39.061 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.062 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.064 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.066 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.067 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:39.069 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.074 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.078 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.080 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.082 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.083 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:44:39.085 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.087 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:39.088 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:39.089 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.091 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.092 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.094 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.095 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:39.096 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.100 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.105 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.106 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.108 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.109 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:39.111 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:39.112 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:39.114 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:39.115 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:39.117 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.119 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:39.121 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.123 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:39.125 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.126 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.127 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:39.129 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:39.130 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.131 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.132 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:39.134 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.137 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.140 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.142 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.143 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.144 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.146 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:39.147 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.150 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.153 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.155 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.158 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:39.161 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:39.162 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.164 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:39.166 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:39.167 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.170 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.173 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:39.174 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:39.176 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:39.179 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:44:39.183 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:44:39.184 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:39.186 +03:00 [DBG] Running health checks
2024-09-09 15:44:39.188 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:39.216 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.0788ms with message 'Ping successful.'
2024-09-09 15:44:39.219 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.0207ms
2024-09-09 15:44:39.222 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:39.222 +03:00 [INF] Received HTTP response headers after 43.9258ms - 200
2024-09-09 15:44:39.224 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 45.534ms
2024-09-09 15:44:39.226 +03:00 [INF] End processing HTTP request after 51.5177ms - 200
2024-09-09 15:44:39.232 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.234 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.235 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.236 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.238 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:39.239 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.243 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.248 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.250 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.253 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.254 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:44:39.257 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.259 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:39.262 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:39.263 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.265 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.267 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.269 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.270 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:39.272 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.277 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:39.281 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.283 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.285 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.287 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:39.288 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:39.290 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:39.291 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:39.293 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:39.295 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.297 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:39.299 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.302 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:39.304 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.306 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.308 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:39.309 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:39.311 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.314 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:39.316 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:44:39.317 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.320 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.324 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.326 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:39.329 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:39.330 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:39.332 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:39.333 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.337 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:39.340 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.342 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:39.344 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:39.348 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:39.349 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:39.351 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:39.353 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:39.354 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.357 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:39.359 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:39.361 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:44:39.362 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:44:39.363 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:44:39.364 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:39.366 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.381 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:44:49.383 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:44:49.386 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:44:49.387 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:44:49.389 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.391 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.393 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.395 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.396 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.398 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:49.401 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:44:49.404 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.406 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.408 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.410 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.411 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.414 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.416 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 15:44:49.418 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.421 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:49.423 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:49.425 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:49.427 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:49.430 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:49.432 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:49.433 +03:00 [DBG] Running health checks
2024-09-09 15:44:49.434 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:49.434 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:49.434 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:49.436 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.9488ms with message 'Database is available.'
2024-09-09 15:44:49.441 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 6.9796ms with message 'Available memory: 200667136 bytes.'
2024-09-09 15:44:49.463 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.1146ms with message 'Ping successful.'
2024-09-09 15:44:49.465 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.0016ms
2024-09-09 15:44:49.466 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:49.466 +03:00 [INF] Received HTTP response headers after 40.2255ms - 200
2024-09-09 15:44:49.467 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 40.3815ms
2024-09-09 15:44:49.468 +03:00 [INF] End processing HTTP request after 45.0159ms - 200
2024-09-09 15:44:49.473 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.474 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.475 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.477 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.479 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.482 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.487 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.491 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.493 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.495 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:49.496 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.498 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.500 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:49.501 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.502 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.504 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.505 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.506 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.507 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.510 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.514 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.515 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:49.517 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.518 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.519 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:49.520 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.521 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.523 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.524 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.526 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:49.527 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.529 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.530 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.531 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.533 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.534 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.536 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.542 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.543 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:49.545 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.546 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.548 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.550 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:49.551 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:44:49.552 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:44:49.554 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:44:49.558 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:44:49.559 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:49.560 +03:00 [DBG] Running health checks
2024-09-09 15:44:49.560 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:49.560 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:49.560 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:49.563 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.0972ms with message 'Database is available.'
2024-09-09 15:44:49.572 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.1717ms with message 'Available memory: 200937472 bytes.'
2024-09-09 15:44:49.588 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.8815ms with message 'Ping successful.'
2024-09-09 15:44:49.591 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 31.496ms
2024-09-09 15:44:49.594 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:49.594 +03:00 [INF] Received HTTP response headers after 40.4129ms - 200
2024-09-09 15:44:49.595 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 40.7554ms
2024-09-09 15:44:49.597 +03:00 [INF] End processing HTTP request after 45.9176ms - 200
2024-09-09 15:44:49.602 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.603 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.605 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.606 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.607 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.608 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.612 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.617 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.620 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:49.622 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.624 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.625 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:49.626 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.628 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.629 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.630 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:44:49.631 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.632 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.637 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.640 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.641 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:49.643 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.645 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.647 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:49.648 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.650 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.651 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.654 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.656 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:49.658 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.659 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.661 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.663 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.665 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.667 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.670 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.676 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.678 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:44:49.681 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.683 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:49.686 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.689 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:44:49.692 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:49.694 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:44:49.697 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:44:49.700 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:44:49.701 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:49.703 +03:00 [DBG] Running health checks
2024-09-09 15:44:49.704 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:44:49.713 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.8452ms with message 'Available memory: 201146368 bytes.'
2024-09-09 15:44:49.716 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 12.7359ms
2024-09-09 15:44:49.717 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:49.718 +03:00 [INF] Received HTTP response headers after 21.6107ms - 200
2024-09-09 15:44:49.719 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 21.7204ms
2024-09-09 15:44:49.720 +03:00 [INF] End processing HTTP request after 27.9595ms - 200
2024-09-09 15:44:49.726 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.728 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.729 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.731 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.732 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.734 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.738 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.742 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.744 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.747 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.749 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.750 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:44:49.753 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.755 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:49.758 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:49.760 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.762 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.764 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.766 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.767 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.769 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.773 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.778 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.780 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:49.782 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.783 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:49.785 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:49.786 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.787 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.789 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.791 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.795 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.796 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.798 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.800 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:49.801 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.802 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.804 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:49.806 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:49.807 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.809 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.810 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.812 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.816 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.819 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.820 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:49.823 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.825 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.826 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.828 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:49.831 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:44:49.835 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.839 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:44:49.841 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:49.844 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:49.845 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.847 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:49.849 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:49.851 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.854 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.856 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:49.857 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:49.858 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:44:49.860 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:44:49.863 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:44:49.865 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:49.866 +03:00 [DBG] Running health checks
2024-09-09 15:44:49.867 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:44:49.869 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.526ms with message 'Database is available.'
2024-09-09 15:44:49.872 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.7684ms
2024-09-09 15:44:49.874 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:49.874 +03:00 [INF] Received HTTP response headers after 14.481ms - 200
2024-09-09 15:44:49.875 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 14.6306ms
2024-09-09 15:44:49.877 +03:00 [INF] End processing HTTP request after 19.6521ms - 200
2024-09-09 15:44:49.884 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.885 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.887 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.889 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.891 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.893 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.900 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.905 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.906 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.909 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.910 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:44:49.912 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.915 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:49.917 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:49.919 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.920 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.922 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.924 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.925 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.927 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.932 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:49.936 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.938 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:49.940 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.943 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:44:49.946 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:49.947 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.949 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:49.951 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.953 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.956 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:49.958 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:49.961 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:49.963 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:49.964 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.967 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:49.968 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:49.970 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.971 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:49.973 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:44:49.975 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.980 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:49.984 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:49.986 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:49.989 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:49.991 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:49.993 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:49.996 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:50.000 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:50.004 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.005 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:50.009 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:50.012 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:50.013 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.016 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:50.017 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:50.019 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.022 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.025 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:50.027 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:50.028 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:44:50.031 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:44:50.034 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:44:50.037 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:44:50.038 +03:00 [DBG] Running health checks
2024-09-09 15:44:50.040 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:44:50.068 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.8623ms with message 'Ping successful.'
2024-09-09 15:44:50.071 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.3962ms
2024-09-09 15:44:50.073 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" completed keep alive response.
2024-09-09 15:44:50.073 +03:00 [INF] Received HTTP response headers after 43.2759ms - 200
2024-09-09 15:44:50.075 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 43.9211ms
2024-09-09 15:44:50.076 +03:00 [INF] End processing HTTP request after 49.5773ms - 200
2024-09-09 15:44:50.083 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:50.084 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.086 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:50.087 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:50.088 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:50.090 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:50.094 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:50.098 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.100 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.102 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.104 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:44:50.106 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.108 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:50.110 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:44:50.112 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:50.114 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.115 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:50.117 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:44:50.118 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:50.120 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:50.125 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:44:50.134 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.139 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:44:50.158 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.170 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (12ms).
2024-09-09 15:44:50.181 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:44:50.185 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:50.189 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:44:50.199 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:50.206 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.234 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:44:50.238 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.260 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:44:50.302 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:50.314 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.326 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:44:50.329 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:44:50.335 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:50.338 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:50.339 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:50.342 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:50.346 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:50.351 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.353 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:44:50.358 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:44:50.361 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:44:50.363 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:44:50.367 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:50.370 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:44:50.373 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.375 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:44:50.377 +03:00 [DBG] Committing transaction.
2024-09-09 15:44:50.380 +03:00 [DBG] Committed transaction.
2024-09-09 15:44:50.381 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:44:50.383 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:44:50.385 +03:00 [DBG] Disposing transaction.
2024-09-09 15:44:50.386 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.389 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:44:50.391 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:44:50.393 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:44:50.395 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:44:50.396 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:44:50.398 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:44:50.400 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:44:54.422 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'k8s-cluster-service'
2024-09-09 15:44:57.863 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks'
2024-09-09 15:44:57.863 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks-webhooks'
2024-09-09 15:45:00.404 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:45:00.407 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:45:00.410 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:45:00.411 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:45:00.415 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.416 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.418 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.419 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.422 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:00.423 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:00.426 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:00.428 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.430 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.432 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.434 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.436 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.438 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.439 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 15:45:00.442 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.444 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:00.446 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:00.447 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:00.453 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" accepted.
2024-09-09 15:45:00.455 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" started.
2024-09-09 15:45:00.459 +03:00 [DBG] Connection 0HN6GPJNBSVUR established using the following protocol: "Tls12"
2024-09-09 15:45:00.462 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:00.465 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:00.466 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:00.468 +03:00 [DBG] Running health checks
2024-09-09 15:45:00.469 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:00.469 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:00.470 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:00.472 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0637ms with message 'Database is available.'
2024-09-09 15:45:00.479 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.6078ms with message 'Available memory: 203284480 bytes.'
2024-09-09 15:45:00.500 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.8246ms with message 'Ping successful.'
2024-09-09 15:45:00.503 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.7557ms
2024-09-09 15:45:00.505 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:00.505 +03:00 [INF] Received HTTP response headers after 56.5102ms - 200
2024-09-09 15:45:00.506 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 44.4808ms
2024-09-09 15:45:00.508 +03:00 [INF] End processing HTTP request after 61.9278ms - 200
2024-09-09 15:45:00.513 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.516 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.517 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.518 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.520 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.521 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.524 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.527 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.529 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.531 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:00.533 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.535 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:00.536 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:00.538 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.539 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.541 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.542 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.544 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.545 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.548 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.551 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.553 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:00.555 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.557 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:00.559 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:00.560 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:00.561 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:00.563 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:00.565 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.568 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:00.569 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.571 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.573 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.575 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.576 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:00.578 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:00.581 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:00.585 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.587 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:00.589 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.590 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:00.592 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.594 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:00.596 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:00.597 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:00.600 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:00.603 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:00.604 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:00.605 +03:00 [DBG] Running health checks
2024-09-09 15:45:00.606 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:00.606 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:00.607 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:00.609 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.7706ms with message 'Database is available.'
2024-09-09 15:45:00.616 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.2608ms with message 'Available memory: 202530816 bytes.'
2024-09-09 15:45:00.636 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.7416ms with message 'Ping successful.'
2024-09-09 15:45:00.639 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.2753ms
2024-09-09 15:45:00.641 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:00.641 +03:00 [INF] Received HTTP response headers after 42.4093ms - 200
2024-09-09 15:45:00.642 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 42.5727ms
2024-09-09 15:45:00.644 +03:00 [INF] End processing HTTP request after 47.7303ms - 200
2024-09-09 15:45:00.650 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.651 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.653 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.655 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.657 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:00.659 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.661 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.664 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.666 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:00.668 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.670 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:00.671 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:00.673 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.675 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.676 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.677 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.679 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.681 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.684 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.687 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.689 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:00.690 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.692 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:00.695 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:00.696 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:00.697 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:00.698 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:00.699 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.702 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:00.703 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.705 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.706 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:00.709 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.711 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:00.716 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:00.723 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.725 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:00.729 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.732 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:00.735 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.739 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:00.742 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:00.744 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:00.748 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:45:00.754 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:45:00.755 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:00.757 +03:00 [DBG] Running health checks
2024-09-09 15:45:00.759 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:00.771 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.3659ms with message 'Available memory: 202940416 bytes.'
2024-09-09 15:45:00.775 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 17.8702ms
2024-09-09 15:45:00.779 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:00.779 +03:00 [INF] Received HTTP response headers after 32.385ms - 200
2024-09-09 15:45:00.782 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 33.8491ms
2024-09-09 15:45:00.785 +03:00 [INF] End processing HTTP request after 42.8478ms - 200
2024-09-09 15:45:00.796 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.798 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.800 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.802 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.805 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:45:00.808 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.814 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.819 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.822 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.825 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.829 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.832 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 15:45:00.835 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.838 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:00.841 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:00.843 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.846 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.849 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.851 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.854 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:45:00.856 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.861 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:00.870 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.873 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:00.876 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.879 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:00.882 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:00.886 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:00.889 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:00.891 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:00.895 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.898 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:00.900 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:00.904 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:00.908 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:00.911 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:00.915 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.919 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:00.922 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:00.924 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.926 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:00.929 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:45:00.937 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:00.941 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:00.949 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:00.955 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:00.966 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:00.969 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:00.974 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 15:45:00.983 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:00.995 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:01.003 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.006 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:01.010 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:01.015 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:01.017 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.022 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 15:45:01.026 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:01.028 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.033 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.037 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:01.042 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:01.045 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:01.049 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:45:01.053 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:45:01.055 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:01.057 +03:00 [DBG] Running health checks
2024-09-09 15:45:01.059 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:01.061 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.9228ms with message 'Database is available.'
2024-09-09 15:45:01.065 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 7.8435ms
2024-09-09 15:45:01.068 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:01.068 +03:00 [INF] Received HTTP response headers after 20.7211ms - 200
2024-09-09 15:45:01.069 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 20.6097ms
2024-09-09 15:45:01.071 +03:00 [INF] End processing HTTP request after 29.3773ms - 200
2024-09-09 15:45:01.080 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.083 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.085 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.086 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:01.089 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:45:01.091 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.097 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.102 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.104 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.107 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.110 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:45:01.113 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.116 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:01.119 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:01.121 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.123 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.126 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.127 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:01.130 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:45:01.133 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.138 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.143 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.146 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:01.149 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.153 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:45:01.156 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:01.158 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:01.161 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:01.163 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:01.165 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.169 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:01.171 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.176 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:01.178 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.181 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.183 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:01.185 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:01.188 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.190 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:01.193 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:45:01.195 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.200 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.205 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.207 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:01.210 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.213 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:01.215 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:45:01.218 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.222 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.226 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.229 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:01.232 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:01.237 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:01.238 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.241 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:01.244 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:01.245 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.248 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.251 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:01.254 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:01.256 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:01.260 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:45:01.266 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:45:01.268 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:01.270 +03:00 [DBG] Running health checks
2024-09-09 15:45:01.272 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:01.304 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 32.6127ms with message 'Ping successful.'
2024-09-09 15:45:01.308 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.8596ms
2024-09-09 15:45:01.310 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:01.310 +03:00 [INF] Received HTTP response headers after 51.7803ms - 200
2024-09-09 15:45:01.312 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 51.7399ms
2024-09-09 15:45:01.313 +03:00 [INF] End processing HTTP request after 59.9122ms - 200
2024-09-09 15:45:01.321 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.323 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.325 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.327 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:01.329 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:01.331 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.336 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.340 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.343 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.345 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.347 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 15:45:01.350 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.352 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:01.355 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:01.356 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.359 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.363 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.365 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:01.367 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:01.368 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.372 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:01.377 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.380 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:01.383 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.386 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 15:45:01.389 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:01.391 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:01.393 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:01.394 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:01.396 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.398 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:01.400 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.404 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:01.406 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.408 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.410 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:01.412 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:01.414 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.415 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:01.418 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:01.421 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.425 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.430 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.433 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:01.436 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:01.438 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:01.440 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:01.443 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.446 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:01.451 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.454 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:01.458 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:01.462 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:01.463 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:01.466 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:01.469 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:01.471 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.475 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:01.479 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:01.482 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:45:01.484 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:45:01.486 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:45:01.488 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:01.491 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:04.439 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:45:04.446 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0884ms - processed: 0 items - remaining: 3 items
2024-09-09 15:45:11.495 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:45:11.497 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:45:11.500 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:45:11.501 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:45:11.503 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.504 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.506 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.507 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.508 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.509 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:11.512 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:11.514 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.516 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.518 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.520 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.521 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.523 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.524 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 15:45:11.526 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.528 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.530 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:11.531 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:11.533 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:11.536 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:11.537 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:11.538 +03:00 [DBG] Running health checks
2024-09-09 15:45:11.539 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:11.539 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:11.539 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:11.542 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.7192ms with message 'Database is available.'
2024-09-09 15:45:11.547 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.3382ms with message 'Available memory: 204447744 bytes.'
2024-09-09 15:45:11.569 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.1249ms with message 'Ping successful.'
2024-09-09 15:45:11.572 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.095ms
2024-09-09 15:45:11.574 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:11.574 +03:00 [INF] Received HTTP response headers after 41.5408ms - 200
2024-09-09 15:45:11.575 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 41.6267ms
2024-09-09 15:45:11.576 +03:00 [INF] End processing HTTP request after 46.2864ms - 200
2024-09-09 15:45:11.580 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.581 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.583 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.584 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:11.585 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.586 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.589 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.591 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.592 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.593 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:11.595 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.596 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.597 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:11.598 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.599 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.601 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.602 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.603 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.605 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.607 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.610 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.611 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:11.612 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.613 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.615 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:11.615 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.616 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.617 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.618 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.620 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:11.621 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.622 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.623 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.624 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:11.626 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.627 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:11.629 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:11.633 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.634 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:11.636 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.637 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.639 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.641 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:11.643 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:11.645 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:11.648 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:11.651 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:11.653 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:11.654 +03:00 [DBG] Running health checks
2024-09-09 15:45:11.655 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:11.655 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:11.655 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:11.658 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.093ms with message 'Database is available.'
2024-09-09 15:45:11.663 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.1674ms with message 'Available memory: 205377536 bytes.'
2024-09-09 15:45:11.686 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.8697ms with message 'Ping successful.'
2024-09-09 15:45:11.688 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.7052ms
2024-09-09 15:45:11.690 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:11.690 +03:00 [INF] Received HTTP response headers after 43.8425ms - 200
2024-09-09 15:45:11.692 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 44.2362ms
2024-09-09 15:45:11.693 +03:00 [INF] End processing HTTP request after 49.9224ms - 200
2024-09-09 15:45:11.700 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.702 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.703 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.705 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.706 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.708 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.710 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.714 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.715 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:11.717 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.718 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.720 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:11.721 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.722 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.723 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.725 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.726 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.727 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.730 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.732 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.734 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:11.735 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.736 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.738 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:11.739 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.739 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.740 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.742 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.744 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:11.745 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.746 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.747 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.748 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.750 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.751 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:11.753 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:11.757 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.759 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:11.761 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.762 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.764 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.765 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:11.767 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:11.768 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:11.770 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:45:11.773 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:45:11.775 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:11.776 +03:00 [DBG] Running health checks
2024-09-09 15:45:11.777 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:11.783 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 6.1473ms with message 'Available memory: 205598720 bytes.'
2024-09-09 15:45:11.785 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 9.2277ms
2024-09-09 15:45:11.787 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:11.787 +03:00 [INF] Received HTTP response headers after 17.6668ms - 200
2024-09-09 15:45:11.788 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 17.5965ms
2024-09-09 15:45:11.789 +03:00 [INF] End processing HTTP request after 22.101ms - 200
2024-09-09 15:45:11.795 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.797 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.798 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.800 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.801 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.803 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.806 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.809 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.811 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.813 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.814 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.816 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:45:11.817 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.818 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.820 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:11.821 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.823 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.825 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.826 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.828 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.829 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.832 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.835 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.836 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:11.838 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.840 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.841 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:11.842 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.843 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.844 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.846 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.848 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.849 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.851 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.853 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:11.855 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.856 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.858 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:11.860 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:11.861 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.862 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.864 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:11.866 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:11.869 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:11.872 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.873 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:11.875 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.877 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.878 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:11.880 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:11.883 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:11.886 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.888 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:11.890 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:11.893 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:11.895 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.896 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.898 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:11.900 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.903 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.906 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:11.908 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:11.910 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:11.912 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:45:11.915 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:45:11.916 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:11.917 +03:00 [DBG] Running health checks
2024-09-09 15:45:11.918 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:11.919 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.2928ms with message 'Database is available.'
2024-09-09 15:45:11.921 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 3.949ms
2024-09-09 15:45:11.923 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:11.923 +03:00 [INF] Received HTTP response headers after 11.9058ms - 200
2024-09-09 15:45:11.924 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 11.6709ms
2024-09-09 15:45:11.925 +03:00 [INF] End processing HTTP request after 17.0018ms - 200
2024-09-09 15:45:11.931 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.933 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.935 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.936 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.938 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:11.939 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.942 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.944 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.947 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.949 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.950 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:45:11.952 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.954 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.955 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:11.956 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.958 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.959 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.960 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.963 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:11.964 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.967 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:11.969 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.971 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:11.972 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.974 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:11.976 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:11.977 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.979 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:11.980 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.982 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.984 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:11.985 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:11.988 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:11.989 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:11.991 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:11.993 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:11.994 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:11.996 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:11.997 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:11.998 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:12.000 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.003 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.006 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.008 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:12.010 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:12.012 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:12.014 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:12.016 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.019 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.022 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.024 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:12.026 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:12.031 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:12.032 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.034 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:12.036 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:12.038 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.040 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.043 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:12.044 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:12.046 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:12.049 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:45:12.052 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:45:12.053 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:12.054 +03:00 [DBG] Running health checks
2024-09-09 15:45:12.055 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:12.083 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.3621ms with message 'Ping successful.'
2024-09-09 15:45:12.085 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 31.3534ms
2024-09-09 15:45:12.087 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:12.088 +03:00 [INF] Received HTTP response headers after 40.0378ms - 200
2024-09-09 15:45:12.089 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 39.7311ms
2024-09-09 15:45:12.089 +03:00 [INF] End processing HTTP request after 45.3579ms - 200
2024-09-09 15:45:12.095 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:12.096 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.098 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:12.099 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:12.100 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:12.102 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:12.105 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:12.107 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.109 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.110 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.112 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:12.114 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.115 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:12.117 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:12.118 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:12.120 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.122 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:12.123 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:12.125 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:12.126 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:12.129 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:12.132 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.134 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:12.135 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.137 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:12.138 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:12.139 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:12.141 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:12.142 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:12.144 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.146 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:12.148 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.150 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:12.152 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:12.154 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.155 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:12.157 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:12.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:12.160 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:12.162 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:12.164 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.167 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.170 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.172 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:12.173 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:12.175 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:12.176 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:12.177 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.180 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:12.183 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.184 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:12.186 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:12.188 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:12.189 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:12.191 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:12.194 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:12.195 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.197 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:12.199 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:12.201 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:45:12.202 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:45:12.203 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:45:12.204 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:12.206 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:14.453 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:45:14.455 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 3 items
2024-09-09 15:45:22.211 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:45:22.214 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:45:22.216 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:45:22.217 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:45:22.218 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.220 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.221 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.222 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.224 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.226 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:22.229 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:22.232 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.234 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.235 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.237 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.238 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.240 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.242 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 15:45:22.244 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.246 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.248 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:22.250 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:22.252 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:22.255 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:22.257 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:22.258 +03:00 [DBG] Running health checks
2024-09-09 15:45:22.259 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:22.259 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:22.259 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:22.264 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.6052ms with message 'Database is available.'
2024-09-09 15:45:22.268 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.7574ms with message 'Available memory: 206442496 bytes.'
2024-09-09 15:45:22.287 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.1524ms with message 'Ping successful.'
2024-09-09 15:45:22.290 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 31.9677ms
2024-09-09 15:45:22.292 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:22.292 +03:00 [INF] Received HTTP response headers after 41.1418ms - 200
2024-09-09 15:45:22.294 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 41.7828ms
2024-09-09 15:45:22.295 +03:00 [INF] End processing HTTP request after 47.0072ms - 200
2024-09-09 15:45:22.302 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.304 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.306 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.308 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.309 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:22.312 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.315 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.318 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.320 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.321 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:22.323 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.325 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.326 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:22.327 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.329 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.330 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.331 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.333 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.334 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.337 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.340 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.341 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.343 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.344 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.346 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:22.346 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.348 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.349 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.350 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.352 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:22.354 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.355 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.356 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.357 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.359 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.360 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.363 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.368 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.369 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:22.371 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.373 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.375 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.376 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:22.378 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:22.379 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:22.381 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:22.384 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:22.385 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:22.386 +03:00 [DBG] Running health checks
2024-09-09 15:45:22.387 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:22.387 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:22.387 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:22.389 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.2901ms with message 'Database is available.'
2024-09-09 15:45:22.394 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 6.8908ms with message 'Available memory: 206663680 bytes.'
2024-09-09 15:45:22.417 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.5763ms with message 'Ping successful.'
2024-09-09 15:45:22.419 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.2872ms
2024-09-09 15:45:22.421 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:22.421 +03:00 [INF] Received HTTP response headers after 40.8453ms - 200
2024-09-09 15:45:22.422 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 40.7121ms
2024-09-09 15:45:22.424 +03:00 [INF] End processing HTTP request after 46.1101ms - 200
2024-09-09 15:45:22.434 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.439 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.440 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.442 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.444 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:22.446 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.449 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.453 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.454 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.457 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.459 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:22.462 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:22.463 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.465 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.468 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.469 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.471 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:22.473 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.477 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.481 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.483 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:22.485 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.487 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.489 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:22.489 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.490 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.492 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.493 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.495 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:22.496 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.497 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.498 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.499 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.500 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.501 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.504 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.506 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.508 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:22.510 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.511 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.513 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.515 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:22.516 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:22.518 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:22.520 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:45:22.523 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:45:22.525 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:22.526 +03:00 [DBG] Running health checks
2024-09-09 15:45:22.527 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:22.536 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.8889ms with message 'Available memory: 206852096 bytes.'
2024-09-09 15:45:22.538 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 11.9117ms
2024-09-09 15:45:22.539 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:22.539 +03:00 [INF] Received HTTP response headers after 20.4729ms - 200
2024-09-09 15:45:22.540 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 20.5738ms
2024-09-09 15:45:22.542 +03:00 [INF] End processing HTTP request after 25.4208ms - 200
2024-09-09 15:45:22.547 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.548 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.550 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.551 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:22.552 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.553 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.556 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.558 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.559 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.560 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.562 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.563 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:22.565 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.567 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.568 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:22.569 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.570 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.572 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.573 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.574 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.575 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.578 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.582 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.583 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.585 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.586 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.587 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:22.588 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.589 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.590 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.591 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.593 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.594 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.596 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.597 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:22.598 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.599 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.600 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:22.601 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:22.603 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.604 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.605 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.606 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.608 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.611 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.612 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.614 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.615 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:22.616 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.617 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:22.619 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:22.621 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.622 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.624 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:22.627 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:22.628 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.629 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.630 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:22.631 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.633 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.635 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:22.636 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:22.638 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:22.640 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:45:22.644 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:45:22.645 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:22.646 +03:00 [DBG] Running health checks
2024-09-09 15:45:22.646 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:22.648 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.2365ms with message 'Database is available.'
2024-09-09 15:45:22.649 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 3.7403ms
2024-09-09 15:45:22.651 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:22.651 +03:00 [INF] Received HTTP response headers after 12.0448ms - 200
2024-09-09 15:45:22.652 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 12.087ms
2024-09-09 15:45:22.653 +03:00 [INF] End processing HTTP request after 16.6738ms - 200
2024-09-09 15:45:22.658 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.659 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.660 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.661 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.663 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.664 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.666 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.669 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.670 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.671 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.674 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:22.676 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.677 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.678 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:22.679 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.681 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.682 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.684 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.685 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.686 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.689 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.692 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.693 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.695 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.697 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.698 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:22.699 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.700 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.702 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.703 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.706 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.708 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.710 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:22.711 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.712 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.714 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:22.715 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:22.716 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.718 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.719 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.720 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.722 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.725 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.726 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.727 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.729 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.730 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.731 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.733 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.735 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.737 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:22.739 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:22.742 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:22.744 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.746 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.748 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:22.749 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.750 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.753 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:22.754 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:22.756 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:22.758 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:45:22.760 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:45:22.761 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:22.762 +03:00 [DBG] Running health checks
2024-09-09 15:45:22.763 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:22.790 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.3319ms with message 'Ping successful.'
2024-09-09 15:45:22.793 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 30.6315ms
2024-09-09 15:45:22.794 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:22.794 +03:00 [INF] Received HTTP response headers after 37.6883ms - 200
2024-09-09 15:45:22.796 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 38.2593ms
2024-09-09 15:45:22.797 +03:00 [INF] End processing HTTP request after 42.4107ms - 200
2024-09-09 15:45:22.803 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.804 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.805 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.807 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.808 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.810 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.812 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.815 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.816 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.818 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.819 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:22.820 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.822 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.823 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:22.824 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.826 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.827 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.829 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.830 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:22.832 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.834 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:22.837 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.838 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.840 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.841 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.844 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:22.845 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.846 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:22.847 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.849 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.850 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:22.852 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.854 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:22.855 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.857 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.859 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:22.860 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:22.861 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.862 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.864 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:22.865 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.867 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.869 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.871 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.873 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:22.875 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:22.877 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:22.879 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.881 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:22.883 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.885 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:22.887 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:22.890 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:22.891 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:22.893 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:22.895 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:22.896 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.898 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:22.900 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:22.902 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:45:22.903 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:45:22.904 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:45:22.905 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:22.906 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:24.463 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:45:24.465 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 3 items
2024-09-09 15:45:32.909 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:45:32.912 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:45:32.914 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:45:32.915 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:45:32.916 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:32.917 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:32.918 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:32.918 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:32.919 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:32.920 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:32.922 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:32.924 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:32.925 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:32.927 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:32.929 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:32.930 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:32.931 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:32.933 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 15:45:32.934 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:32.936 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:32.937 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:32.938 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:32.940 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:32.943 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:32.944 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:32.944 +03:00 [DBG] Running health checks
2024-09-09 15:45:32.945 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:32.945 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:32.945 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:32.947 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0173ms with message 'Database is available.'
2024-09-09 15:45:32.953 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.0992ms with message 'Available memory: 207470592 bytes.'
2024-09-09 15:45:32.975 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.176ms with message 'Ping successful.'
2024-09-09 15:45:32.978 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.7947ms
2024-09-09 15:45:32.981 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:32.981 +03:00 [INF] Received HTTP response headers after 41.728ms - 200
2024-09-09 15:45:32.982 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 42.9915ms
2024-09-09 15:45:32.984 +03:00 [INF] End processing HTTP request after 47.3086ms - 200
2024-09-09 15:45:32.995 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:32.997 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.000 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.002 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.008 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 15:45:33.010 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.017 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.024 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.027 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.029 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:33.034 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.039 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 15:45:33.043 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:33.045 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.048 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.051 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.055 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:33.058 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 15:45:33.060 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.066 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.073 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.076 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:33.079 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.082 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:33.086 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:33.088 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.090 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.094 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.098 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.104 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:33.106 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.110 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.114 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.119 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:45:33.122 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 15:45:33.127 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.137 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.145 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.148 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:33.151 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.154 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:33.157 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.161 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:33.164 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:33.166 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:33.169 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:33.174 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:33.176 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:33.178 +03:00 [DBG] Running health checks
2024-09-09 15:45:33.180 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:33.180 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:33.180 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:33.182 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.3519ms with message 'Database is available.'
2024-09-09 15:45:33.195 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 15.463ms with message 'Available memory: 207765504 bytes.'
2024-09-09 15:45:33.210 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.4422ms with message 'Ping successful.'
2024-09-09 15:45:33.213 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.6492ms
2024-09-09 15:45:33.214 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:33.214 +03:00 [INF] Received HTTP response headers after 46.3235ms - 200
2024-09-09 15:45:33.215 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 46.554ms
2024-09-09 15:45:33.217 +03:00 [INF] End processing HTTP request after 53.1437ms - 200
2024-09-09 15:45:33.223 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.224 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.226 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.227 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.228 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.230 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.232 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.235 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.237 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.239 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.240 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.242 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:33.243 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.244 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.246 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.247 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.248 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.250 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.252 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.255 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.256 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.258 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.259 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.260 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:33.261 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.262 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.263 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.264 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.266 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:33.267 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.269 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.271 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.271 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:33.273 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.274 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.276 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.281 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.283 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:33.285 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.286 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.287 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.289 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:33.291 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:33.292 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:33.294 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:45:33.297 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:45:33.298 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:33.299 +03:00 [DBG] Running health checks
2024-09-09 15:45:33.300 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:33.306 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 5.8947ms with message 'Available memory: 207929344 bytes.'
2024-09-09 15:45:33.308 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 8.7532ms
2024-09-09 15:45:33.309 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:33.309 +03:00 [INF] Received HTTP response headers after 16.3039ms - 200
2024-09-09 15:45:33.310 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 16.3257ms
2024-09-09 15:45:33.312 +03:00 [INF] End processing HTTP request after 20.8023ms - 200
2024-09-09 15:45:33.316 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.317 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.319 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.320 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.321 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.322 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.325 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.327 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.329 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.331 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.333 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.334 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:45:33.336 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.337 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.339 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:33.340 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.341 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.343 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.344 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.346 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:33.347 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.350 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.353 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.354 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.355 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.357 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.358 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:33.359 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.361 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.362 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.364 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.366 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.367 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.369 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.371 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:33.372 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.374 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.375 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:33.377 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:33.378 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.379 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.380 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.382 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.384 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.387 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.388 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.390 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.392 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.393 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.395 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:33.397 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:33.399 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.401 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.403 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:33.407 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:33.408 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.409 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.411 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:33.413 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.416 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.418 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:33.420 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:33.422 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:33.424 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:45:33.427 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:45:33.428 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:33.429 +03:00 [DBG] Running health checks
2024-09-09 15:45:33.431 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:33.432 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.2951ms with message 'Database is available.'
2024-09-09 15:45:33.434 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 4.6745ms
2024-09-09 15:45:33.436 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:33.436 +03:00 [INF] Received HTTP response headers after 12.3673ms - 200
2024-09-09 15:45:33.437 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 12.5731ms
2024-09-09 15:45:33.439 +03:00 [INF] End processing HTTP request after 18.7309ms - 200
2024-09-09 15:45:33.444 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.446 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.447 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.448 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:33.450 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.452 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.456 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.459 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.461 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.463 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.464 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:33.466 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.469 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:33.471 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:33.472 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.474 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.476 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.478 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.479 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:33.481 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.485 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.489 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.490 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.492 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.494 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.495 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:33.496 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.497 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.499 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.501 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.503 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.505 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.507 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:33.509 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.511 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.513 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:33.514 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:33.515 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.517 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.518 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.520 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.522 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.525 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.527 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.529 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.530 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.532 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:33.534 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.536 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.539 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.541 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.543 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:33.545 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:33.546 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.548 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.549 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:33.550 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.552 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.555 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:33.556 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:33.557 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:33.560 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:45:33.566 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:45:33.568 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:33.569 +03:00 [DBG] Running health checks
2024-09-09 15:45:33.571 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:33.599 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.4193ms with message 'Ping successful.'
2024-09-09 15:45:33.602 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.7807ms
2024-09-09 15:45:33.604 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:33.604 +03:00 [INF] Received HTTP response headers after 45.7715ms - 200
2024-09-09 15:45:33.606 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 46.1686ms
2024-09-09 15:45:33.607 +03:00 [INF] End processing HTTP request after 51.2362ms - 200
2024-09-09 15:45:33.613 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.614 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.616 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.617 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.618 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.620 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.622 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.626 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.627 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.629 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.631 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:33.633 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.635 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.637 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:33.639 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.641 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.643 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.645 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.647 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:33.648 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.651 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:33.654 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.656 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.658 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.659 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.660 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:33.661 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.662 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:33.663 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.664 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.667 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:33.668 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.671 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:33.672 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.674 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.675 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:33.676 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:33.678 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.679 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.680 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.682 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.685 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.688 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.690 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.692 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:33.693 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:33.695 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:33.696 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.700 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:33.702 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.703 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:33.706 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:33.710 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:33.712 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:33.713 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:33.717 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:33.717 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.719 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:33.722 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:33.724 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:45:33.725 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:45:33.727 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:45:33.728 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:33.730 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:34.481 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:45:34.483 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 3 items
2024-09-09 15:45:43.738 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:45:43.740 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:45:43.744 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:45:43.745 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:45:43.746 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:43.748 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.750 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:43.751 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:43.752 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:43.755 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:43.757 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:43.759 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.762 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.763 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.765 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.767 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.769 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.771 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 15:45:43.773 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.775 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:43.777 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:43.778 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:43.781 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:43.785 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:43.786 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:43.787 +03:00 [DBG] Running health checks
2024-09-09 15:45:43.788 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:43.788 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:43.788 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:43.791 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.9681ms with message 'Database is available.'
2024-09-09 15:45:43.798 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.4228ms with message 'Available memory: 215191552 bytes.'
2024-09-09 15:45:43.819 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.9089ms with message 'Ping successful.'
2024-09-09 15:45:43.822 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.7687ms
2024-09-09 15:45:43.824 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:43.825 +03:00 [INF] Received HTTP response headers after 44.6783ms - 200
2024-09-09 15:45:43.826 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 45.0535ms
2024-09-09 15:45:43.827 +03:00 [INF] End processing HTTP request after 50.4073ms - 200
2024-09-09 15:45:43.834 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:43.836 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.838 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:43.839 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:43.841 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:43.843 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.846 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.849 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.851 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.853 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:43.855 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.856 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:43.858 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:43.859 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:43.861 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.863 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:43.865 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:43.866 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:43.868 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.871 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.874 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.875 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:43.877 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.879 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:43.881 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:43.882 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:43.883 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:43.884 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:43.885 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.888 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:43.889 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:43.890 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.892 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:43.893 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:43.894 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:43.897 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:43.899 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:43.904 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.906 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:43.908 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.910 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:43.912 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:43.914 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:43.915 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:43.916 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:43.918 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:43.921 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:43.922 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:43.923 +03:00 [DBG] Running health checks
2024-09-09 15:45:43.924 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:43.924 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:43.924 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:43.926 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.2397ms with message 'Database is available.'
2024-09-09 15:45:43.932 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.3762ms with message 'Available memory: 215396352 bytes.'
2024-09-09 15:45:43.954 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.1911ms with message 'Ping successful.'
2024-09-09 15:45:43.956 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.9807ms
2024-09-09 15:45:43.957 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:43.957 +03:00 [INF] Received HTTP response headers after 40.0422ms - 200
2024-09-09 15:45:43.958 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 40.148ms
2024-09-09 15:45:43.960 +03:00 [INF] End processing HTTP request after 44.7047ms - 200
2024-09-09 15:45:43.965 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:43.966 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.968 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:43.969 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:43.971 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:43.972 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.975 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.978 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.979 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:43.981 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.982 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:43.984 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:43.985 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:43.986 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.987 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:43.988 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:43.990 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:43.992 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.994 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:43.997 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:43.999 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.001 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.003 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.004 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:44.006 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.007 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.008 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.009 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.011 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:44.012 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.014 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.015 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.016 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.017 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.018 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.019 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.024 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.026 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:45:44.027 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.029 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.030 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.032 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:44.034 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:44.035 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:44.037 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:45:44.040 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:45:44.041 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:44.042 +03:00 [DBG] Running health checks
2024-09-09 15:45:44.043 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:44.052 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.4403ms with message 'Available memory: 215617536 bytes.'
2024-09-09 15:45:44.054 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 12.1892ms
2024-09-09 15:45:44.056 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:44.056 +03:00 [INF] Received HTTP response headers after 20.3257ms - 200
2024-09-09 15:45:44.058 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 20.8123ms
2024-09-09 15:45:44.059 +03:00 [INF] End processing HTTP request after 25.497ms - 200
2024-09-09 15:45:44.065 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.067 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.069 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.070 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.071 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.073 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.075 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.077 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.079 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.080 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.081 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.083 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:45:44.084 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.086 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:44.088 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:44.089 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.090 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.092 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.093 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.094 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.096 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.099 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.103 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.104 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.106 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.107 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.110 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:44.111 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.112 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.114 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.115 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.118 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.120 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.122 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.123 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:44.125 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.126 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.128 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:44.129 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:44.130 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.131 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.133 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:44.135 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.137 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.140 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.142 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:44.144 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.145 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.146 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.147 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:44.150 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:44.152 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.154 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.156 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:44.159 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:44.160 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.161 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.163 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:44.164 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.166 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.168 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:44.169 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:44.170 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:44.173 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:45:44.175 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:45:44.176 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:44.177 +03:00 [DBG] Running health checks
2024-09-09 15:45:44.177 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:44.179 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.6518ms with message 'Database is available.'
2024-09-09 15:45:44.181 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 4.1619ms
2024-09-09 15:45:44.183 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:44.183 +03:00 [INF] Received HTTP response headers after 11.0355ms - 200
2024-09-09 15:45:44.184 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 10.9945ms
2024-09-09 15:45:44.185 +03:00 [INF] End processing HTTP request after 15.8613ms - 200
2024-09-09 15:45:44.189 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.190 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.192 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.192 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.193 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.195 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.197 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.200 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.201 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.203 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.204 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:44.206 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.207 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.208 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:44.209 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.210 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.213 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.214 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.214 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.216 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.218 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.219 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.220 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.222 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.223 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.224 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:44.225 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.226 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.227 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.229 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.231 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.232 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.234 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:44.236 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.237 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.239 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:44.240 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:44.241 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.242 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.244 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.245 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.247 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.248 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.249 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.251 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.252 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.253 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.254 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.255 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.258 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.259 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.261 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:44.264 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:44.265 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.267 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.268 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:44.269 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.271 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.273 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:44.275 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:44.277 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:44.279 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:45:44.282 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:45:44.284 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:44.285 +03:00 [DBG] Running health checks
2024-09-09 15:45:44.286 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:44.314 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.6871ms with message 'Ping successful.'
2024-09-09 15:45:44.316 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 31.4421ms
2024-09-09 15:45:44.317 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:44.317 +03:00 [INF] Received HTTP response headers after 38.9618ms - 200
2024-09-09 15:45:44.319 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 39.4524ms
2024-09-09 15:45:44.320 +03:00 [INF] End processing HTTP request after 44.886ms - 200
2024-09-09 15:45:44.324 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.326 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.327 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.328 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.329 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.330 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.332 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.335 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.336 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.338 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.339 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:44.340 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.342 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.343 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:44.345 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.346 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.347 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.348 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.349 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.351 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.353 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:44.355 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.356 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.358 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.359 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.360 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:44.361 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.362 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:44.363 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.364 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.366 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:44.368 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.370 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:44.371 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.373 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.374 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:44.376 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:44.377 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.377 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.379 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:44.380 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.383 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.385 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.386 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.388 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:44.388 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:44.389 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:44.391 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.393 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:44.395 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.396 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:44.397 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:44.400 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:44.401 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:44.403 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.405 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:44.406 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.407 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:44.409 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:44.410 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:45:44.411 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:45:44.413 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:45:44.414 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:44.415 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:44.492 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:45:44.494 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 3 items
2024-09-09 15:45:54.424 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:45:54.427 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:45:54.431 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:45:54.433 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 15:45:54.435 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.437 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.439 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.442 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.443 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.446 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:54.448 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:45:54.452 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.454 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.455 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.458 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.459 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.461 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.463 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 15:45:54.465 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.467 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.468 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:54.470 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:54.473 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:54.476 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:54.477 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:54.478 +03:00 [DBG] Running health checks
2024-09-09 15:45:54.480 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:54.480 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:54.480 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:54.481 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.5602ms with message 'Database is available.'
2024-09-09 15:45:54.490 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.4432ms with message 'Available memory: 217497600 bytes.'
2024-09-09 15:45:54.502 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:45:54.505 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 3 items
2024-09-09 15:45:54.510 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.289ms with message 'Ping successful.'
2024-09-09 15:45:54.513 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.2102ms
2024-09-09 15:45:54.515 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:54.515 +03:00 [INF] Received HTTP response headers after 42.9563ms - 200
2024-09-09 15:45:54.516 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 43.7628ms
2024-09-09 15:45:54.517 +03:00 [INF] End processing HTTP request after 48.9086ms - 200
2024-09-09 15:45:54.523 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.525 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.526 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.527 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.529 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.530 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.534 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.537 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.538 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.540 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:54.541 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.543 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.544 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:54.545 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.547 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.548 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.550 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.552 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.553 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.556 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.559 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.561 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:54.563 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.565 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:45:54.567 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:54.568 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.569 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.570 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.571 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.573 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:54.575 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.576 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.577 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.578 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.580 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.581 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.583 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.588 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.590 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:54.592 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.593 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.595 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.597 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:54.598 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:45:54.599 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:45:54.602 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:45:54.604 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:45:54.605 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:54.606 +03:00 [DBG] Running health checks
2024-09-09 15:45:54.607 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:54.607 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:54.607 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:54.609 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.1614ms with message 'Database is available.'
2024-09-09 15:45:54.615 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.0394ms with message 'Available memory: 217714688 bytes.'
2024-09-09 15:45:54.636 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.1912ms with message 'Ping successful.'
2024-09-09 15:45:54.638 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.4149ms
2024-09-09 15:45:54.640 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:54.640 +03:00 [INF] Received HTTP response headers after 39.2158ms - 200
2024-09-09 15:45:54.641 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 39.3243ms
2024-09-09 15:45:54.642 +03:00 [INF] End processing HTTP request after 43.7914ms - 200
2024-09-09 15:45:54.648 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.650 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.652 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.654 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.655 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.656 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.660 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.664 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.666 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:54.668 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.670 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.671 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:54.673 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.675 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.677 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.678 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.680 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.681 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.685 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.688 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.690 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:54.692 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.694 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.696 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:54.697 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.699 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.700 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.702 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.704 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:54.706 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.708 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.710 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.712 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.713 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.715 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.718 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.723 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.725 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:54.727 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.729 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.731 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.734 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:45:54.736 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:54.738 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:45:54.741 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:45:54.745 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:45:54.747 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:54.747 +03:00 [DBG] Running health checks
2024-09-09 15:45:54.748 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:45:54.756 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 7.9419ms with message 'Available memory: 217894912 bytes.'
2024-09-09 15:45:54.759 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 11.1335ms
2024-09-09 15:45:54.761 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:54.761 +03:00 [INF] Received HTTP response headers after 20.3964ms - 200
2024-09-09 15:45:54.762 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 20.7811ms
2024-09-09 15:45:54.763 +03:00 [INF] End processing HTTP request after 27.2545ms - 200
2024-09-09 15:45:54.770 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.771 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.773 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.774 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.776 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.778 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.781 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.785 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.787 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.789 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.790 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.792 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:45:54.794 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.796 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.798 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:54.799 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.802 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.804 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.805 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.807 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.808 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.811 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.814 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.816 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:45:54.818 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.819 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.820 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:54.822 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.823 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.824 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.826 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.828 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.829 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.831 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.833 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:54.834 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.836 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.837 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:54.839 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:54.840 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.841 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.842 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.844 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.846 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.849 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.851 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:54.853 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.854 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.856 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.857 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:54.859 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:45:54.861 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.863 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:54.865 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:54.868 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:54.869 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.871 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.872 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:54.874 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.876 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.878 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:54.880 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:54.881 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:45:54.884 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:45:54.887 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:45:54.888 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:54.889 +03:00 [DBG] Running health checks
2024-09-09 15:45:54.890 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:45:54.892 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.7346ms with message 'Database is available.'
2024-09-09 15:45:54.895 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.7214ms
2024-09-09 15:45:54.896 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:54.896 +03:00 [INF] Received HTTP response headers after 13.6889ms - 200
2024-09-09 15:45:54.897 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 13.8489ms
2024-09-09 15:45:54.899 +03:00 [INF] End processing HTTP request after 19.0127ms - 200
2024-09-09 15:45:54.904 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.906 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.907 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.908 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-09 15:45:54.911 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.914 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.917 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.921 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.923 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.926 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.928 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 15:45:54.929 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.931 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.933 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:54.934 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.936 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.937 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.939 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.940 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.942 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.945 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:54.948 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.949 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:54.951 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.953 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:54.954 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:54.956 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.957 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:54.959 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.961 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.963 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:54.965 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:54.968 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:54.969 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:54.971 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.973 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:54.975 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:54.976 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.977 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.979 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:54.980 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.983 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.986 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:54.988 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:54.990 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:54.991 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:54.993 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:45:54.995 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:54.998 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:55.000 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.002 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:55.004 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:55.006 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:55.008 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.009 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:55.012 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:55.013 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.016 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.019 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:55.020 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:55.022 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:45:55.024 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:45:55.028 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:45:55.029 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:45:55.030 +03:00 [DBG] Running health checks
2024-09-09 15:45:55.031 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:45:55.058 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.4956ms with message 'Ping successful.'
2024-09-09 15:45:55.060 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 30.1825ms
2024-09-09 15:45:55.061 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:45:55.061 +03:00 [INF] Received HTTP response headers after 38.1049ms - 200
2024-09-09 15:45:55.063 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 38.3288ms
2024-09-09 15:45:55.064 +03:00 [INF] End processing HTTP request after 44.0182ms - 200
2024-09-09 15:45:55.069 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:55.071 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.072 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:55.073 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:55.075 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:55.076 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:55.079 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:55.082 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.084 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.085 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.087 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:45:55.088 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.089 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:55.091 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:45:55.092 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:55.094 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.096 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:55.097 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:55.098 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:55.100 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:55.102 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:45:55.105 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.106 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:55.108 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.109 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:55.111 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:45:55.112 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:55.113 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:45:55.114 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:55.115 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.117 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:45:55.118 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.119 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:45:55.120 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:55.122 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.123 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:45:55.124 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:45:55.125 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:55.126 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:55.128 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:55.129 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:55.131 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:55.134 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.135 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:55.137 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:45:55.138 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:45:55.139 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:45:55.141 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:55.143 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:45:55.146 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.147 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:45:55.148 +03:00 [DBG] Committing transaction.
2024-09-09 15:45:55.152 +03:00 [DBG] Committed transaction.
2024-09-09 15:45:55.153 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:45:55.154 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:55.155 +03:00 [DBG] Disposing transaction.
2024-09-09 15:45:55.156 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.157 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:45:55.159 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:45:55.161 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:45:55.162 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:45:55.163 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:45:55.164 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:45:55.165 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:45:58.107 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" received FIN.
2024-09-09 15:45:58.110 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" disconnecting.
2024-09-09 15:45:58.112 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 15:45:58.121 +03:00 [DBG] Connection id "0HN6GPJNBSVUP" stopped.
2024-09-09 15:46:04.515 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 15:46:04.517 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 3 items
2024-09-09 15:46:05.180 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 15:46:05.184 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 15:46:05.186 +03:00 [DBG] Creating DbConnection.
2024-09-09 15:46:05.187 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 15:46:05.189 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.191 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.193 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.195 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.197 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.199 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:46:05.201 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 15:46:05.204 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.206 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.208 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.210 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.212 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.214 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.217 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 15:46:05.220 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.222 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.225 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:46:05.226 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:46:05.230 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:46:05.237 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:46:05.239 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:46:05.240 +03:00 [DBG] Running health checks
2024-09-09 15:46:05.241 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:46:05.241 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:46:05.245 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.7756ms with message 'Database is available.'
2024-09-09 15:46:05.241 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:46:05.266 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 24.8604ms with message 'Available memory: 218808320 bytes.'
2024-09-09 15:46:05.279 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 37.2865ms with message 'Ping successful.'
2024-09-09 15:46:05.281 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 41.6689ms
2024-09-09 15:46:05.284 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:46:05.284 +03:00 [INF] Received HTTP response headers after 54.7127ms - 200
2024-09-09 15:46:05.287 +03:00 [INF] End processing HTTP request after 62.1182ms - 200
2024-09-09 15:46:05.285 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 55.4882ms
2024-09-09 15:46:05.289 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.295 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.297 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.298 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.300 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.302 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.306 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.310 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.312 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.313 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 15:46:05.315 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.317 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:46:05.320 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:46:05.322 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.324 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.326 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.328 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.330 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 15:46:05.332 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.336 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.340 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.342 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:46:05.345 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.347 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.350 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:46:05.351 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.352 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.354 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.356 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.359 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:46:05.361 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.364 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.366 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.367 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.369 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.371 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.373 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.379 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.381 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 15:46:05.383 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.385 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.386 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.388 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:46:05.390 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 15:46:05.392 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 15:46:05.395 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 15:46:05.398 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 15:46:05.400 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:46:05.401 +03:00 [DBG] Running health checks
2024-09-09 15:46:05.402 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:46:05.402 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:46:05.402 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:46:05.405 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.1269ms with message 'Database is available.'
2024-09-09 15:46:05.411 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.7956ms with message 'Available memory: 219000832 bytes.'
2024-09-09 15:46:05.433 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.9968ms with message 'Ping successful.'
2024-09-09 15:46:05.436 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.6857ms
2024-09-09 15:46:05.438 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:46:05.438 +03:00 [INF] Received HTTP response headers after 44.5742ms - 200
2024-09-09 15:46:05.439 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 44.5655ms
2024-09-09 15:46:05.441 +03:00 [INF] End processing HTTP request after 50.6892ms - 200
2024-09-09 15:46:05.446 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.448 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.450 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.451 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.453 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.454 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.458 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.461 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.463 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.465 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.467 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.469 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:46:05.470 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.472 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.474 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.476 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.477 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.479 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.482 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.486 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.487 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.489 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.491 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.493 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:46:05.494 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.495 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.497 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.498 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.500 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:46:05.502 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.504 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.506 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.508 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.510 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.511 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.514 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.518 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.520 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:46:05.522 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.524 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:46:05.527 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.530 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 15:46:05.532 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:46:05.535 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 15:46:05.540 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 15:46:05.544 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 15:46:05.546 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:46:05.548 +03:00 [DBG] Running health checks
2024-09-09 15:46:05.550 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 15:46:05.562 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.5702ms with message 'Available memory: 219189248 bytes.'
2024-09-09 15:46:05.568 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 20.3414ms
2024-09-09 15:46:05.571 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:46:05.571 +03:00 [INF] Received HTTP response headers after 31.6844ms - 200
2024-09-09 15:46:05.573 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 32.6512ms
2024-09-09 15:46:05.575 +03:00 [INF] End processing HTTP request after 42.6162ms - 200
2024-09-09 15:46:05.585 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.587 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.589 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.592 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.595 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 15:46:05.599 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.604 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.608 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.611 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.614 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.616 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.618 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 15:46:05.620 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.623 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:46:05.625 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:46:05.627 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.631 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.633 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.634 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.636 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.638 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.641 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.646 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.648 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.650 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.652 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.654 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:46:05.655 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.657 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.658 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.659 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.663 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.664 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.667 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.668 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:46:05.669 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.672 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.673 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:46:05.675 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:46:05.677 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.678 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.680 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.682 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.685 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.688 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.690 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.692 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.694 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.696 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.698 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:46:05.700 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 15:46:05.703 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.705 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 15:46:05.707 +03:00 [DBG] Committing transaction.
2024-09-09 15:46:05.711 +03:00 [DBG] Committed transaction.
2024-09-09 15:46:05.712 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.714 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.715 +03:00 [DBG] Disposing transaction.
2024-09-09 15:46:05.716 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.718 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.721 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:46:05.722 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 15:46:05.724 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 15:46:05.727 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 15:46:05.730 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 15:46:05.731 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:46:05.732 +03:00 [DBG] Running health checks
2024-09-09 15:46:05.733 +03:00 [DBG] Running health check Database Health Check
2024-09-09 15:46:05.735 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.6412ms with message 'Database is available.'
2024-09-09 15:46:05.737 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.679ms
2024-09-09 15:46:05.739 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:46:05.739 +03:00 [INF] Received HTTP response headers after 13.4648ms - 200
2024-09-09 15:46:05.740 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 13.703ms
2024-09-09 15:46:05.742 +03:00 [INF] End processing HTTP request after 19.1591ms - 200
2024-09-09 15:46:05.747 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.749 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.751 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.752 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.754 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.755 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.758 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.761 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.763 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.765 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.767 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:46:05.769 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.771 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.773 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:46:05.774 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.776 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.777 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.778 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.779 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.781 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.784 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.787 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.789 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.791 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.792 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.794 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:46:05.796 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.797 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.799 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.800 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.802 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.804 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.806 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:46:05.808 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.810 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.812 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:46:05.813 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:46:05.814 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.815 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.817 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.818 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.821 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.823 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.825 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.827 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.828 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.829 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.830 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.833 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.835 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.837 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.839 +03:00 [DBG] Committing transaction.
2024-09-09 15:46:05.843 +03:00 [DBG] Committed transaction.
2024-09-09 15:46:05.844 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.846 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:46:05.848 +03:00 [DBG] Disposing transaction.
2024-09-09 15:46:05.849 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.851 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.854 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:46:05.855 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 15:46:05.857 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 15:46:05.860 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 15:46:05.863 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 15:46:05.864 +03:00 [DBG] Request did not match any endpoints
2024-09-09 15:46:05.865 +03:00 [DBG] Running health checks
2024-09-09 15:46:05.866 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 15:46:05.895 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.4152ms with message 'Ping successful.'
2024-09-09 15:46:05.897 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.2601ms
2024-09-09 15:46:05.899 +03:00 [DBG] Connection id "0HN6GPJNBSVUR" completed keep alive response.
2024-09-09 15:46:05.900 +03:00 [INF] Received HTTP response headers after 40.8395ms - 200
2024-09-09 15:46:05.901 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 41.3354ms
2024-09-09 15:46:05.902 +03:00 [INF] End processing HTTP request after 47.0959ms - 200
2024-09-09 15:46:05.909 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.911 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.913 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.914 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.915 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.917 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.920 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.923 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.924 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.926 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.928 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 15:46:05.930 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.932 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.934 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 15:46:05.936 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.938 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.940 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.941 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.943 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:05.944 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.948 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 15:46:05.952 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.953 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.956 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.958 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 15:46:05.960 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 15:46:05.961 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.962 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 15:46:05.964 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.966 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.969 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 15:46:05.970 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:05.973 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 15:46:05.975 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:05.976 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.979 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 15:46:05.980 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 15:46:05.983 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.984 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.986 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 15:46:05.987 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.989 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:05.992 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:05.994 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:05.996 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 15:46:05.997 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 15:46:05.999 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 15:46:06.001 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:06.003 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 15:46:06.006 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:06.007 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 15:46:06.009 +03:00 [DBG] Committing transaction.
2024-09-09 15:46:06.013 +03:00 [DBG] Committed transaction.
2024-09-09 15:46:06.014 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 15:46:06.016 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 15:46:06.018 +03:00 [DBG] Disposing transaction.
2024-09-09 15:46:06.019 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:06.021 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 15:46:06.023 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 15:46:06.025 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 15:46:06.026 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 15:46:06.027 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 15:46:06.029 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 15:46:06.030 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 21:56:11.983 +03:00 [DBG] This is a debug message
2024-09-09 21:56:12.054 +03:00 [INF] This is an info message
2024-09-09 21:56:12.058 +03:00 [WRN] This is a warning message
2024-09-09 21:56:12.061 +03:00 [ERR] This is an error message
2024-09-09 21:56:12.066 +03:00 [FTL] This is a fatal message
2024-09-09 21:56:43.355 +03:00 [DBG] This is a debug message
2024-09-09 21:56:43.413 +03:00 [INF] This is an info message
2024-09-09 21:56:43.415 +03:00 [WRN] This is a warning message
2024-09-09 21:56:43.416 +03:00 [ERR] This is an error message
2024-09-09 21:56:43.417 +03:00 [FTL] This is a fatal message
2024-09-09 21:57:15.132 +03:00 [DBG] This is a debug message
2024-09-09 21:57:15.182 +03:00 [INF] This is an info message
2024-09-09 21:57:15.184 +03:00 [WRN] This is a warning message
2024-09-09 21:57:15.186 +03:00 [ERR] This is an error message
2024-09-09 21:57:15.188 +03:00 [FTL] This is a fatal message
2024-09-09 21:58:30.080 +03:00 [DBG] This is a debug message
2024-09-09 21:58:30.144 +03:00 [INF] This is an info message
2024-09-09 21:58:30.146 +03:00 [WRN] This is a warning message
2024-09-09 21:58:30.148 +03:00 [ERR] This is an error message
2024-09-09 21:58:30.150 +03:00 [FTL] This is a fatal message
2024-09-09 21:58:30.967 +03:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-09-09 21:58:31.299 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-09 21:58:31.476 +03:00 [DBG] Hosting starting
2024-09-09 21:58:31.592 +03:00 [INF] User profile is available. Using 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-09 21:58:31.606 +03:00 [INF] Initializing UI Database
2024-09-09 21:58:32.133 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-09 21:58:34.946 +03:00 [DBG] The property 'HealthCheckExecutionEntry.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 21:58:34.949 +03:00 [DBG] The property 'HealthCheckExecutionHistory.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 21:58:35.313 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 21:58:35.371 +03:00 [DBG] Creating DbConnection.
2024-09-09 21:58:35.400 +03:00 [DBG] Created DbConnection. (26ms).
2024-09-09 21:58:35.410 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:35.446 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:35.461 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:35.475 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 21:58:35.497 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-09 21:58:35.500 +03:00 [DBG] Creating DbConnection.
2024-09-09 21:58:35.502 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 21:58:35.518 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (12ms).
2024-09-09 21:58:35.525 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (28ms).
2024-09-09 21:58:35.539 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:35.555 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:35.579 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 21:58:35.681 +03:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 21:58:35.691 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:35.698 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 21:58:35.731 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:35.733 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:35.735 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:35.737 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:35.739 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:35.742 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 21:58:35.748 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 21:58:35.761 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:35.765 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 21:58:35.768 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:35.770 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:35.883 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()
    .Any()'
2024-09-09 21:58:36.243 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Configurations AS c)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 21:58:36.295 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:36.297 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:36.299 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:36.300 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:36.302 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:36.305 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 21:58:36.309 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 21:58:36.317 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:36.319 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 21:58:36.322 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:36.323 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 21:58:36.333 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()'
2024-09-09 21:58:36.422 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: HealthCheckConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckConfiguration.DiscoveryService (string) MaxLength(100), 1], [Property: HealthCheckConfiguration.Name (string) Required MaxLength(500), 2], [Property: HealthCheckConfiguration.Uri (string) Required MaxLength(500), 3] }
        SELECT c.Id, c.DiscoveryService, c.Name, c.Uri
        FROM Configurations AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Data.HealthChecksDb, 
    False, 
    False, 
    True
)'
2024-09-09 21:58:36.433 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:36.435 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:36.437 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:36.439 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:36.440 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:36.442 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 21:58:36.446 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 21:58:36.508 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:36.548 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:36.552 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:36.557 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:36.560 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:36.562 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:36.565 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 116ms reading results.
2024-09-09 21:58:36.569 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:36.574 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 21:58:36.585 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:36.603 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:36.636 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:58:36.648 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 0 entities written to the database.
2024-09-09 21:58:36.653 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 21:58:36.657 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:36.659 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:36.670 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-708ff948-4064-4637-b437-6d3d4d39db23.xml'.
2024-09-09 21:58:36.689 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-b1c18ae0-c8a0-4231-a320-ae7c37796e64.xml'.
2024-09-09 21:58:36.693 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-c1775fa6-7869-4e48-a739-17ea1f4d4600.xml'.
2024-09-09 21:58:36.698 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-f484012b-a04f-4d48-bbf1-e6db9c34915c.xml'.
2024-09-09 21:58:36.713 +03:00 [DBG] Found key {708ff948-4064-4637-b437-6d3d4d39db23}.
2024-09-09 21:58:36.725 +03:00 [DBG] Found key {b1c18ae0-c8a0-4231-a320-ae7c37796e64}.
2024-09-09 21:58:36.728 +03:00 [DBG] Found key {c1775fa6-7869-4e48-a739-17ea1f4d4600}.
2024-09-09 21:58:36.730 +03:00 [DBG] Found key {f484012b-a04f-4d48-bbf1-e6db9c34915c}.
2024-09-09 21:58:36.747 +03:00 [DBG] Considering key {708ff948-4064-4637-b437-6d3d4d39db23} with expiration date 2024-11-18 12:06:14Z as default key.
2024-09-09 21:58:36.757 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 21:58:36.761 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-09 21:58:36.765 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 21:58:36.772 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-09 21:58:36.776 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-09 21:58:36.782 +03:00 [DBG] Using key {708ff948-4064-4637-b437-6d3d4d39db23} as the default key.
2024-09-09 21:58:36.785 +03:00 [DBG] Key ring with default key {708ff948-4064-4637-b437-6d3d4d39db23} was loaded during application startup.
2024-09-09 21:58:37.081 +03:00 [INF] Now listening on: https://localhost:7227
2024-09-09 21:58:37.083 +03:00 [INF] Now listening on: http://localhost:5174
2024-09-09 21:58:37.085 +03:00 [DBG] Loaded hosting startup assembly MyApi
2024-09-09 21:58:37.086 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-09 21:58:37.088 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-09 21:58:37.094 +03:00 [DBG] Connection id "0HN6H05KK5ODR" accepted.
2024-09-09 21:58:37.097 +03:00 [DBG] Connection id "0HN6H05KK5ODR" started.
2024-09-09 21:58:37.125 +03:00 [DBG] Connection id "0HN6H05KK5ODR" received FIN.
2024-09-09 21:58:37.148 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 21:58:37.148 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-09 21:58:37.170 +03:00 [DBG] Connection id "0HN6H05KK5ODR" stopped.
2024-09-09 21:58:37.176 +03:00 [DBG] Connection id "0HN6H05KK5ODR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 21:58:37.194 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 21:58:37.199 +03:00 [DBG] Creating DbConnection.
2024-09-09 21:58:37.201 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 21:58:37.203 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:37.205 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:37.207 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:37.208 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:37.210 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:37.212 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 21:58:37.215 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 21:58:37.220 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:37.223 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:37.225 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:37.228 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:37.230 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:37.233 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:37.234 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 21:58:37.237 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:37.239 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:37.279 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 21:58:37.283 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 21:58:37.297 +03:00 [DBG] Connection id "0HN6H05KK5ODS" accepted.
2024-09-09 21:58:37.299 +03:00 [DBG] Connection id "0HN6H05KK5ODS" started.
2024-09-09 21:58:37.308 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-09 21:58:37.309 +03:00 [INF] Hosting environment: Development
2024-09-09 21:58:37.311 +03:00 [INF] Content root path: C:\Users\Viktor\source\repos\MyApi\MyApi
2024-09-09 21:58:37.318 +03:00 [DBG] Hosting started
2024-09-09 21:58:37.334 +03:00 [DBG] Connection 0HN6H05KK5ODS established using the following protocol: "Tls12"
2024-09-09 21:58:37.401 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 21:58:37.427 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-09 21:58:37.433 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 21:58:37.482 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 21:58:37.484 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:58:37.492 +03:00 [DBG] Running health checks
2024-09-09 21:58:37.504 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 21:58:37.505 +03:00 [DBG] Running health check Database Health Check
2024-09-09 21:58:37.506 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 21:58:37.541 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 26.7906ms with message 'Database is available.'
2024-09-09 21:58:37.545 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 46.8191ms with message 'Available memory: 134316032 bytes.'
2024-09-09 21:58:37.566 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 67.5409ms with message 'Ping successful.'
2024-09-09 21:58:37.585 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 84.4925ms
2024-09-09 21:58:37.710 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:58:37.714 +03:00 [INF] Received HTTP response headers after 422.7981ms - 200
2024-09-09 21:58:37.714 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 324.4797ms
2024-09-09 21:58:37.717 +03:00 [INF] End processing HTTP request after 440.7508ms - 200
2024-09-09 21:58:37.828 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckExecution>()
    .Include(le => le.History)
    .Include(le => le.Entries)
    .Where(le => le.Name == __configuration_Name_0)
    .SingleOrDefault()'
2024-09-09 21:58:37.873 +03:00 [DBG] Including navigation: 'HealthCheckExecution.History'.
2024-09-09 21:58:37.877 +03:00 [DBG] Including navigation: 'HealthCheckExecution.Entries'.
2024-09-09 21:58:37.994 +03:00 [DBG] Connection id "0HN6H05KK5ODT" accepted.
2024-09-09 21:58:37.997 +03:00 [DBG] Connection id "0HN6H05KK5ODT" started.
2024-09-09 21:58:38.009 +03:00 [DBG] Connection 0HN6H05KK5ODT established using the following protocol: "Tls12"
2024-09-09 21:58:38.051 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/index.html - null null
2024-09-09 21:58:38.106 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-09 21:58:38.127 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckExecution>(
    asyncEnumerable: new SingleQueryingEnumerable<HealthCheckExecution>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: HealthCheckExecution.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckExecution.DiscoveryService (string) MaxLength(50), 1], [Property: HealthCheckExecution.LastExecuted (DateTime) Required, 2], [Property: HealthCheckExecution.Name (string) Required MaxLength(500), 3], [Property: HealthCheckExecution.OnStateFrom (DateTime) Required, 4], [Property: HealthCheckExecution.Status (UIHealthStatus) Required, 5], [Property: HealthCheckExecution.Uri (string) Required MaxLength(500), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionHistory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: HealthCheckExecutionHistory.Description (string), 8], [Property: HealthCheckExecutionHistory.HealthCheckExecutionId (no field, int?) Shadow FK Index, 9], [Property: HealthCheckExecutionHistory.Name (string) MaxLength(500), 10], [Property: HealthCheckExecutionHistory.On (DateTime) Required, 11], [Property: HealthCheckExecutionHistory.Status (UIHealthStatus) Required MaxLength(50), 12] }
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionEntry.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: HealthCheckExecutionEntry.Description (string), 14], [Property: HealthCheckExecutionEntry.Duration (TimeSpan) Required, 15], [Property: HealthCheckExecutionEntry.HealthCheckExecutionId (no field, int?) Shadow FK Index, 16], [Property: HealthCheckExecutionEntry.Name (string) Required MaxLength(500), 17], [Property: HealthCheckExecutionEntry.Status (UIHealthStatus) Required, 18], [Property: HealthCheckExecutionEntry.Tags (List<string>), 19] }
                5 -> 13
            SELECT t.Id, t.DiscoveryService, t.LastExecuted, t.Name, t.OnStateFrom, t.Status, t.Uri, h.Id, h.Description, h.HealthCheckExecutionId, h.Name, h.On, h.Status, h0.Id, h0.Description, h0.Duration, h0.HealthCheckExecutionId, h0.Name, h0.Status, h0.Tags
            FROM 
            (
                SELECT TOP(2) e.Id, e.DiscoveryService, e.LastExecuted, e.Name, e.OnStateFrom, e.Status, e.Uri
                FROM Executions AS e
                WHERE e.Name == @__configuration_Name_0
            ) AS t
            LEFT JOIN HealthCheckExecutionHistories AS h ON t.Id == h.HealthCheckExecutionId
            LEFT JOIN HealthCheckExecutionEntries AS h0 ON t.Id == h0.HealthCheckExecutionId
            ORDER BY t.Id ASC, h.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckExecution>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 21:58:38.156 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-09-09 21:58:38.159 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-09 21:58:38.161 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:58:38.162 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:38.165 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.167 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:38.169 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:38.175 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 21:58:38.181 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:38.192 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:38.221 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:38.262 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.264 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 67ms reading results.
2024-09-09 21:58:38.268 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.270 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:38.276 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:58:38.284 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:38.287 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.289 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:38.291 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:38.293 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:38.295 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:38.300 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:38.305 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.307 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:38.309 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.310 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-09 21:58:38.312 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:38.317 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:58:38.321 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:38.322 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:38.335 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:38.350 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-09 21:58:38.355 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/index.html - 200 null text/html;charset=utf-8 303.7626ms
2024-09-09 21:58:38.356 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:38.382 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:58:38.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_vs/browserLink - null null
2024-09-09 21:58:38.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - null null
2024-09-09 21:58:38.486 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 29.5116ms
2024-09-09 21:58:38.542 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:38.545 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.553 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:38.555 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:58:38.562 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 21:58:38.565 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:38.571 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:38.586 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_vs/browserLink - 200 null text/javascript; charset=UTF-8 129.4415ms
2024-09-09 21:58:38.591 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.598 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 22ms reading results.
2024-09-09 21:58:38.603 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.607 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:58:38.620 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:38.625 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 21:58:38.627 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 21:58:38.629 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 21:58:38.634 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 21:58:38.639 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 21:58:38.641 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 21:58:38.643 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:58:38.644 +03:00 [DBG] Running health checks
2024-09-09 21:58:38.646 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 21:58:38.646 +03:00 [DBG] Running health check Database Health Check
2024-09-09 21:58:38.646 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 21:58:38.650 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.1276ms with message 'Database is available.'
2024-09-09 21:58:38.659 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 13.1956ms with message 'Available memory: 142569472 bytes.'
2024-09-09 21:58:38.679 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 33.1533ms with message 'Ping successful.'
2024-09-09 21:58:38.682 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.4893ms
2024-09-09 21:58:38.686 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:58:38.686 +03:00 [INF] Received HTTP response headers after 55.785ms - 200
2024-09-09 21:58:38.688 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 54.2513ms
2024-09-09 21:58:38.690 +03:00 [INF] End processing HTTP request after 62.3255ms - 200
2024-09-09 21:58:38.697 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:38.699 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.702 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:38.703 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:38.705 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:38.707 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:38.711 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:38.718 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.720 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 21:58:38.723 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.725 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:38.727 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:58:38.729 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:38.732 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.735 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:38.737 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:38.738 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:38.740 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:38.746 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:38.752 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.754 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:38.756 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.759 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:38.761 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:58:38.763 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:38.765 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:38.767 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:38.770 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:38.773 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:58:38.775 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:38.778 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.781 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:38.783 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:38.784 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:38.787 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:38.791 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:38.797 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.800 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 21:58:38.803 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.805 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:38.808 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:38.813 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 21:58:38.816 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 21:58:38.818 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 21:58:38.822 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 21:58:38.827 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 21:58:38.829 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 21:58:38.830 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:58:38.832 +03:00 [DBG] Running health checks
2024-09-09 21:58:38.834 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 21:58:38.846 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.9553ms with message 'Available memory: 142782464 bytes.'
2024-09-09 21:58:38.850 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 17.398ms
2024-09-09 21:58:38.884 +03:00 [INF] Received HTTP response headers after 63.2849ms - 200
2024-09-09 21:58:38.884 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:58:38.886 +03:00 [INF] End processing HTTP request after 70.2903ms - 200
2024-09-09 21:58:38.888 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 65.6723ms
2024-09-09 21:58:38.901 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:38.904 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:38.906 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:38.908 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:38.909 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:38.912 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:38.918 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:38.925 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:38.948 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:38.981 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:38.984 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - null null
2024-09-09 21:58:38.987 +03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2024-09-09 21:58:38.989 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-09 21:58:38.990 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:58:39.010 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.012 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 87ms reading results.
2024-09-09 21:58:39.015 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.018 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:39.021 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:58:39.023 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:39.025 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.027 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:39.028 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:39.030 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:58:39.032 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:39.037 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:39.043 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.045 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:39.048 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.050 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:39.053 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:58:39.058 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:39.060 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:39.062 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:39.064 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.085 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:39.088 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.096 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:39.106 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:58:39.120 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:39.122 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.128 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 21:58:39.136 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 21:58:39.140 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:39.142 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:58:39.145 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:58:39.147 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:39.152 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:39.156 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.158 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:39.163 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:39.165 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:58:39.168 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:58:39.171 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 21:58:39.176 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 21:58:39.181 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.183 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:39.191 +03:00 [DBG] Committing transaction.
2024-09-09 21:58:39.197 +03:00 [DBG] Committed transaction.
2024-09-09 21:58:39.204 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.207 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:58:39.213 +03:00 [DBG] Disposing transaction.
2024-09-09 21:58:39.215 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.223 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.227 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 21:58:39.229 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 21:58:39.230 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 21:58:39.234 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 21:58:39.238 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 21:58:39.240 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 21:58:39.242 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:58:39.244 +03:00 [DBG] Running health checks
2024-09-09 21:58:39.245 +03:00 [DBG] Running health check Database Health Check
2024-09-09 21:58:39.247 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.7397ms with message 'Database is available.'
2024-09-09 21:58:39.251 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 7.9425ms
2024-09-09 21:58:39.255 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:58:39.255 +03:00 [INF] Received HTTP response headers after 22.8728ms - 200
2024-09-09 21:58:39.257 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 23.3029ms
2024-09-09 21:58:39.259 +03:00 [INF] End processing HTTP request after 30.5342ms - 200
2024-09-09 21:58:39.262 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 278.3858ms
2024-09-09 21:58:39.270 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:39.278 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.281 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:39.283 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:39.286 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:58:39.288 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:39.294 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:39.305 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.308 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.311 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.313 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 21:58:39.317 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.320 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:39.322 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:58:39.325 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:39.330 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.333 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:39.335 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:39.337 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:58:39.339 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:39.345 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:39.350 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.352 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:39.355 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.361 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 21:58:39.364 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:58:39.365 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:39.367 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:39.369 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:39.372 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.375 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:39.378 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.381 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:58:39.383 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:39.386 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.388 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 21:58:39.390 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 21:58:39.392 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:39.393 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:39.395 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:39.397 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:39.401 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:39.406 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.408 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:39.411 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:39.412 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:39.414 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:39.416 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:39.420 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:39.425 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.427 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:39.430 +03:00 [DBG] Committing transaction.
2024-09-09 21:58:39.432 +03:00 [DBG] Committed transaction.
2024-09-09 21:58:39.434 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.436 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:39.439 +03:00 [DBG] Disposing transaction.
2024-09-09 21:58:39.441 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.444 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.447 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 21:58:39.449 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 21:58:39.450 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 21:58:39.454 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 21:58:39.458 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 21:58:39.459 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 21:58:39.461 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:58:39.463 +03:00 [DBG] Running health checks
2024-09-09 21:58:39.464 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 21:58:39.492 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.2083ms with message 'Ping successful.'
2024-09-09 21:58:39.496 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.0892ms
2024-09-09 21:58:39.498 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:58:39.499 +03:00 [INF] Received HTTP response headers after 46.372ms - 200
2024-09-09 21:58:39.500 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 46.2172ms
2024-09-09 21:58:39.502 +03:00 [INF] End processing HTTP request after 53.2774ms - 200
2024-09-09 21:58:39.526 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:39.529 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.531 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:39.532 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:39.534 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:39.537 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:39.544 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:39.550 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.553 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.556 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.558 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 21:58:39.561 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.563 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:39.567 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:58:39.569 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:39.571 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.573 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:39.575 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:58:39.578 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:58:39.582 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:39.592 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:39.598 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.600 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:39.603 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.605 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:39.608 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:58:39.609 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:39.611 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:39.613 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:39.616 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.619 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:39.621 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.625 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:58:39.627 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:39.630 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.632 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 21:58:39.634 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 21:58:39.636 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:39.637 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:39.640 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:39.642 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:39.646 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:39.651 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.653 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:39.657 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:39.659 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:39.661 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:58:39.663 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:39.666 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:39.672 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.676 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 21:58:39.678 +03:00 [DBG] Committing transaction.
2024-09-09 21:58:39.681 +03:00 [DBG] Committed transaction.
2024-09-09 21:58:39.682 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:39.685 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:58:39.688 +03:00 [DBG] Disposing transaction.
2024-09-09 21:58:39.690 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.694 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:39.697 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 21:58:39.699 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 21:58:39.701 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 21:58:39.703 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 21:58:39.705 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:39.708 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:49.725 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 21:58:49.858 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 21:58:49.865 +03:00 [DBG] Creating DbConnection.
2024-09-09 21:58:49.866 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 21:58:49.868 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:49.871 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:49.874 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:49.875 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:49.877 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:49.879 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 21:58:49.883 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 21:58:49.886 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:49.889 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:49.891 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:49.894 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:49.896 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:49.899 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:49.900 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 21:58:49.903 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:49.905 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:49.907 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 21:58:49.909 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 21:58:49.912 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 21:58:49.915 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 21:58:49.916 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 21:58:49.918 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:58:49.919 +03:00 [DBG] Running health checks
2024-09-09 21:58:49.920 +03:00 [DBG] Running health check Database Health Check
2024-09-09 21:58:49.920 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 21:58:49.920 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 21:58:49.922 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.9111ms with message 'Database is available.'
2024-09-09 21:58:49.934 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 13.5578ms with message 'Available memory: 153755648 bytes.'
2024-09-09 21:58:49.950 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.2843ms with message 'Ping successful.'
2024-09-09 21:58:49.954 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.7462ms
2024-09-09 21:58:49.956 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:58:49.957 +03:00 [INF] Received HTTP response headers after 46.0556ms - 200
2024-09-09 21:58:49.958 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 45.9094ms
2024-09-09 21:58:49.961 +03:00 [INF] End processing HTTP request after 53.1342ms - 200
2024-09-09 21:58:49.969 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:49.971 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:49.973 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:49.975 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:49.977 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:49.979 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:49.984 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:49.990 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:49.993 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:49.995 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 21:58:49.998 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.000 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:50.002 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:58:50.004 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.007 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.009 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.011 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.013 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:50.015 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.020 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.027 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.029 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:50.034 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.037 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:58:50.041 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:58:50.043 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:50.045 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:50.047 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:50.050 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.054 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:58:50.059 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.061 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.066 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.068 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:58:50.071 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:58:50.074 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.079 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.086 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.089 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 21:58:50.092 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.095 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:50.097 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.100 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 21:58:50.102 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 21:58:50.105 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 21:58:50.109 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 21:58:50.112 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 21:58:50.114 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 21:58:50.116 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:58:50.117 +03:00 [DBG] Running health checks
2024-09-09 21:58:50.119 +03:00 [DBG] Running health check Database Health Check
2024-09-09 21:58:50.119 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 21:58:50.119 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 21:58:50.121 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.8846ms with message 'Database is available.'
2024-09-09 21:58:50.132 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.3168ms with message 'Available memory: 154034176 bytes.'
2024-09-09 21:58:50.151 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.4505ms with message 'Ping successful.'
2024-09-09 21:58:50.153 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.4605ms
2024-09-09 21:58:50.155 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:58:50.156 +03:00 [INF] Received HTTP response headers after 48.627ms - 200
2024-09-09 21:58:50.157 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 48.2844ms
2024-09-09 21:58:50.158 +03:00 [INF] End processing HTTP request after 55.7114ms - 200
2024-09-09 21:58:50.167 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.169 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.171 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.172 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.174 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:58:50.175 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.179 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.185 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.188 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:50.191 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.193 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 21:58:50.195 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:58:50.196 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.198 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.200 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.202 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.204 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:50.206 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.211 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.216 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.217 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 21:58:50.219 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.221 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 21:58:50.223 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:58:50.224 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:50.226 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:50.228 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:50.230 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.233 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:58:50.235 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.237 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.240 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.241 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.242 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:58:50.244 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.247 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.253 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.254 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 21:58:50.257 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.258 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 21:58:50.260 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.265 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 21:58:50.267 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 21:58:50.269 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 21:58:50.272 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 21:58:50.275 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 21:58:50.278 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 21:58:50.279 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:58:50.281 +03:00 [DBG] Running health checks
2024-09-09 21:58:50.282 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 21:58:50.294 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.4651ms with message 'Available memory: 155078656 bytes.'
2024-09-09 21:58:50.298 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 16.9227ms
2024-09-09 21:58:50.301 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:58:50.301 +03:00 [INF] Received HTTP response headers after 30.3663ms - 200
2024-09-09 21:58:50.302 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 30.2926ms
2024-09-09 21:58:50.305 +03:00 [INF] End processing HTTP request after 37.7592ms - 200
2024-09-09 21:58:50.313 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.316 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.318 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.321 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:58:50.323 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:58:50.325 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.330 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.336 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.338 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.341 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.344 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.346 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 21:58:50.349 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.351 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:50.353 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:58:50.356 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.357 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.360 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.362 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.364 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:50.365 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.370 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.375 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.376 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 21:58:50.379 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.381 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:50.383 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:58:50.384 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:50.386 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:50.388 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:50.390 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.393 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:50.395 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.398 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:50.401 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:58:50.404 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.406 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.408 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 21:58:50.411 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 21:58:50.413 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.415 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:58:50.418 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:58:50.420 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.426 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.434 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.437 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:50.442 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.443 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.446 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:58:50.448 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 21:58:50.453 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 21:58:50.458 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.459 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:50.463 +03:00 [DBG] Committing transaction.
2024-09-09 21:58:50.467 +03:00 [DBG] Committed transaction.
2024-09-09 21:58:50.468 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.471 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:50.473 +03:00 [DBG] Disposing transaction.
2024-09-09 21:58:50.474 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.477 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.480 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 21:58:50.483 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 21:58:50.484 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 21:58:50.488 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 21:58:50.491 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 21:58:50.493 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 21:58:50.494 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:58:50.496 +03:00 [DBG] Running health checks
2024-09-09 21:58:50.497 +03:00 [DBG] Running health check Database Health Check
2024-09-09 21:58:50.499 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.1737ms with message 'Database is available.'
2024-09-09 21:58:50.502 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.4761ms
2024-09-09 21:58:50.504 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:58:50.505 +03:00 [INF] Received HTTP response headers after 18.2092ms - 200
2024-09-09 21:58:50.506 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 18.3106ms
2024-09-09 21:58:50.508 +03:00 [INF] End processing HTTP request after 25.109ms - 200
2024-09-09 21:58:50.515 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.517 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.519 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.520 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.522 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:50.524 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.532 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.538 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.540 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.543 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.545 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 21:58:50.547 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.549 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:50.551 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:58:50.553 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.555 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.558 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.559 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.562 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:58:50.563 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.569 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.574 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.576 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:50.580 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.582 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:50.585 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:58:50.586 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:50.588 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:50.590 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:50.593 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.597 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:50.601 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.605 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:58:50.607 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.609 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.612 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 21:58:50.614 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 21:58:50.616 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.617 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.619 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:50.622 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.626 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.629 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.631 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:50.634 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.636 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.638 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:50.640 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.644 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.648 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.650 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:50.654 +03:00 [DBG] Committing transaction.
2024-09-09 21:58:50.658 +03:00 [DBG] Committed transaction.
2024-09-09 21:58:50.659 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.662 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:58:50.665 +03:00 [DBG] Disposing transaction.
2024-09-09 21:58:50.667 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.671 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.674 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 21:58:50.676 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 21:58:50.678 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 21:58:50.681 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 21:58:50.685 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 21:58:50.687 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 21:58:50.689 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:58:50.690 +03:00 [DBG] Running health checks
2024-09-09 21:58:50.692 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 21:58:50.720 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.3111ms with message 'Ping successful.'
2024-09-09 21:58:50.724 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.521ms
2024-09-09 21:58:50.726 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:58:50.727 +03:00 [INF] Received HTTP response headers after 46.842ms - 200
2024-09-09 21:58:50.728 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 47.1614ms
2024-09-09 21:58:50.730 +03:00 [INF] End processing HTTP request after 53.9814ms - 200
2024-09-09 21:58:50.738 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.740 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.742 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.743 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.745 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:50.747 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.751 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.755 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.757 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.759 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.761 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 21:58:50.763 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.765 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:50.766 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:58:50.768 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.770 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.771 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.773 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.775 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:50.777 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.782 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:58:50.786 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.787 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 21:58:50.789 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.791 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 21:58:50.793 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:58:50.794 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:50.795 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:58:50.797 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:50.799 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.801 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:58:50.803 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.805 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:58:50.807 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.809 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.810 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 21:58:50.812 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 21:58:50.813 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.814 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.816 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:50.818 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.821 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.826 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.828 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:50.831 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:58:50.832 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:58:50.834 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:58:50.836 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.840 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:58:50.844 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.846 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:58:50.849 +03:00 [DBG] Committing transaction.
2024-09-09 21:58:50.851 +03:00 [DBG] Committed transaction.
2024-09-09 21:58:50.852 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:58:50.854 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:50.857 +03:00 [DBG] Disposing transaction.
2024-09-09 21:58:50.858 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.862 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:58:50.865 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 21:58:50.867 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 21:58:50.868 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 21:58:50.870 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 21:58:50.872 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:58:50.874 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:58:59.360 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/index.html - null null
2024-09-09 21:58:59.383 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-09 21:58:59.454 +03:00 [INF] Sending file. Request path: '/index.html'. Physical path: 'C:\Users\Viktor\source\repos\MyApi\MyApi\wwwroot\index.html'
2024-09-09 21:58:59.457 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-09 21:58:59.460 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/index.html - 200 null text/html 99.4347ms
2024-09-09 21:58:59.473 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - null null
2024-09-09 21:58:59.473 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_vs/browserLink - null null
2024-09-09 21:58:59.478 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 6.2073ms
2024-09-09 21:58:59.505 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.6529ms
2024-09-09 21:58:59.516 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7227/stockHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-09-09 21:58:59.521 +03:00 [DBG] POST requests are not supported
2024-09-09 21:58:59.530 +03:00 [DBG] 1 candidate(s) found for the request path '/stockHub/negotiate'
2024-09-09 21:58:59.532 +03:00 [DBG] Request matched endpoint '/stockHub/negotiate'
2024-09-09 21:58:59.537 +03:00 [INF] Executing endpoint '/stockHub/negotiate'
2024-09-09 21:58:59.555 +03:00 [DBG] New connection MpbqkwGI2SgRAIYp7AQ5RQ created.
2024-09-09 21:58:59.569 +03:00 [DBG] Sending negotiation response.
2024-09-09 21:58:59.571 +03:00 [INF] Executed endpoint '/stockHub/negotiate'
2024-09-09 21:58:59.573 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7227/stockHub/negotiate?negotiateVersion=1 - 200 316 application/json 56.4887ms
2024-09-09 21:58:59.618 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7227/stockHub?id=SB_WWJfHPcgakqXCIFcm4w - null null
2024-09-09 21:58:59.622 +03:00 [DBG] CONNECT requests are not supported
2024-09-09 21:58:59.624 +03:00 [DBG] 1 candidate(s) found for the request path '/stockHub'
2024-09-09 21:58:59.625 +03:00 [DBG] Request matched endpoint '/stockHub'
2024-09-09 21:58:59.628 +03:00 [INF] Executing endpoint '/stockHub'
2024-09-09 21:58:59.650 +03:00 [DBG] OnConnectedAsync started.
2024-09-09 21:58:59.655 +03:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-09-09 21:58:59.677 +03:00 [DBG] Found protocol implementation for requested protocol: json.
2024-09-09 21:58:59.683 +03:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-09-09 21:59:01.003 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 21:59:01.665 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 21:59:01.675 +03:00 [DBG] Creating DbConnection.
2024-09-09 21:59:01.677 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 21:59:01.680 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:01.686 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:01.688 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:01.691 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:01.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:01.697 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 21:59:01.703 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 21:59:01.713 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:01.719 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:01.724 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:01.754 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:01.759 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:01.767 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:01.770 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 57ms reading results.
2024-09-09 21:59:01.776 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:01.781 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 21:59:01.785 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 21:59:01.791 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 21:59:01.798 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 21:59:01.803 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 21:59:01.806 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 21:59:01.807 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:59:01.809 +03:00 [DBG] Running health checks
2024-09-09 21:59:01.811 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 21:59:01.811 +03:00 [DBG] Running health check Database Health Check
2024-09-09 21:59:01.811 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 21:59:01.816 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.9016ms with message 'Database is available.'
2024-09-09 21:59:01.826 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 14.729ms with message 'Available memory: 168562688 bytes.'
2024-09-09 21:59:01.846 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 34.7739ms with message 'Ping successful.'
2024-09-09 21:59:01.852 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 42.6767ms
2024-09-09 21:59:01.855 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:59:01.855 +03:00 [INF] Received HTTP response headers after 59.6257ms - 200
2024-09-09 21:59:01.857 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 58.8363ms
2024-09-09 21:59:01.859 +03:00 [INF] End processing HTTP request after 74.318ms - 200
2024-09-09 21:59:01.870 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:01.872 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:01.876 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:01.878 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:01.881 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:01.886 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:01.894 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:01.901 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:01.905 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:01.908 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 21:59:01.914 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:01.917 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:59:01.920 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:59:01.922 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:01.925 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:01.929 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:01.932 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:01.934 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:01.937 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:01.944 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:01.953 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:01.957 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 21:59:01.962 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:01.966 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:01.969 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:59:01.971 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:01.974 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:01.977 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:01.980 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:01.985 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:59:01.988 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:01.991 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:01.995 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:01.998 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:02.001 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:02.004 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.012 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.022 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.025 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 21:59:02.029 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.032 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:59:02.043 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.048 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 21:59:02.053 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 21:59:02.056 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 21:59:02.062 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 21:59:02.068 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 21:59:02.070 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 21:59:02.073 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:59:02.075 +03:00 [DBG] Running health checks
2024-09-09 21:59:02.081 +03:00 [DBG] Running health check Database Health Check
2024-09-09 21:59:02.081 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 21:59:02.081 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 21:59:02.083 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.2612ms with message 'Database is available.'
2024-09-09 21:59:02.107 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 26.2024ms with message 'Available memory: 168603648 bytes.'
2024-09-09 21:59:02.114 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 32.6538ms with message 'Ping successful.'
2024-09-09 21:59:02.118 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 42.7247ms
2024-09-09 21:59:02.122 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:59:02.122 +03:00 [INF] Received HTTP response headers after 63.5801ms - 200
2024-09-09 21:59:02.126 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 63.9412ms
2024-09-09 21:59:02.129 +03:00 [INF] End processing HTTP request after 75.561ms - 200
2024-09-09 21:59:02.140 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:02.142 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.146 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.149 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:02.151 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:02.153 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.160 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.165 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.168 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:02.171 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.175 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:02.178 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:59:02.180 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:02.183 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.186 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.188 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:02.191 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:02.194 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.201 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.208 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.211 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 21:59:02.214 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.218 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:02.221 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:59:02.223 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:02.225 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:02.228 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:02.231 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.235 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:59:02.237 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:02.240 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.244 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.246 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:02.249 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:02.252 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.257 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.264 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.267 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 21:59:02.270 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.273 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:02.276 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.281 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 21:59:02.283 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 21:59:02.286 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 21:59:02.290 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 21:59:02.294 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 21:59:02.296 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 21:59:02.298 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:59:02.299 +03:00 [DBG] Running health checks
2024-09-09 21:59:02.301 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 21:59:02.314 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.9221ms with message 'Available memory: 168747008 bytes.'
2024-09-09 21:59:02.319 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 19.1564ms
2024-09-09 21:59:02.321 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:59:02.321 +03:00 [INF] Received HTTP response headers after 33.4342ms - 200
2024-09-09 21:59:02.323 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 33.3824ms
2024-09-09 21:59:02.325 +03:00 [INF] End processing HTTP request after 42.0429ms - 200
2024-09-09 21:59:02.335 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:02.337 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.342 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.344 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:02.347 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:02.349 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.356 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.362 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.365 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.368 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.371 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.374 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 21:59:02.377 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.380 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:02.383 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:59:02.385 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:02.388 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.391 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.393 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:02.395 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:02.397 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.404 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.410 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.412 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:02.417 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.421 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:02.424 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:59:02.426 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:02.428 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:02.430 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:02.434 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.437 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:02.440 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.444 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:02.447 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:59:02.451 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:02.454 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.457 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 21:59:02.459 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 21:59:02.462 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.465 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:02.468 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:02.470 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.476 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.484 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.487 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 21:59:02.491 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.493 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:02.496 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:02.498 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 21:59:02.504 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 21:59:02.509 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.512 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 21:59:02.516 +03:00 [DBG] Committing transaction.
2024-09-09 21:59:02.519 +03:00 [DBG] Committed transaction.
2024-09-09 21:59:02.520 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.524 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:02.527 +03:00 [DBG] Disposing transaction.
2024-09-09 21:59:02.529 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.534 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.538 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 21:59:02.542 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 21:59:02.544 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 21:59:02.548 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 21:59:02.553 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 21:59:02.555 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 21:59:02.558 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:59:02.560 +03:00 [DBG] Running health checks
2024-09-09 21:59:02.562 +03:00 [DBG] Running health check Database Health Check
2024-09-09 21:59:02.564 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.2292ms with message 'Database is available.'
2024-09-09 21:59:02.569 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 8.9276ms
2024-09-09 21:59:02.572 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:59:02.572 +03:00 [INF] Received HTTP response headers after 25.9121ms - 200
2024-09-09 21:59:02.574 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 26.2987ms
2024-09-09 21:59:02.577 +03:00 [INF] End processing HTTP request after 35.3406ms - 200
2024-09-09 21:59:02.587 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:02.590 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.593 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.595 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:02.597 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:02.600 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.608 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.615 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.618 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.622 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.625 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 21:59:02.628 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.632 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:02.635 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:59:02.637 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:02.639 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.642 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.643 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:02.646 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:02.648 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.654 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.659 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.661 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:02.665 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.667 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:59:02.670 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:59:02.672 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:02.674 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:02.676 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:02.679 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.682 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:02.685 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.688 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:59:02.691 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:02.693 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.696 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 21:59:02.698 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 21:59:02.700 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.703 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:02.705 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:02.707 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.712 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.717 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.719 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:02.723 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.724 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:02.727 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:02.729 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.734 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.738 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.741 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:02.744 +03:00 [DBG] Committing transaction.
2024-09-09 21:59:02.747 +03:00 [DBG] Committed transaction.
2024-09-09 21:59:02.748 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.751 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:59:02.754 +03:00 [DBG] Disposing transaction.
2024-09-09 21:59:02.755 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.760 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.763 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 21:59:02.765 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 21:59:02.767 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 21:59:02.771 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 21:59:02.776 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 21:59:02.778 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 21:59:02.780 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:59:02.783 +03:00 [DBG] Running health checks
2024-09-09 21:59:02.785 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 21:59:02.814 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.9751ms with message 'Ping successful.'
2024-09-09 21:59:02.818 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.0674ms
2024-09-09 21:59:02.822 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:59:02.822 +03:00 [INF] Received HTTP response headers after 52.4841ms - 200
2024-09-09 21:59:02.823 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 52.717ms
2024-09-09 21:59:02.825 +03:00 [INF] End processing HTTP request after 59.8215ms - 200
2024-09-09 21:59:02.833 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:02.834 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.837 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.839 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:02.841 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:59:02.843 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.848 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.854 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.857 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.859 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.862 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 21:59:02.865 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.868 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:02.870 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:59:02.872 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:02.875 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.877 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.879 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:02.883 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:02.885 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.892 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:02.898 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.900 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:02.903 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.905 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:59:02.908 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:59:02.909 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:02.912 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:02.914 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:02.917 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.920 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:02.923 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:02.927 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:59:02.930 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:02.932 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.936 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 21:59:02.938 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 21:59:02.940 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.942 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:02.945 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:02.947 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.952 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.957 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.959 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:02.976 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:02.979 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:02.982 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:02.984 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.989 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:02.994 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:02.997 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:03.000 +03:00 [DBG] Committing transaction.
2024-09-09 21:59:03.003 +03:00 [DBG] Committed transaction.
2024-09-09 21:59:03.004 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:03.008 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:03.011 +03:00 [DBG] Disposing transaction.
2024-09-09 21:59:03.012 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:03.016 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:03.020 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 21:59:03.022 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 21:59:03.024 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 21:59:03.026 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 21:59:03.029 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:03.031 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:59:13.042 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 21:59:13.044 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 21:59:13.047 +03:00 [DBG] Creating DbConnection.
2024-09-09 21:59:13.048 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 21:59:13.049 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:13.051 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.053 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:13.054 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:13.056 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:59:13.064 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 21:59:13.071 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 21:59:13.078 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.082 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.086 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.093 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.096 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.100 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.102 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 23ms reading results.
2024-09-09 21:59:13.109 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.113 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:13.116 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 21:59:13.118 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 21:59:13.125 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 21:59:13.129 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 21:59:13.131 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 21:59:13.133 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:59:13.135 +03:00 [DBG] Running health checks
2024-09-09 21:59:13.140 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 21:59:13.140 +03:00 [DBG] Running health check Database Health Check
2024-09-09 21:59:13.140 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 21:59:13.144 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.4983ms with message 'Database is available.'
2024-09-09 21:59:13.150 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.4501ms with message 'Available memory: 171139072 bytes.'
2024-09-09 21:59:13.173 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 32.7523ms with message 'Ping successful.'
2024-09-09 21:59:13.176 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 41.945ms
2024-09-09 21:59:13.179 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:59:13.179 +03:00 [INF] Received HTTP response headers after 55.5204ms - 200
2024-09-09 21:59:13.180 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 55.4533ms
2024-09-09 21:59:13.186 +03:00 [INF] End processing HTTP request after 70.135ms - 200
2024-09-09 21:59:13.194 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:13.196 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.203 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:13.205 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:13.208 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:13.210 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:13.223 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:13.236 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.240 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.251 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 21:59:13.256 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.263 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 21:59:13.267 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:59:13.270 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:13.272 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.280 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:13.282 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:13.285 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:13.288 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:13.302 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:13.316 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.318 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:13.322 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.332 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (9ms).
2024-09-09 21:59:13.335 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:59:13.336 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:13.342 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:13.344 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:13.348 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.352 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:59:13.358 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:13.360 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.365 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:13.366 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:13.372 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 21:59:13.377 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:13.383 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:13.394 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.397 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 21:59:13.404 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.408 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:13.411 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.419 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 21:59:13.423 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 21:59:13.426 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 21:59:13.434 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 21:59:13.438 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 21:59:13.440 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 21:59:13.442 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:59:13.444 +03:00 [DBG] Running health checks
2024-09-09 21:59:13.450 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 21:59:13.450 +03:00 [DBG] Running health check Database Health Check
2024-09-09 21:59:13.450 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 21:59:13.454 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.209ms with message 'Database is available.'
2024-09-09 21:59:13.462 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.6833ms with message 'Available memory: 171724800 bytes.'
2024-09-09 21:59:13.483 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 33.1006ms with message 'Ping successful.'
2024-09-09 21:59:13.487 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 43.068ms
2024-09-09 21:59:13.490 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:59:13.490 +03:00 [INF] Received HTTP response headers after 57.5958ms - 200
2024-09-09 21:59:13.491 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 57.3026ms
2024-09-09 21:59:13.496 +03:00 [INF] End processing HTTP request after 73.2522ms - 200
2024-09-09 21:59:13.504 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:13.505 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.513 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:13.515 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:13.518 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:13.521 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:13.532 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:13.547 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.549 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:13.557 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.562 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 21:59:13.565 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:59:13.567 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:13.572 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.578 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:13.580 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:13.587 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 21:59:13.589 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:13.598 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:13.612 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.620 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 21:59:13.623 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.626 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:59:13.629 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:59:13.635 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:13.638 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:13.640 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:13.643 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.650 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:59:13.653 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:13.655 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.659 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:13.660 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:13.667 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 21:59:13.669 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:13.677 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:13.688 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.690 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:13.699 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.703 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 21:59:13.706 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.709 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 21:59:13.716 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 21:59:13.718 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 21:59:13.722 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 21:59:13.728 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 21:59:13.730 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 21:59:13.733 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:59:13.735 +03:00 [DBG] Running health checks
2024-09-09 21:59:13.737 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 21:59:13.749 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.5347ms with message 'Available memory: 172015616 bytes.'
2024-09-09 21:59:13.753 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 18.0437ms
2024-09-09 21:59:13.758 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:59:13.758 +03:00 [INF] Received HTTP response headers after 37.726ms - 200
2024-09-09 21:59:13.760 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 37.921ms
2024-09-09 21:59:13.762 +03:00 [INF] End processing HTTP request after 46.615ms - 200
2024-09-09 21:59:13.771 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:13.776 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.780 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:13.782 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:13.785 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:13.791 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:13.800 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:13.813 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.817 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.825 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.828 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.830 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 17ms reading results.
2024-09-09 21:59:13.837 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.841 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:13.843 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:59:13.845 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:13.847 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.855 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:13.857 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:13.859 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:13.861 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:13.873 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:13.879 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.888 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 21:59:13.891 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.895 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:13.901 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:59:13.903 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:13.905 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:13.908 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:13.911 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.918 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:13.922 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:13.926 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:13.934 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:59:13.936 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:13.938 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.941 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 21:59:13.945 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 21:59:13.947 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:13.949 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:13.951 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:59:13.953 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:13.963 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:13.968 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:13.970 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:13.973 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:13.979 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:13.981 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 21:59:13.984 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 21:59:13.989 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 21:59:14.000 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.003 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 21:59:14.009 +03:00 [DBG] Committing transaction.
2024-09-09 21:59:14.016 +03:00 [DBG] Committed transaction.
2024-09-09 21:59:14.017 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.021 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:14.026 +03:00 [DBG] Disposing transaction.
2024-09-09 21:59:14.028 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.032 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.036 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 21:59:14.042 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 21:59:14.044 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 21:59:14.048 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 21:59:14.051 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 21:59:14.053 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 21:59:14.059 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:59:14.060 +03:00 [DBG] Running health checks
2024-09-09 21:59:14.063 +03:00 [DBG] Running health check Database Health Check
2024-09-09 21:59:14.065 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0772ms with message 'Database is available.'
2024-09-09 21:59:14.072 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 12.023ms
2024-09-09 21:59:14.077 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:59:14.078 +03:00 [INF] Received HTTP response headers after 31.5204ms - 200
2024-09-09 21:59:14.079 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 31.866ms
2024-09-09 21:59:14.082 +03:00 [INF] End processing HTTP request after 40.1868ms - 200
2024-09-09 21:59:14.094 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:14.096 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.099 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:14.105 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:14.108 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 21:59:14.111 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:14.125 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:14.139 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.142 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.150 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.152 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 21:59:14.156 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.159 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 21:59:14.166 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:59:14.169 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:14.171 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.174 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:14.180 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 21:59:14.184 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 21:59:14.187 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:14.204 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:14.221 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.228 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 21:59:14.233 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.237 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 21:59:14.244 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:59:14.247 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:14.250 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:14.253 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:14.263 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.268 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:14.276 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.282 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:59:14.285 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:14.291 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.295 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 21:59:14.298 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 21:59:14.304 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:14.308 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:59:14.311 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 21:59:14.315 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:14.328 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:14.342 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.345 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:14.354 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:14.356 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:14.359 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:14.366 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:14.374 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:14.387 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.389 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:14.393 +03:00 [DBG] Committing transaction.
2024-09-09 21:59:14.401 +03:00 [DBG] Committed transaction.
2024-09-09 21:59:14.404 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.408 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 21:59:14.415 +03:00 [DBG] Disposing transaction.
2024-09-09 21:59:14.419 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.425 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.434 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 21:59:14.438 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 21:59:14.440 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 21:59:14.448 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 21:59:14.452 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 21:59:14.454 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 21:59:14.457 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:59:14.462 +03:00 [DBG] Running health checks
2024-09-09 21:59:14.464 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 21:59:14.492 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.527ms with message 'Ping successful.'
2024-09-09 21:59:14.496 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.2616ms
2024-09-09 21:59:14.498 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:59:14.498 +03:00 [INF] Received HTTP response headers after 51.894ms - 200
2024-09-09 21:59:14.500 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 51.6502ms
2024-09-09 21:59:14.502 +03:00 [INF] End processing HTTP request after 64.0358ms - 200
2024-09-09 21:59:14.512 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:14.514 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.517 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:14.519 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:14.526 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 21:59:14.529 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:14.542 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:14.551 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.559 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.562 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.564 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 21:59:14.567 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.572 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 21:59:14.574 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:59:14.576 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:14.579 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.582 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:14.588 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 21:59:14.590 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 21:59:14.593 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:14.606 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:14.612 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.619 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 21:59:14.622 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.625 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:59:14.627 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:59:14.632 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:14.634 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:14.636 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:14.639 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.642 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:14.649 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.654 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:59:14.656 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:14.658 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.665 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 21:59:14.669 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 21:59:14.670 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:14.672 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:14.674 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:14.676 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:14.686 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:14.691 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.697 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 21:59:14.700 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:14.701 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:14.703 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 21:59:14.705 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:14.715 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 21:59:14.720 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.722 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 21:59:14.729 +03:00 [DBG] Committing transaction.
2024-09-09 21:59:14.734 +03:00 [DBG] Committed transaction.
2024-09-09 21:59:14.735 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:14.738 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:59:14.743 +03:00 [DBG] Disposing transaction.
2024-09-09 21:59:14.745 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.749 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:14.753 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 21:59:14.759 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 21:59:14.761 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 21:59:14.763 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 21:59:14.766 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:14.769 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:59:24.780 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 21:59:24.783 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 21:59:24.788 +03:00 [DBG] Creating DbConnection.
2024-09-09 21:59:24.790 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 21:59:24.792 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:24.795 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:24.802 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:24.804 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:24.806 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 21:59:24.808 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 21:59:24.818 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 21:59:24.822 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:24.826 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:24.833 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:24.837 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:24.840 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:24.847 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:24.849 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 26ms reading results.
2024-09-09 21:59:24.853 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:24.855 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 21:59:24.861 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 21:59:24.864 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 21:59:24.867 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 21:59:24.871 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 21:59:24.877 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 21:59:24.878 +03:00 [DBG] Request did not match any endpoints
2024-09-09 21:59:24.880 +03:00 [DBG] Running health checks
2024-09-09 21:59:24.881 +03:00 [DBG] Running health check Database Health Check
2024-09-09 21:59:24.881 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 21:59:24.881 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 21:59:24.883 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0178ms with message 'Database is available.'
2024-09-09 21:59:24.896 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 14.9331ms with message 'Available memory: 171216896 bytes.'
2024-09-09 21:59:24.911 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.8603ms with message 'Ping successful.'
2024-09-09 21:59:24.914 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.1004ms
2024-09-09 21:59:24.916 +03:00 [DBG] Connection id "0HN6H05KK5ODS" completed keep alive response.
2024-09-09 21:59:24.916 +03:00 [INF] Received HTTP response headers after 50.0496ms - 200
2024-09-09 21:59:24.917 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 50.1088ms
2024-09-09 21:59:24.919 +03:00 [INF] End processing HTTP request after 57.9688ms - 200
2024-09-09 21:59:24.929 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:24.930 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:24.932 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:24.933 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:24.939 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 21:59:24.941 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:24.944 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:24.947 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:24.948 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:24.950 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 21:59:24.959 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:24.961 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 21:59:24.963 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 21:59:24.964 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 21:59:24.966 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:24.972 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 21:59:24.973 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 21:59:24.974 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 21:59:24.976 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:24.978 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 21:59:24.981 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:24.989 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 21:59:24.991 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 21:59:24.993 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 21:59:24.995 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 21:59:24.996 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:24.997 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 21:59:25.002 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 21:59:25.010 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 21:59:25.013 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 21:59:25.018 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:25.811 +03:00 [DBG] This is a debug message
2024-09-09 22:00:25.869 +03:00 [INF] This is an info message
2024-09-09 22:00:25.882 +03:00 [WRN] This is a warning message
2024-09-09 22:00:25.885 +03:00 [ERR] This is an error message
2024-09-09 22:00:25.887 +03:00 [FTL] This is a fatal message
2024-09-09 22:00:26.351 +03:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-09-09 22:00:26.847 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-09 22:00:27.122 +03:00 [DBG] Hosting starting
2024-09-09 22:00:27.250 +03:00 [INF] User profile is available. Using 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-09 22:00:27.282 +03:00 [INF] Initializing UI Database
2024-09-09 22:00:27.601 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-09 22:00:28.965 +03:00 [DBG] The property 'HealthCheckExecutionEntry.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 22:00:28.967 +03:00 [DBG] The property 'HealthCheckExecutionHistory.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 22:00:29.253 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:00:29.306 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:00:29.330 +03:00 [DBG] Created DbConnection. (23ms).
2024-09-09 22:00:29.339 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:29.367 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:29.380 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:29.391 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:00:29.411 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-09 22:00:29.413 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:00:29.414 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:00:29.426 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (10ms).
2024-09-09 22:00:29.430 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (20ms).
2024-09-09 22:00:29.437 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:29.445 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:29.459 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 22:00:29.494 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 22:00:29.504 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:29.510 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:00:29.538 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:29.540 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:29.542 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:29.545 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:29.546 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:29.549 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 22:00:29.556 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 22:00:29.568 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:29.572 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:00:29.575 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:29.577 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:29.664 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()
    .Any()'
2024-09-09 22:00:30.002 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Configurations AS c)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 22:00:30.050 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:30.052 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:30.054 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:30.057 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:30.060 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:00:30.062 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 22:00:30.065 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 22:00:30.072 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:30.075 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:00:30.077 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:30.079 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:30.088 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()'
2024-09-09 22:00:30.174 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: HealthCheckConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckConfiguration.DiscoveryService (string) MaxLength(100), 1], [Property: HealthCheckConfiguration.Name (string) Required MaxLength(500), 2], [Property: HealthCheckConfiguration.Uri (string) Required MaxLength(500), 3] }
        SELECT c.Id, c.DiscoveryService, c.Name, c.Uri
        FROM Configurations AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Data.HealthChecksDb, 
    False, 
    False, 
    True
)'
2024-09-09 22:00:30.187 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:30.190 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:30.192 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:30.194 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:00:30.197 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:30.198 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:00:30.202 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:00:30.263 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:30.303 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:30.306 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:30.308 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:30.311 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:30.313 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:30.315 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 110ms reading results.
2024-09-09 22:00:30.318 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:30.321 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:30.330 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:30.345 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:30.366 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:30.377 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 0 entities written to the database.
2024-09-09 22:00:30.382 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:00:30.386 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:30.387 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:00:30.398 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-708ff948-4064-4637-b437-6d3d4d39db23.xml'.
2024-09-09 22:00:30.411 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-b1c18ae0-c8a0-4231-a320-ae7c37796e64.xml'.
2024-09-09 22:00:30.414 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-c1775fa6-7869-4e48-a739-17ea1f4d4600.xml'.
2024-09-09 22:00:30.416 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-f484012b-a04f-4d48-bbf1-e6db9c34915c.xml'.
2024-09-09 22:00:30.426 +03:00 [DBG] Found key {708ff948-4064-4637-b437-6d3d4d39db23}.
2024-09-09 22:00:30.436 +03:00 [DBG] Found key {b1c18ae0-c8a0-4231-a320-ae7c37796e64}.
2024-09-09 22:00:30.438 +03:00 [DBG] Found key {c1775fa6-7869-4e48-a739-17ea1f4d4600}.
2024-09-09 22:00:30.440 +03:00 [DBG] Found key {f484012b-a04f-4d48-bbf1-e6db9c34915c}.
2024-09-09 22:00:30.455 +03:00 [DBG] Considering key {708ff948-4064-4637-b437-6d3d4d39db23} with expiration date 2024-11-18 12:06:14Z as default key.
2024-09-09 22:00:30.464 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 22:00:30.468 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-09 22:00:30.472 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 22:00:30.478 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-09 22:00:30.482 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-09 22:00:30.487 +03:00 [DBG] Using key {708ff948-4064-4637-b437-6d3d4d39db23} as the default key.
2024-09-09 22:00:30.491 +03:00 [DBG] Key ring with default key {708ff948-4064-4637-b437-6d3d4d39db23} was loaded during application startup.
2024-09-09 22:00:30.718 +03:00 [INF] Now listening on: https://localhost:7227
2024-09-09 22:00:30.720 +03:00 [INF] Now listening on: http://localhost:5174
2024-09-09 22:00:30.722 +03:00 [DBG] Loaded hosting startup assembly MyApi
2024-09-09 22:00:30.724 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-09 22:00:30.726 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-09 22:00:30.752 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:00:30.785 +03:00 [DBG] Connection id "0HN6H06MGDJID" accepted.
2024-09-09 22:00:30.786 +03:00 [DBG] Connection id "0HN6H06MGDJID" received FIN.
2024-09-09 22:00:30.788 +03:00 [DBG] Connection id "0HN6H06MGDJID" started.
2024-09-09 22:00:30.796 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:00:30.804 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:00:30.803 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-09 22:00:30.805 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:00:30.853 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:30.855 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:30.858 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:30.859 +03:00 [DBG] Connection id "0HN6H06MGDJID" stopped.
2024-09-09 22:00:30.859 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:30.865 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:00:30.866 +03:00 [DBG] Connection id "0HN6H06MGDJID" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 22:00:30.867 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:00:30.873 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:00:30.877 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:30.881 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:30.883 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:30.885 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:30.887 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:30.890 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:30.891 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 22:00:30.894 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:30.897 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:30.931 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:00:30.935 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:00:30.947 +03:00 [DBG] Connection id "0HN6H06MGDJIE" accepted.
2024-09-09 22:00:30.949 +03:00 [DBG] Connection id "0HN6H06MGDJIE" started.
2024-09-09 22:00:30.957 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-09 22:00:30.958 +03:00 [INF] Hosting environment: Development
2024-09-09 22:00:30.960 +03:00 [INF] Content root path: C:\Users\Viktor\source\repos\MyApi\MyApi
2024-09-09 22:00:30.966 +03:00 [DBG] Hosting started
2024-09-09 22:00:30.983 +03:00 [DBG] Connection 0HN6H06MGDJIE established using the following protocol: "Tls12"
2024-09-09 22:00:31.044 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:00:31.069 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-09 22:00:31.075 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:00:31.120 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:00:31.123 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:31.132 +03:00 [DBG] Running health checks
2024-09-09 22:00:31.144 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:00:31.144 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:00:31.144 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:00:31.174 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 29.7217ms with message 'Available memory: 132272128 bytes.'
2024-09-09 22:00:31.174 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 17.5949ms with message 'Database is available.'
2024-09-09 22:00:31.200 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 56.5107ms with message 'Ping successful.'
2024-09-09 22:00:31.220 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 79.4467ms
2024-09-09 22:00:31.264 +03:00 [DBG] Connection id "0HN6H06MGDJIF" accepted.
2024-09-09 22:00:31.266 +03:00 [DBG] Connection id "0HN6H06MGDJIF" started.
2024-09-09 22:00:31.279 +03:00 [DBG] Connection 0HN6H06MGDJIF established using the following protocol: "Tls12"
2024-09-09 22:00:31.318 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/index.html - null null
2024-09-09 22:00:31.348 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:31.352 +03:00 [INF] Received HTTP response headers after 407.5473ms - 200
2024-09-09 22:00:31.353 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 317.7433ms
2024-09-09 22:00:31.356 +03:00 [INF] End processing HTTP request after 426.8351ms - 200
2024-09-09 22:00:31.373 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-09-09 22:00:31.376 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-09 22:00:31.378 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:31.471 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckExecution>()
    .Include(le => le.History)
    .Include(le => le.Entries)
    .Where(le => le.Name == __configuration_Name_0)
    .SingleOrDefault()'
2024-09-09 22:00:31.504 +03:00 [DBG] Including navigation: 'HealthCheckExecution.History'.
2024-09-09 22:00:31.507 +03:00 [DBG] Including navigation: 'HealthCheckExecution.Entries'.
2024-09-09 22:00:31.514 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-09 22:00:31.551 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-09 22:00:31.556 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/index.html - 200 null text/html;charset=utf-8 239.0791ms
2024-09-09 22:00:31.620 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - null null
2024-09-09 22:00:31.622 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_vs/browserLink - null null
2024-09-09 22:00:31.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 23.7459ms
2024-09-09 22:00:31.720 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.4681ms
2024-09-09 22:00:31.753 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-09 22:00:31.771 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckExecution>(
    asyncEnumerable: new SingleQueryingEnumerable<HealthCheckExecution>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: HealthCheckExecution.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckExecution.DiscoveryService (string) MaxLength(50), 1], [Property: HealthCheckExecution.LastExecuted (DateTime) Required, 2], [Property: HealthCheckExecution.Name (string) Required MaxLength(500), 3], [Property: HealthCheckExecution.OnStateFrom (DateTime) Required, 4], [Property: HealthCheckExecution.Status (UIHealthStatus) Required, 5], [Property: HealthCheckExecution.Uri (string) Required MaxLength(500), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionHistory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: HealthCheckExecutionHistory.Description (string), 8], [Property: HealthCheckExecutionHistory.HealthCheckExecutionId (no field, int?) Shadow FK Index, 9], [Property: HealthCheckExecutionHistory.Name (string) MaxLength(500), 10], [Property: HealthCheckExecutionHistory.On (DateTime) Required, 11], [Property: HealthCheckExecutionHistory.Status (UIHealthStatus) Required MaxLength(50), 12] }
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionEntry.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: HealthCheckExecutionEntry.Description (string), 14], [Property: HealthCheckExecutionEntry.Duration (TimeSpan) Required, 15], [Property: HealthCheckExecutionEntry.HealthCheckExecutionId (no field, int?) Shadow FK Index, 16], [Property: HealthCheckExecutionEntry.Name (string) Required MaxLength(500), 17], [Property: HealthCheckExecutionEntry.Status (UIHealthStatus) Required, 18], [Property: HealthCheckExecutionEntry.Tags (List<string>), 19] }
                5 -> 13
            SELECT t.Id, t.DiscoveryService, t.LastExecuted, t.Name, t.OnStateFrom, t.Status, t.Uri, h.Id, h.Description, h.HealthCheckExecutionId, h.Name, h.On, h.Status, h0.Id, h0.Description, h0.Duration, h0.HealthCheckExecutionId, h0.Name, h0.Status, h0.Tags
            FROM 
            (
                SELECT TOP(2) e.Id, e.DiscoveryService, e.LastExecuted, e.Name, e.OnStateFrom, e.Status, e.Uri
                FROM Executions AS e
                WHERE e.Name == @__configuration_Name_0
            ) AS t
            LEFT JOIN HealthCheckExecutionHistories AS h ON t.Id == h.HealthCheckExecutionId
            LEFT JOIN HealthCheckExecutionEntries AS h0 ON t.Id == h0.HealthCheckExecutionId
            ORDER BY t.Id ASC, h.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckExecution>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 22:00:31.793 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:31.795 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:31.797 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:31.799 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:00:31.804 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:00:31.811 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:31.825 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:31.853 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:31.894 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:31.897 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 67ms reading results.
2024-09-09 22:00:31.900 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:31.902 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:31.909 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:31.917 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:31.919 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:31.921 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:31.924 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:00:31.926 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:31.928 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:31.934 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:31.939 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:31.942 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:31.945 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:31.948 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:31.951 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:31.957 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:31.959 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:31.972 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:31.988 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.005 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:32.078 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - null null
2024-09-09 22:00:32.082 +03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2024-09-09 22:00:32.084 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-09 22:00:32.085 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:32.124 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:32.126 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.134 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:32.136 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:00:32.144 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-09 22:00:32.146 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:32.153 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:32.171 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.174 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 16ms reading results.
2024-09-09 22:00:32.177 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.182 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:00:32.196 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.203 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:00:32.206 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:00:32.208 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:00:32.214 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:00:32.219 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:00:32.221 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:00:32.222 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:32.224 +03:00 [DBG] Running health checks
2024-09-09 22:00:32.226 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:00:32.226 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:00:32.226 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:00:32.233 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 6.9117ms with message 'Database is available.'
2024-09-09 22:00:32.239 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 13.4453ms with message 'Available memory: 142577664 bytes.'
2024-09-09 22:00:32.255 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.3201ms with message 'Ping successful.'
2024-09-09 22:00:32.260 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.6193ms
2024-09-09 22:00:32.264 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:32.265 +03:00 [INF] Received HTTP response headers after 53.9126ms - 200
2024-09-09 22:00:32.267 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 52.9264ms
2024-09-09 22:00:32.269 +03:00 [INF] End processing HTTP request after 63.4615ms - 200
2024-09-09 22:00:32.278 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:32.280 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.283 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:32.285 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:00:32.287 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:32.290 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:32.297 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:32.305 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.307 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:00:32.312 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.316 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:00:32.319 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:32.322 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:32.324 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.329 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:32.332 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 254.3591ms
2024-09-09 22:00:32.332 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:32.341 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-09 22:00:32.344 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:32.351 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:32.359 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.361 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:32.365 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.368 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:32.371 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:32.373 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:32.375 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:32.378 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:32.381 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.386 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:32.390 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:32.392 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.395 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:32.397 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:32.400 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:32.403 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:32.410 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:32.417 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.420 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:00:32.423 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.426 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:32.429 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.433 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:00:32.435 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:00:32.437 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:00:32.441 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:00:32.444 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:00:32.446 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:00:32.449 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:32.451 +03:00 [DBG] Running health checks
2024-09-09 22:00:32.453 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:00:32.463 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.9418ms with message 'Available memory: 143618048 bytes.'
2024-09-09 22:00:32.468 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 17.3328ms
2024-09-09 22:00:32.498 +03:00 [INF] Received HTTP response headers after 59.44ms - 200
2024-09-09 22:00:32.499 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:32.500 +03:00 [INF] End processing HTTP request after 65.5918ms - 200
2024-09-09 22:00:32.502 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 62.2525ms
2024-09-09 22:00:32.516 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:32.518 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.521 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:32.523 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:32.525 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:32.527 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:32.533 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:32.541 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.560 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.589 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.615 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.617 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 76ms reading results.
2024-09-09 22:00:32.620 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.622 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:32.624 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:32.626 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:32.628 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.629 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:32.631 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:32.633 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:32.635 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:32.640 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:32.645 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.646 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:00:32.649 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.652 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:32.654 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:32.659 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:32.660 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:32.662 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:32.664 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.683 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:32.686 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.695 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:32.705 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:32.718 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:32.720 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.725 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:00:32.734 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:00:32.737 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:32.739 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:32.742 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:32.745 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:32.750 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:32.756 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.758 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:32.763 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:32.765 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:00:32.767 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:32.769 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:00:32.774 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:00:32.779 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.781 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:32.790 +03:00 [DBG] Committing transaction.
2024-09-09 22:00:32.797 +03:00 [DBG] Committed transaction.
2024-09-09 22:00:32.803 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.805 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:32.811 +03:00 [DBG] Disposing transaction.
2024-09-09 22:00:32.813 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.822 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.826 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:00:32.827 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:00:32.829 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:00:32.833 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:00:32.836 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:00:32.838 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:00:32.840 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:32.841 +03:00 [DBG] Running health checks
2024-09-09 22:00:32.843 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:00:32.844 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.8835ms with message 'Database is available.'
2024-09-09 22:00:32.848 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.3147ms
2024-09-09 22:00:32.850 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:32.850 +03:00 [INF] Received HTTP response headers after 18.9968ms - 200
2024-09-09 22:00:32.851 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 18.9538ms
2024-09-09 22:00:32.853 +03:00 [INF] End processing HTTP request after 25.6618ms - 200
2024-09-09 22:00:32.860 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:32.862 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.865 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:32.867 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:32.869 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:32.872 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:32.879 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:32.891 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.893 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.896 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.897 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 22:00:32.901 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.903 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:32.905 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:32.907 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:32.908 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.911 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:32.912 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:32.914 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:32.917 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:32.921 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:32.926 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.927 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:00:32.930 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.933 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:32.935 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:32.937 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:32.938 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:32.941 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:32.943 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.946 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:32.949 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:32.952 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:32.954 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:32.956 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.958 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:00:32.960 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:00:32.962 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:32.963 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:32.965 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:32.967 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:32.970 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:32.974 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.976 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:32.979 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:32.981 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:32.983 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:32.984 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:32.987 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:32.991 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:32.992 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:00:32.995 +03:00 [DBG] Committing transaction.
2024-09-09 22:00:32.999 +03:00 [DBG] Committed transaction.
2024-09-09 22:00:33.000 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:33.002 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:33.004 +03:00 [DBG] Disposing transaction.
2024-09-09 22:00:33.005 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:33.008 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:33.011 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:00:33.012 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:00:33.015 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:00:33.018 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:00:33.021 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:00:33.023 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:00:33.025 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:33.027 +03:00 [DBG] Running health checks
2024-09-09 22:00:33.028 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:00:33.057 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.9251ms with message 'Ping successful.'
2024-09-09 22:00:33.089 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 62.4515ms
2024-09-09 22:00:33.091 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:33.091 +03:00 [INF] Received HTTP response headers after 75.0378ms - 200
2024-09-09 22:00:33.092 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 74.741ms
2024-09-09 22:00:33.094 +03:00 [INF] End processing HTTP request after 81.6584ms - 200
2024-09-09 22:00:33.102 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:33.104 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:33.107 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:33.108 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:33.110 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:33.112 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:33.117 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:33.122 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:33.124 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:33.126 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:33.128 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:00:33.129 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:33.132 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:33.134 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:33.136 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:33.139 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:33.141 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:33.142 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:33.144 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:33.146 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:33.151 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:33.156 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:33.158 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:00:33.159 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:33.162 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:33.164 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:33.166 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:33.167 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:33.169 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:33.171 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:33.173 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:33.175 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:33.178 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:33.181 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:33.183 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:33.185 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:00:33.187 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:00:33.188 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:33.190 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:33.191 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:33.193 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:33.197 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:33.202 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:33.204 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:33.206 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:33.207 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:33.209 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:33.211 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:33.215 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:33.218 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:33.220 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:00:33.222 +03:00 [DBG] Committing transaction.
2024-09-09 22:00:33.226 +03:00 [DBG] Committed transaction.
2024-09-09 22:00:33.227 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:33.229 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:33.232 +03:00 [DBG] Disposing transaction.
2024-09-09 22:00:33.233 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:33.237 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:33.240 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:00:33.242 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:00:33.244 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:00:33.246 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:00:33.248 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:33.249 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:00:38.258 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/index.html - null null
2024-09-09 22:00:38.277 +03:00 [INF] The file /index.html was not modified
2024-09-09 22:00:38.286 +03:00 [DBG] Handled. Status code: 304 File: /index.html
2024-09-09 22:00:38.290 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/index.html - 304 null text/html 32.8912ms
2024-09-09 22:00:38.363 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - null null
2024-09-09 22:00:38.364 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_vs/browserLink - null null
2024-09-09 22:00:38.369 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 5.6552ms
2024-09-09 22:00:38.393 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7227/stockHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-09-09 22:00:38.398 +03:00 [DBG] POST requests are not supported
2024-09-09 22:00:38.400 +03:00 [DBG] 1 candidate(s) found for the request path '/stockHub/negotiate'
2024-09-09 22:00:38.403 +03:00 [DBG] Request matched endpoint '/stockHub/negotiate'
2024-09-09 22:00:38.410 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.9271ms
2024-09-09 22:00:38.411 +03:00 [INF] Executing endpoint '/stockHub/negotiate'
2024-09-09 22:00:38.430 +03:00 [DBG] New connection 5RIFqEXv987DTpdJ-bhlIg created.
2024-09-09 22:00:38.442 +03:00 [DBG] Sending negotiation response.
2024-09-09 22:00:38.445 +03:00 [INF] Executed endpoint '/stockHub/negotiate'
2024-09-09 22:00:38.447 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7227/stockHub/negotiate?negotiateVersion=1 - 200 316 application/json 53.8823ms
2024-09-09 22:00:38.505 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7227/stockHub?id=AenRDAm4iceOJKfYOYqURQ - null null
2024-09-09 22:00:38.509 +03:00 [DBG] CONNECT requests are not supported
2024-09-09 22:00:38.511 +03:00 [DBG] 1 candidate(s) found for the request path '/stockHub'
2024-09-09 22:00:38.514 +03:00 [DBG] Request matched endpoint '/stockHub'
2024-09-09 22:00:38.517 +03:00 [INF] Executing endpoint '/stockHub'
2024-09-09 22:00:38.535 +03:00 [DBG] OnConnectedAsync started.
2024-09-09 22:00:38.539 +03:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-09-09 22:00:38.559 +03:00 [DBG] Found protocol implementation for requested protocol: json.
2024-09-09 22:00:38.565 +03:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-09-09 22:00:43.259 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:00:43.356 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:00:43.362 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:00:43.363 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:00:43.366 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:43.368 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.374 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:43.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:43.378 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:43.380 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:00:43.383 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:00:43.394 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:43.396 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:43.399 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:43.406 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:43.408 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:43.411 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.412 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 19ms reading results.
2024-09-09 22:00:43.415 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.422 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:00:43.425 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:00:43.426 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:00:43.430 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:00:43.434 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:00:43.438 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:00:43.440 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:43.442 +03:00 [DBG] Running health checks
2024-09-09 22:00:43.443 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:00:43.443 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:00:43.443 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:00:43.446 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.2293ms with message 'Database is available.'
2024-09-09 22:00:43.458 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 15.0218ms with message 'Available memory: 155627520 bytes.'
2024-09-09 22:00:43.472 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.1358ms with message 'Ping successful.'
2024-09-09 22:00:43.476 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.1848ms
2024-09-09 22:00:43.479 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:43.479 +03:00 [INF] Received HTTP response headers after 51.1952ms - 200
2024-09-09 22:00:43.485 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 55.6507ms
2024-09-09 22:00:43.488 +03:00 [INF] End processing HTTP request after 62.8048ms - 200
2024-09-09 22:00:43.500 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:43.502 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.509 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:43.516 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:00:43.519 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-09 22:00:43.522 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:43.538 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:43.553 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:43.561 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.564 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 22:00:43.568 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.575 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:00:43.578 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:43.581 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:43.583 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.586 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:43.590 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:43.593 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:00:43.596 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:43.602 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:43.613 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.615 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:43.622 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.625 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:43.627 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:43.628 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:43.630 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:43.632 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:43.637 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:43.640 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:43.643 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:43.644 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.646 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:43.651 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:43.652 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:00:43.655 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:43.660 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:43.671 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.673 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:00:43.676 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.678 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:43.683 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:43.687 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:00:43.689 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:00:43.692 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:00:43.696 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:00:43.701 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:00:43.703 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:00:43.705 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:43.707 +03:00 [DBG] Running health checks
2024-09-09 22:00:43.709 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:00:43.709 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:00:43.709 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:00:43.717 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 7.9279ms with message 'Database is available.'
2024-09-09 22:00:43.720 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.3464ms with message 'Available memory: 155860992 bytes.'
2024-09-09 22:00:43.746 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 36.9456ms with message 'Ping successful.'
2024-09-09 22:00:43.750 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 42.6812ms
2024-09-09 22:00:43.753 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:43.753 +03:00 [INF] Received HTTP response headers after 58.9482ms - 200
2024-09-09 22:00:43.754 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 58.9559ms
2024-09-09 22:00:43.757 +03:00 [INF] End processing HTTP request after 67.6883ms - 200
2024-09-09 22:00:43.767 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:43.769 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.772 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:43.777 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:43.780 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:00:43.782 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:43.794 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:43.801 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.809 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:00:43.813 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.816 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:00:43.821 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:43.824 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:43.826 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.830 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:43.832 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:00:43.834 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:43.843 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:43.859 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:43.872 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.875 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:00:43.880 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.888 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:00:43.891 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:43.892 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:43.895 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:43.897 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:43.904 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:43.907 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:43.910 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:43.912 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.919 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:43.921 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:00:43.924 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:43.926 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:43.936 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:43.945 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.948 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:00:43.951 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:43.954 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:43.957 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:43.964 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:00:43.966 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:00:43.968 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:00:43.971 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:00:43.977 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:00:43.980 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:00:43.982 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:43.984 +03:00 [DBG] Running health checks
2024-09-09 22:00:43.986 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:00:43.996 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.0651ms with message 'Available memory: 156221440 bytes.'
2024-09-09 22:00:43.999 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 15.2451ms
2024-09-09 22:00:44.002 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:44.002 +03:00 [INF] Received HTTP response headers after 32.0917ms - 200
2024-09-09 22:00:44.004 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 32.1339ms
2024-09-09 22:00:44.005 +03:00 [INF] End processing HTTP request after 39.3521ms - 200
2024-09-09 22:00:44.016 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:44.018 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.022 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:44.026 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:44.028 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:00:44.031 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:44.045 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:44.058 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.062 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.064 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.067 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.071 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:00:44.075 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.078 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:44.080 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:44.082 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:44.086 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.089 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:44.090 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:44.092 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:44.094 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:44.104 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:44.109 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.112 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:44.120 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.123 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:00:44.126 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:44.127 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:44.129 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:44.134 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:44.137 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.140 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:44.143 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.151 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:44.155 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:44.158 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:44.160 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.166 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:00:44.169 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:00:44.170 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:44.172 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:44.175 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:44.180 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:44.186 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:44.191 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.198 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:00:44.201 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:44.203 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:44.205 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:44.210 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:00:44.217 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:00:44.226 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.229 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:00:44.233 +03:00 [DBG] Committing transaction.
2024-09-09 22:00:44.237 +03:00 [DBG] Committed transaction.
2024-09-09 22:00:44.241 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.244 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:00:44.246 +03:00 [DBG] Disposing transaction.
2024-09-09 22:00:44.248 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.252 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.259 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:00:44.262 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:00:44.263 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:00:44.267 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:00:44.274 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:00:44.276 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:00:44.279 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:44.280 +03:00 [DBG] Running health checks
2024-09-09 22:00:44.283 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:00:44.286 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.7131ms with message 'Database is available.'
2024-09-09 22:00:44.290 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 9.7131ms
2024-09-09 22:00:44.293 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:44.293 +03:00 [INF] Received HTTP response headers after 27.7294ms - 200
2024-09-09 22:00:44.295 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 27.5485ms
2024-09-09 22:00:44.297 +03:00 [INF] End processing HTTP request after 35.347ms - 200
2024-09-09 22:00:44.310 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:44.312 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.315 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:44.320 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:00:44.322 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:00:44.325 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:44.337 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:44.344 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.350 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.354 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.356 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:00:44.359 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.362 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:44.368 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:44.371 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:44.373 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.376 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:44.381 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:44.385 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:00:44.387 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:44.398 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:44.405 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.407 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:44.415 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.419 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:00:44.422 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:44.424 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:44.429 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:44.433 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:44.435 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.439 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:44.446 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.449 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:44.451 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:44.453 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.459 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:00:44.462 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:00:44.463 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:44.465 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:44.467 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:44.469 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:44.478 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:44.482 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.484 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:00:44.492 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:44.494 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:44.496 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:44.498 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:44.503 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:44.511 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.513 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:00:44.516 +03:00 [DBG] Committing transaction.
2024-09-09 22:00:44.520 +03:00 [DBG] Committed transaction.
2024-09-09 22:00:44.524 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.527 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:00:44.530 +03:00 [DBG] Disposing transaction.
2024-09-09 22:00:44.532 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.539 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.545 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:00:44.547 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:00:44.549 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:00:44.556 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:00:44.559 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:00:44.561 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:00:44.563 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:44.565 +03:00 [DBG] Running health checks
2024-09-09 22:00:44.567 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:00:44.599 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.9382ms with message 'Ping successful.'
2024-09-09 22:00:44.603 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.8307ms
2024-09-09 22:00:44.606 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:44.606 +03:00 [INF] Received HTTP response headers after 52.9313ms - 200
2024-09-09 22:00:44.609 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 52.8611ms
2024-09-09 22:00:44.610 +03:00 [INF] End processing HTTP request after 63.7763ms - 200
2024-09-09 22:00:44.623 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:44.625 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.628 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:44.632 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:44.635 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:00:44.637 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:44.643 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:44.656 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.658 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.664 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.666 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 22:00:44.668 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.671 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:44.672 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:44.675 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:44.680 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.683 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:44.685 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:44.687 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:44.689 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:44.700 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:44.713 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.715 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:44.718 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.721 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:44.726 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:44.728 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:44.730 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:44.732 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:44.734 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.742 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:44.745 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.749 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:44.751 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:44.753 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.759 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:00:44.761 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:00:44.762 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:44.763 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:44.765 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:44.767 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:44.775 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:44.779 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.781 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:00:44.788 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:44.790 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:44.792 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:44.795 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:44.803 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:44.808 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.809 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:00:44.812 +03:00 [DBG] Committing transaction.
2024-09-09 22:00:44.816 +03:00 [DBG] Committed transaction.
2024-09-09 22:00:44.819 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:44.823 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:00:44.826 +03:00 [DBG] Disposing transaction.
2024-09-09 22:00:44.828 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.834 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:44.838 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:00:44.841 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:00:44.842 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:00:44.844 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:00:44.848 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:44.851 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:00:54.859 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:00:54.870 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:00:54.874 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:00:54.878 +03:00 [DBG] Created DbConnection. (3ms).
2024-09-09 22:00:54.881 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:54.883 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:54.886 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:54.888 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:54.891 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:54.897 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:00:54.901 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:00:54.906 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:54.912 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:54.916 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:54.920 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:54.926 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:54.929 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:54.932 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 26ms reading results.
2024-09-09 22:00:54.935 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:54.942 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:00:54.944 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:00:54.946 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:00:54.949 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:00:54.956 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:00:54.959 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:00:54.961 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:54.963 +03:00 [DBG] Running health checks
2024-09-09 22:00:54.964 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:00:54.964 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:00:54.965 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:00:54.967 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.1808ms with message 'Database is available.'
2024-09-09 22:00:54.976 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.2321ms with message 'Available memory: 160784384 bytes.'
2024-09-09 22:00:55.000 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 35.4976ms with message 'Ping successful.'
2024-09-09 22:00:55.003 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 40.6725ms
2024-09-09 22:00:55.006 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:55.007 +03:00 [INF] Received HTTP response headers after 59.1177ms - 200
2024-09-09 22:00:55.007 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 58.4984ms
2024-09-09 22:00:55.009 +03:00 [INF] End processing HTTP request after 65.0175ms - 200
2024-09-09 22:00:55.023 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:55.025 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.028 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.033 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:00:55.036 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:00:55.039 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.052 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.059 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.067 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.069 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:00:55.072 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.075 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:00:55.081 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:55.083 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:55.085 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.088 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.090 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:55.095 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:00:55.097 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.104 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.115 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.117 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:00:55.120 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.128 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:00:55.130 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:55.131 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:55.133 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:55.135 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:55.141 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.146 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:55.149 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:55.151 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.156 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.159 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:55.161 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:00:55.163 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:55.168 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:55.180 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.182 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:00:55.188 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.191 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:55.194 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.197 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:00:55.202 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:00:55.205 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:00:55.208 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:00:55.210 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:00:55.212 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:00:55.213 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:55.217 +03:00 [DBG] Running health checks
2024-09-09 22:00:55.219 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:00:55.219 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:00:55.219 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:00:55.222 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.4603ms with message 'Database is available.'
2024-09-09 22:00:55.228 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.8389ms with message 'Available memory: 161005568 bytes.'
2024-09-09 22:00:55.251 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.564ms with message 'Ping successful.'
2024-09-09 22:00:55.254 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.7521ms
2024-09-09 22:00:55.257 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:55.257 +03:00 [INF] Received HTTP response headers after 50.1891ms - 200
2024-09-09 22:00:55.258 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 50.1574ms
2024-09-09 22:00:55.259 +03:00 [INF] End processing HTTP request after 57.5845ms - 200
2024-09-09 22:00:55.269 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:55.271 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.274 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.275 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:55.277 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:55.281 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.289 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.301 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.303 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:55.306 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.309 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:00:55.314 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:55.318 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:55.319 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.322 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.324 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:55.329 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:00:55.331 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.337 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.348 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.350 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:55.353 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.356 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:55.363 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:55.365 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:55.366 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:55.368 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:55.371 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.378 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:55.380 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:55.381 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.384 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.386 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:00:55.392 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:00:55.394 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:55.399 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:55.410 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.412 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:00:55.415 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.422 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:00:55.425 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.428 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:00:55.431 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:00:55.438 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:00:55.442 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:00:55.445 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:00:55.446 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:00:55.448 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:55.452 +03:00 [DBG] Running health checks
2024-09-09 22:00:55.456 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:00:55.467 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.8689ms with message 'Available memory: 161386496 bytes.'
2024-09-09 22:00:55.472 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 19.8139ms
2024-09-09 22:00:55.475 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:55.475 +03:00 [INF] Received HTTP response headers after 34.7685ms - 200
2024-09-09 22:00:55.477 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 35.6882ms
2024-09-09 22:00:55.480 +03:00 [INF] End processing HTTP request after 48.7841ms - 200
2024-09-09 22:00:55.492 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:55.494 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.500 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.502 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:00:55.505 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:55.508 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.522 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.535 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.540 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.549 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.552 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.555 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 20ms reading results.
2024-09-09 22:00:55.563 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.568 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:00:55.570 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:55.573 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:55.579 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.583 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.586 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:00:55.593 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-09 22:00:55.596 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.610 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.616 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.617 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:00:55.626 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.629 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:55.631 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:55.632 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:55.638 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:55.639 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:55.642 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.645 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:55.648 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.655 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:55.658 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:55.660 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:55.662 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.668 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:00:55.670 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:00:55.672 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.674 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:00:55.676 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:55.678 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:55.688 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:55.697 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.701 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:00:55.705 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.706 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:55.708 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:55.712 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:00:55.717 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:00:55.722 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.728 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:00:55.731 +03:00 [DBG] Committing transaction.
2024-09-09 22:00:55.734 +03:00 [DBG] Committed transaction.
2024-09-09 22:00:55.735 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.738 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:55.744 +03:00 [DBG] Disposing transaction.
2024-09-09 22:00:55.747 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.750 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.754 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:00:55.760 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:00:55.762 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:00:55.765 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:00:55.768 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:00:55.770 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:00:55.775 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:55.776 +03:00 [DBG] Running health checks
2024-09-09 22:00:55.778 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:00:55.779 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.3261ms with message 'Database is available.'
2024-09-09 22:00:55.782 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.0718ms
2024-09-09 22:00:55.784 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:55.785 +03:00 [INF] Received HTTP response headers after 21.1951ms - 200
2024-09-09 22:00:55.786 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 20.946ms
2024-09-09 22:00:55.792 +03:00 [INF] End processing HTTP request after 31.94ms - 200
2024-09-09 22:00:55.799 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:55.800 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.807 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.808 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:55.811 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:55.813 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.824 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.831 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.841 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.844 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.847 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 22:00:55.855 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.858 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:00:55.860 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:55.862 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:55.867 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.870 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.872 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:55.875 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:00:55.877 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.887 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:55.894 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.903 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:00:55.907 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.912 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:00:55.916 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:55.918 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:55.920 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:55.923 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:55.925 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.932 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:55.935 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:55.938 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:55.941 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:55.947 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.951 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:00:55.954 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:00:55.957 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.963 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:00:55.965 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:00:55.968 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:55.980 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:55.987 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:55.992 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:00:55.996 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:55.998 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:56.000 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:56.004 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:56.013 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:56.019 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:56.025 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:00:56.029 +03:00 [DBG] Committing transaction.
2024-09-09 22:00:56.033 +03:00 [DBG] Committed transaction.
2024-09-09 22:00:56.034 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:56.042 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:00:56.044 +03:00 [DBG] Disposing transaction.
2024-09-09 22:00:56.046 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:56.049 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:56.058 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:00:56.060 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:00:56.062 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:00:56.065 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:00:56.071 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:00:56.072 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:00:56.074 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:00:56.075 +03:00 [DBG] Running health checks
2024-09-09 22:00:56.077 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:00:56.105 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.0302ms with message 'Ping successful.'
2024-09-09 22:00:56.108 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.8351ms
2024-09-09 22:00:56.110 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:00:56.110 +03:00 [INF] Received HTTP response headers after 46.3697ms - 200
2024-09-09 22:00:56.112 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 46.3072ms
2024-09-09 22:00:56.114 +03:00 [INF] End processing HTTP request after 53.4215ms - 200
2024-09-09 22:00:56.122 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:56.125 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:56.131 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:56.134 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:56.137 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:00:56.138 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:56.150 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:56.156 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:56.159 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:56.166 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:56.169 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:00:56.171 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:56.174 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:56.179 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:00:56.181 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:56.183 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:56.185 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:56.187 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:56.189 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:56.191 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:56.203 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:00:56.215 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:56.216 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:00:56.220 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:56.222 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:00:56.228 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:00:56.230 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:56.231 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:00:56.233 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:56.235 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:56.241 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:00:56.245 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:56.248 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:00:56.250 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:56.251 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:56.258 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:00:56.259 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:00:56.261 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:56.262 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:56.264 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:56.266 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:56.276 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:56.280 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:56.282 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:56.288 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:00:56.289 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:00:56.291 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:00:56.293 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:56.297 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:00:56.305 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:56.306 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:00:56.309 +03:00 [DBG] Committing transaction.
2024-09-09 22:00:56.311 +03:00 [DBG] Committed transaction.
2024-09-09 22:00:56.312 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:00:56.317 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:00:56.320 +03:00 [DBG] Disposing transaction.
2024-09-09 22:00:56.322 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:56.325 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:00:56.328 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:00:56.330 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:00:56.335 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:00:56.337 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:00:56.339 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:00:56.341 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:06.348 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:01:06.350 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:01:06.354 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:01:06.356 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:01:06.357 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:06.359 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.362 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:06.367 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:06.370 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:06.372 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:01:06.376 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:01:06.384 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:06.387 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:06.390 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:06.392 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:06.400 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:06.403 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.405 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 20ms reading results.
2024-09-09 22:01:06.411 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.415 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:01:06.417 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:01:06.419 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:01:06.423 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:01:06.428 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:01:06.430 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:01:06.433 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:06.434 +03:00 [DBG] Running health checks
2024-09-09 22:01:06.436 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:06.436 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:06.436 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:06.442 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 6.4311ms with message 'Database is available.'
2024-09-09 22:01:06.451 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 15.344ms with message 'Available memory: 163033088 bytes.'
2024-09-09 22:01:06.471 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 35.0789ms with message 'Ping successful.'
2024-09-09 22:01:06.475 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 40.7115ms
2024-09-09 22:01:06.477 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:06.478 +03:00 [INF] Received HTTP response headers after 56.067ms - 200
2024-09-09 22:01:06.479 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 56.0366ms
2024-09-09 22:01:06.481 +03:00 [INF] End processing HTTP request after 63.3395ms - 200
2024-09-09 22:01:06.491 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:06.493 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.496 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:06.498 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:06.500 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:06.506 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:06.513 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:06.526 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:06.529 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.531 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:01:06.538 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.541 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:06.543 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:06.545 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:06.547 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.554 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:06.556 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:06.559 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:06.561 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:06.574 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:06.580 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.588 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:01:06.592 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.594 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:06.600 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:06.601 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:06.603 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:06.605 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:06.608 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:06.611 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:06.617 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:06.619 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.622 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:06.624 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:06.626 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:06.628 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:06.638 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:06.646 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.651 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:01:06.654 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.657 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:06.660 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:06.666 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:01:06.669 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:01:06.671 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:01:06.675 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:01:06.682 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:01:06.684 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:01:06.686 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:06.688 +03:00 [DBG] Running health checks
2024-09-09 22:01:06.690 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:06.690 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:06.690 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:06.697 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 7.013ms with message 'Database is available.'
2024-09-09 22:01:06.704 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 14.4851ms with message 'Available memory: 164048896 bytes.'
2024-09-09 22:01:06.726 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 35.4483ms with message 'Ping successful.'
2024-09-09 22:01:06.728 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 40.3377ms
2024-09-09 22:01:06.730 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:06.730 +03:00 [INF] Received HTTP response headers after 57.4653ms - 200
2024-09-09 22:01:06.732 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 57.2397ms
2024-09-09 22:01:06.734 +03:00 [INF] End processing HTTP request after 64.874ms - 200
2024-09-09 22:01:06.744 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:06.745 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.748 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:06.750 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:06.756 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:01:06.759 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:06.774 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:06.789 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.791 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:06.794 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.797 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:06.805 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:06.807 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:06.808 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.810 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:06.812 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:06.818 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:06.820 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:06.827 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:06.839 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.841 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:06.844 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.853 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (8ms).
2024-09-09 22:01:06.855 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:06.857 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:06.859 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:06.865 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:06.869 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:06.879 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:06.882 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:06.884 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.888 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:06.890 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:06.896 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:06.898 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:06.904 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:06.917 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.919 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:01:06.927 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:06.931 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:06.934 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:06.943 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:01:06.947 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:01:06.950 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:01:06.958 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:01:06.962 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:01:06.964 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:01:06.967 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:06.972 +03:00 [DBG] Running health checks
2024-09-09 22:01:06.976 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:06.988 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.0164ms with message 'Available memory: 164315136 bytes.'
2024-09-09 22:01:06.991 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 19.7845ms
2024-09-09 22:01:06.994 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:06.995 +03:00 [INF] Received HTTP response headers after 38.445ms - 200
2024-09-09 22:01:06.996 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 38.4984ms
2024-09-09 22:01:06.999 +03:00 [INF] End processing HTTP request after 52.332ms - 200
2024-09-09 22:01:07.012 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:07.014 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.021 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:07.023 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:07.027 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:07.029 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:07.044 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:07.057 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.060 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.064 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.073 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.075 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 18ms reading results.
2024-09-09 22:01:07.082 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.086 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:01:07.089 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:07.091 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:07.096 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.099 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:07.101 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:07.103 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:07.105 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:07.118 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:07.131 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.133 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:07.137 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.140 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:07.145 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:07.147 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:07.149 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:07.151 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:07.154 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.157 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:07.165 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.169 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:07.175 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:07.178 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:07.180 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.183 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:07.185 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:07.187 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:07.192 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:07.198 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-09 22:01:07.206 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:07.217 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:07.236 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.240 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:01:07.244 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:07.246 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:07.252 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:07.255 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:01:07.263 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:01:07.277 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.282 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:01:07.286 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:07.291 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:07.292 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.303 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (11ms).
2024-09-09 22:01:07.307 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:07.309 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.315 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.320 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:07.326 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:01:07.332 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:01:07.337 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:01:07.340 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:01:07.342 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:01:07.347 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:07.351 +03:00 [DBG] Running health checks
2024-09-09 22:01:07.353 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:07.355 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.4232ms with message 'Database is available.'
2024-09-09 22:01:07.366 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 15.3017ms
2024-09-09 22:01:07.383 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:07.383 +03:00 [INF] Received HTTP response headers after 47.8292ms - 200
2024-09-09 22:01:07.386 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 49.8142ms
2024-09-09 22:01:07.394 +03:00 [INF] End processing HTTP request after 68.8923ms - 200
2024-09-09 22:01:07.410 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:07.412 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.418 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:07.424 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:01:07.430 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-09 22:01:07.434 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:07.450 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:07.464 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.473 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.478 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.481 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 17ms reading results.
2024-09-09 22:01:07.495 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.500 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:01:07.503 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:07.506 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:07.507 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.511 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:07.515 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:07.518 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:07.520 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:07.527 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:07.540 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.542 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:07.551 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.554 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:07.556 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:07.558 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:07.562 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:07.565 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:07.567 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.571 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:07.573 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.579 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:07.581 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:07.583 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.586 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:07.587 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:07.589 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:07.591 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:07.596 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:01:07.598 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:07.603 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:07.613 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.615 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:01:07.621 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:07.623 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:07.630 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:01:07.632 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:07.637 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:07.647 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.650 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:01:07.654 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:07.661 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:07.663 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.666 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:07.668 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:07.670 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.677 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.680 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:07.682 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:01:07.685 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:01:07.691 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:01:07.694 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:01:07.696 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:01:07.698 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:07.700 +03:00 [DBG] Running health checks
2024-09-09 22:01:07.705 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:07.734 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.7166ms with message 'Ping successful.'
2024-09-09 22:01:07.737 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.1944ms
2024-09-09 22:01:07.739 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:07.739 +03:00 [INF] Received HTTP response headers after 49.5272ms - 200
2024-09-09 22:01:07.740 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 49.5472ms
2024-09-09 22:01:07.742 +03:00 [INF] End processing HTTP request after 59.8835ms - 200
2024-09-09 22:01:07.749 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:07.754 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.757 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:07.759 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:07.761 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:07.763 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:07.775 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:07.785 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.789 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.792 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.794 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:01:07.801 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.803 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:07.805 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:07.807 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:07.809 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.811 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:07.818 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:01:07.820 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:01:07.822 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:07.832 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:07.839 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.842 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:07.850 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.853 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:07.856 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:07.857 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:07.859 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:07.864 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:07.869 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.874 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:07.881 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.885 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:07.888 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:07.890 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.896 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:07.898 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:07.899 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:07.901 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:07.904 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:07.905 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:07.916 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:07.921 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.926 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:01:07.932 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:07.933 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:07.935 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:07.941 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:07.947 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:07.952 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.957 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:01:07.960 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:07.964 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:07.965 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:07.968 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:07.974 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:07.975 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.978 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:07.981 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:07.984 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:01:07.993 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:01:07.996 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:01:07.997 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:07.999 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:01:18.017 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:01:18.021 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:01:18.025 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:01:18.026 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:01:18.028 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:18.030 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.033 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:18.038 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:18.040 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:18.043 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:01:18.047 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:01:18.055 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.058 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.062 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.068 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.071 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.074 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.076 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 21ms reading results.
2024-09-09 22:01:18.083 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.087 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:18.088 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:01:18.090 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:01:18.094 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:01:18.100 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:01:18.102 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:01:18.103 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:18.105 +03:00 [DBG] Running health checks
2024-09-09 22:01:18.108 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:18.108 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:18.108 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:18.113 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.568ms with message 'Database is available.'
2024-09-09 22:01:18.126 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 17.9026ms with message 'Available memory: 164184064 bytes.'
2024-09-09 22:01:18.143 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 35.0795ms with message 'Ping successful.'
2024-09-09 22:01:18.147 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 42.4293ms
2024-09-09 22:01:18.150 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:18.150 +03:00 [INF] Received HTTP response headers after 58.5701ms - 200
2024-09-09 22:01:18.152 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 57.9183ms
2024-09-09 22:01:18.154 +03:00 [INF] End processing HTTP request after 65.7343ms - 200
2024-09-09 22:01:18.166 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:18.167 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.173 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:18.177 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:18.181 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:18.183 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:18.195 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:18.209 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.213 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.216 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:01:18.241 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.259 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (17ms).
2024-09-09 22:01:18.276 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:18.284 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:18.289 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.301 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:18.306 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:18.309 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:01:18.314 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:18.323 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:18.335 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.337 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:18.346 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.350 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:01:18.354 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:18.355 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:18.360 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:18.365 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:18.369 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.377 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:18.380 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:18.382 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.385 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:18.389 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:18.393 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:01:18.395 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:18.400 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:18.412 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.413 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:01:18.419 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.423 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:18.425 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.428 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:01:18.430 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:01:18.435 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:01:18.439 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:01:18.442 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:01:18.444 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:01:18.445 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:18.450 +03:00 [DBG] Running health checks
2024-09-09 22:01:18.452 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:18.452 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:18.452 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:18.456 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.4677ms with message 'Database is available.'
2024-09-09 22:01:18.462 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.2906ms with message 'Available memory: 166502400 bytes.'
2024-09-09 22:01:18.484 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.8613ms with message 'Ping successful.'
2024-09-09 22:01:18.488 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.6153ms
2024-09-09 22:01:18.491 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:18.492 +03:00 [INF] Received HTTP response headers after 53.4769ms - 200
2024-09-09 22:01:18.492 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 53.416ms
2024-09-09 22:01:18.498 +03:00 [INF] End processing HTTP request after 67.6645ms - 200
2024-09-09 22:01:18.507 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:18.509 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.517 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:18.519 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:18.522 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:18.525 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:18.549 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:18.574 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.576 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:18.585 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.597 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (11ms).
2024-09-09 22:01:18.609 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:18.625 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:18.639 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.646 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:18.659 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2024-09-09 22:01:18.661 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-09-09 22:01:18.672 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:18.697 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:18.709 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.718 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:01:18.728 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.745 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (16ms).
2024-09-09 22:01:18.748 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:18.750 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:18.752 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:18.753 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:18.759 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.762 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:18.763 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:18.765 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.767 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:18.768 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:18.770 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:18.776 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:18.783 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:18.793 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.795 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:18.798 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.800 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:18.802 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.809 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:01:18.811 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:01:18.812 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:01:18.815 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:01:18.817 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:01:18.823 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:01:18.825 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:18.826 +03:00 [DBG] Running health checks
2024-09-09 22:01:18.827 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:18.838 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.3405ms with message 'Available memory: 166744064 bytes.'
2024-09-09 22:01:18.841 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 15.3979ms
2024-09-09 22:01:18.843 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:18.843 +03:00 [INF] Received HTTP response headers after 29.5328ms - 200
2024-09-09 22:01:18.845 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 29.446ms
2024-09-09 22:01:18.846 +03:00 [INF] End processing HTTP request after 35.7526ms - 200
2024-09-09 22:01:18.856 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:18.857 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.859 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:18.861 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:18.867 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:18.869 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:18.876 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:18.889 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.892 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.900 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.904 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.906 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 17ms reading results.
2024-09-09 22:01:18.909 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.916 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:01:18.919 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:18.921 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:18.923 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.930 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:18.932 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:18.934 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:18.936 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:18.942 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:18.953 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.955 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:18.958 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:18.966 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:01:18.967 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:18.969 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:18.971 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:18.972 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:18.979 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.982 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:18.985 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:18.988 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:18.996 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:18.998 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:19.000 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.003 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:19.009 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:19.011 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:19.013 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:19.015 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:19.017 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:19.021 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:19.029 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.031 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:19.034 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:19.036 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:19.042 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:19.044 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:01:19.049 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:01:19.059 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.061 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:19.065 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:19.069 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:19.073 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.076 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:19.078 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:19.079 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.087 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.090 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:19.093 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:01:19.095 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:01:19.099 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:01:19.104 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:01:19.106 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:01:19.108 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:19.109 +03:00 [DBG] Running health checks
2024-09-09 22:01:19.110 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:19.112 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.9541ms with message 'Database is available.'
2024-09-09 22:01:19.120 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 10.4975ms
2024-09-09 22:01:19.122 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:19.122 +03:00 [INF] Received HTTP response headers after 24.7343ms - 200
2024-09-09 22:01:19.124 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 24.9899ms
2024-09-09 22:01:19.126 +03:00 [INF] End processing HTTP request after 33.5564ms - 200
2024-09-09 22:01:19.140 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:19.143 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.151 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:19.153 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:19.155 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:19.159 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:19.168 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:19.197 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.202 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.210 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.213 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 16ms reading results.
2024-09-09 22:01:19.218 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.225 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:01:19.227 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:19.229 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:19.230 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.232 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:19.234 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:19.240 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:19.243 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:19.249 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:19.261 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.263 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:19.266 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.273 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:01:19.276 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:19.277 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:19.279 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:19.281 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:19.287 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.291 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:19.294 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.301 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:19.306 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:19.308 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.311 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:19.316 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:19.318 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:19.320 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:19.322 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:19.324 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:19.334 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:19.340 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.346 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:01:19.349 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:19.351 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:19.353 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:19.355 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:19.364 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:19.369 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.371 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:19.380 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:19.385 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:19.386 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.393 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:01:19.396 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:19.398 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.403 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.410 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:19.413 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:01:19.415 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:01:19.419 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:01:19.428 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:01:19.432 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:01:19.435 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:19.442 +03:00 [DBG] Running health checks
2024-09-09 22:01:19.444 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:19.474 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.795ms with message 'Ping successful.'
2024-09-09 22:01:19.479 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.4804ms
2024-09-09 22:01:19.482 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:19.482 +03:00 [INF] Received HTTP response headers after 64.4186ms - 200
2024-09-09 22:01:19.484 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 65.2206ms
2024-09-09 22:01:19.487 +03:00 [INF] End processing HTTP request after 73.9919ms - 200
2024-09-09 22:01:19.493 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:19.496 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.503 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:19.505 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:19.506 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:19.508 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:19.519 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:19.525 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.533 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.536 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.538 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:01:19.541 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.547 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:01:19.549 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:19.550 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:19.552 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.554 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:19.556 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:19.560 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:01:19.563 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:19.569 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:19.579 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.581 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:19.584 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.586 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:19.588 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:19.594 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:19.596 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:19.597 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:19.599 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.602 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:19.608 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.610 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:19.612 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:19.614 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.616 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:19.618 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:19.620 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:19.625 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:19.627 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:19.629 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:19.634 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:19.642 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.644 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:19.649 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:19.650 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:19.656 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:19.657 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:19.661 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:19.665 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.671 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:01:19.674 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:19.677 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:19.678 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:19.681 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:19.686 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:19.688 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.690 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:19.693 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:19.695 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:01:19.700 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:01:19.701 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:01:19.703 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:19.705 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:01:29.712 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:01:29.715 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:01:29.718 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:01:29.719 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:01:29.720 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:29.722 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:29.725 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:29.726 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:29.732 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:29.735 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:01:29.738 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:01:29.741 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:29.747 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:29.750 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:29.753 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:29.755 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:29.757 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:29.762 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 21ms reading results.
2024-09-09 22:01:29.765 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:29.767 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:29.769 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:01:29.771 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:01:29.773 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:01:29.779 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:01:29.781 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:01:29.783 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:29.784 +03:00 [DBG] Running health checks
2024-09-09 22:01:29.786 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:29.786 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:29.786 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:29.787 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.3174ms with message 'Database is available.'
2024-09-09 22:01:29.796 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.5474ms with message 'Available memory: 169115648 bytes.'
2024-09-09 22:01:29.817 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.5482ms with message 'Ping successful.'
2024-09-09 22:01:29.820 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.2345ms
2024-09-09 22:01:29.823 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:29.823 +03:00 [INF] Received HTTP response headers after 50.6748ms - 200
2024-09-09 22:01:29.826 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 53.2524ms
2024-09-09 22:01:29.830 +03:00 [INF] End processing HTTP request after 61.1029ms - 200
2024-09-09 22:01:29.837 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:29.842 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:29.845 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:29.846 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:29.848 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:29.851 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:29.863 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:29.876 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:29.880 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:29.882 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:01:29.890 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:29.893 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:29.895 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:29.897 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:29.899 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:29.906 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:29.908 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:29.910 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:29.912 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:29.924 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:29.930 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:29.931 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:29.941 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:29.944 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:29.946 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:29.947 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:29.951 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:29.955 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:29.957 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:29.960 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:29.962 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:29.963 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:29.970 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:29.971 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:29.973 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:29.975 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:29.982 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:29.990 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:29.992 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:01:29.994 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.000 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:01:30.002 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.005 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:01:30.007 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:01:30.009 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:01:30.012 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:01:30.018 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:01:30.020 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:01:30.022 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:30.024 +03:00 [DBG] Running health checks
2024-09-09 22:01:30.025 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:30.025 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:30.025 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:30.032 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 6.8631ms with message 'Database is available.'
2024-09-09 22:01:30.040 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 14.8212ms with message 'Available memory: 169373696 bytes.'
2024-09-09 22:01:30.060 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 35.1112ms with message 'Ping successful.'
2024-09-09 22:01:30.064 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 40.5592ms
2024-09-09 22:01:30.067 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:30.067 +03:00 [INF] Received HTTP response headers after 56.7692ms - 200
2024-09-09 22:01:30.070 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 57.8017ms
2024-09-09 22:01:30.072 +03:00 [INF] End processing HTTP request after 64.2621ms - 200
2024-09-09 22:01:30.083 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:30.084 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.088 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:30.093 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:30.097 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:01:30.099 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.109 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.114 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.116 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:30.119 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.128 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (8ms).
2024-09-09 22:01:30.130 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:30.132 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:30.133 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.139 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:30.142 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:30.144 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:30.146 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.156 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.164 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.170 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:01:30.173 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.176 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:30.177 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:30.178 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:30.180 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:30.185 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:30.188 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.191 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:30.193 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:30.194 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.200 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:30.202 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:30.204 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:30.207 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:30.211 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:30.221 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.223 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:01:30.226 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.233 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:01:30.236 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.239 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:01:30.241 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:01:30.246 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:01:30.249 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:01:30.253 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:01:30.255 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:01:30.257 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:30.263 +03:00 [DBG] Running health checks
2024-09-09 22:01:30.265 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:30.277 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.3834ms with message 'Available memory: 169623552 bytes.'
2024-09-09 22:01:30.281 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 18.4107ms
2024-09-09 22:01:30.283 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:30.283 +03:00 [INF] Received HTTP response headers after 35.1871ms - 200
2024-09-09 22:01:30.285 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 35.6928ms
2024-09-09 22:01:30.289 +03:00 [INF] End processing HTTP request after 47.7892ms - 200
2024-09-09 22:01:30.298 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:30.300 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.303 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:30.308 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:30.311 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:30.313 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.326 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.331 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.335 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.342 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.345 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.347 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 16ms reading results.
2024-09-09 22:01:30.354 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.357 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:30.360 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:30.362 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:30.363 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.370 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:30.372 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:30.374 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:30.376 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.389 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.405 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.407 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:30.414 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.419 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:01:30.421 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:30.423 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:30.425 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:30.429 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:30.432 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.436 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:30.438 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.441 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:30.447 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:30.449 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:30.451 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.454 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:30.456 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:30.462 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:30.464 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:30.466 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:30.469 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:30.480 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:30.485 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.487 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:30.494 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:30.495 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:30.497 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:30.499 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:01:30.508 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:01:30.514 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.516 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:30.524 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:30.528 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:30.529 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.532 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:30.535 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:30.540 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.544 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.547 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:30.549 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:01:30.555 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:01:30.559 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:01:30.562 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:01:30.563 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:01:30.569 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:30.571 +03:00 [DBG] Running health checks
2024-09-09 22:01:30.573 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:30.575 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.835ms with message 'Database is available.'
2024-09-09 22:01:30.578 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.9838ms
2024-09-09 22:01:30.581 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:30.581 +03:00 [INF] Received HTTP response headers after 23.703ms - 200
2024-09-09 22:01:30.586 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 27.7339ms
2024-09-09 22:01:30.589 +03:00 [INF] End processing HTTP request after 39.7008ms - 200
2024-09-09 22:01:30.597 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:30.602 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.605 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:30.607 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:30.610 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:30.612 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.623 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.638 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.641 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.643 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.649 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 22:01:30.653 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.655 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:30.658 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:30.663 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:30.665 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.668 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:30.670 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:30.673 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:30.679 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.686 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.698 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.700 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:30.703 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.711 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:01:30.713 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:30.715 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:30.717 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:30.719 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:30.725 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.728 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:30.730 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.733 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:30.739 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:30.742 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.745 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:30.747 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:30.748 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:30.753 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:30.755 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:30.757 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:30.762 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:30.770 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.773 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:30.776 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:30.778 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:30.780 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:30.785 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:30.792 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:30.800 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.803 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:30.806 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:30.810 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:30.811 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.818 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:01:30.820 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:30.822 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.827 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.834 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:30.837 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:01:30.839 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:01:30.842 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:01:30.847 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:01:30.851 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:01:30.853 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:30.855 +03:00 [DBG] Running health checks
2024-09-09 22:01:30.856 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:30.884 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.1413ms with message 'Ping successful.'
2024-09-09 22:01:30.888 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.3469ms
2024-09-09 22:01:30.890 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:30.891 +03:00 [INF] Received HTTP response headers after 49.9359ms - 200
2024-09-09 22:01:30.892 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 50.611ms
2024-09-09 22:01:30.895 +03:00 [INF] End processing HTTP request after 57.5432ms - 200
2024-09-09 22:01:30.902 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:30.905 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.913 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:30.915 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:30.917 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:30.921 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.932 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:30.946 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.949 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:30.957 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.959 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:01:30.963 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.966 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:30.972 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:30.974 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:30.977 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:30.980 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:30.982 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:30.989 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:01:30.991 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:31.006 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:31.019 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:31.022 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:31.026 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:31.029 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:31.034 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:31.036 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:31.037 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:31.039 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:31.042 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:31.049 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:31.053 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:31.056 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:31.058 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:31.060 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:31.066 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:31.068 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:31.070 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:31.072 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:31.074 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:31.076 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:31.086 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:31.090 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:31.092 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:31.100 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:31.102 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:31.105 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:31.107 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:31.118 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:31.128 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:31.130 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:31.134 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:31.138 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:31.143 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:31.148 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:01:31.151 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:31.153 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:31.160 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:31.163 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:31.165 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:01:31.167 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:01:31.168 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:01:31.170 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:31.175 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:01:41.192 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:01:41.194 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:01:41.197 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:01:41.198 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:01:41.199 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:41.201 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.204 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:41.206 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:41.207 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:41.213 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:01:41.216 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:01:41.220 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.223 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.229 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.232 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.234 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.237 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.239 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 18ms reading results.
2024-09-09 22:01:41.246 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.248 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:41.250 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:01:41.252 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:01:41.256 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:01:41.261 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:01:41.263 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:01:41.265 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:41.266 +03:00 [DBG] Running health checks
2024-09-09 22:01:41.268 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:41.268 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:41.268 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:41.275 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 7.096ms with message 'Database is available.'
2024-09-09 22:01:41.280 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.2911ms with message 'Available memory: 167821312 bytes.'
2024-09-09 22:01:41.306 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 38.1224ms with message 'Ping successful.'
2024-09-09 22:01:41.309 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 42.1769ms
2024-09-09 22:01:41.311 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:41.311 +03:00 [INF] Received HTTP response headers after 56.5992ms - 200
2024-09-09 22:01:41.312 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 56.1712ms
2024-09-09 22:01:41.313 +03:00 [INF] End processing HTTP request after 62.9433ms - 200
2024-09-09 22:01:41.322 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:41.324 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.326 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:41.328 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:41.329 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:41.331 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:41.341 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:41.347 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.356 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.358 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 22:01:41.361 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.364 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:41.370 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:41.372 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:41.374 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.377 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:41.378 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:41.383 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:01:41.386 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:41.392 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:41.402 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.404 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:41.407 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.409 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:41.411 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:41.415 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:41.417 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:41.419 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:41.421 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.424 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:41.426 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:41.431 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.436 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:41.437 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:41.439 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:41.441 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:41.448 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:41.456 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.457 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:01:41.464 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.466 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:41.468 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.471 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:01:41.476 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:01:41.478 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:01:41.481 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:01:41.483 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:01:41.484 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:01:41.487 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:41.491 +03:00 [DBG] Running health checks
2024-09-09 22:01:41.492 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:41.492 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:41.492 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:41.495 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.2275ms with message 'Database is available.'
2024-09-09 22:01:41.503 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.6463ms with message 'Available memory: 169848832 bytes.'
2024-09-09 22:01:41.523 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.084ms with message 'Ping successful.'
2024-09-09 22:01:41.526 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.2147ms
2024-09-09 22:01:41.528 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:41.529 +03:00 [INF] Received HTTP response headers after 49.0806ms - 200
2024-09-09 22:01:41.529 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 48.9471ms
2024-09-09 22:01:41.531 +03:00 [INF] End processing HTTP request after 55.1178ms - 200
2024-09-09 22:01:41.541 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:41.542 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.546 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:41.548 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:41.553 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:41.556 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:41.570 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:41.578 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.580 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:41.590 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.593 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:41.599 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:41.604 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:41.606 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.609 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:41.617 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:41.619 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:01:41.622 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:41.635 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:41.654 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.656 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:41.666 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.673 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:01:41.680 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:41.682 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:41.684 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:41.686 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:41.688 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.696 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:41.698 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:41.700 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.702 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:41.704 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:41.710 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:41.712 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:41.716 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:41.721 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.726 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:01:41.729 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.731 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:41.733 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.739 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:01:41.743 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:01:41.744 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:01:41.747 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:01:41.750 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:01:41.751 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:01:41.757 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:41.759 +03:00 [DBG] Running health checks
2024-09-09 22:01:41.760 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:41.771 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.181ms with message 'Available memory: 170196992 bytes.'
2024-09-09 22:01:41.774 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 14.5586ms
2024-09-09 22:01:41.776 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:41.776 +03:00 [INF] Received HTTP response headers after 29.9611ms - 200
2024-09-09 22:01:41.777 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 30.0478ms
2024-09-09 22:01:41.779 +03:00 [INF] End processing HTTP request after 35.877ms - 200
2024-09-09 22:01:41.788 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:41.790 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.793 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:41.795 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:41.797 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:41.803 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:41.814 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:41.827 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.830 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.838 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.842 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.845 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 17ms reading results.
2024-09-09 22:01:41.851 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.855 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:41.858 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:41.860 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:41.866 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.870 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:41.873 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:41.876 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:41.882 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:41.893 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:41.908 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.915 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:01:41.920 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.923 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:41.929 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:41.931 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:41.933 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:41.934 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:41.937 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.939 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:41.946 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:41.950 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:41.952 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:41.954 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:41.959 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.961 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:41.963 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:41.964 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:41.966 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:41.967 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:41.969 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:41.977 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:41.982 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:41.984 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:41.992 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:41.994 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:41.996 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:41.997 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:01:42.001 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:01:42.011 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.013 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:42.016 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:42.019 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:42.022 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.025 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:42.027 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:42.029 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.035 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.040 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:42.041 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:01:42.043 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:01:42.046 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:01:42.053 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:01:42.055 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:01:42.058 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:42.059 +03:00 [DBG] Running health checks
2024-09-09 22:01:42.061 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:42.062 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.4315ms with message 'Database is available.'
2024-09-09 22:01:42.068 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 8.56ms
2024-09-09 22:01:42.070 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:42.071 +03:00 [INF] Received HTTP response headers after 25.6254ms - 200
2024-09-09 22:01:42.071 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 25.5558ms
2024-09-09 22:01:42.073 +03:00 [INF] End processing HTTP request after 32.051ms - 200
2024-09-09 22:01:42.083 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:42.085 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.087 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:42.089 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:42.091 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:42.093 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:42.107 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:42.122 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.131 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.137 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.140 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 18ms reading results.
2024-09-09 22:01:42.148 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.155 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:01:42.162 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:42.166 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:42.169 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.181 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:42.194 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2024-09-09 22:01:42.199 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-09-09 22:01:42.211 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:42.226 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:42.233 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.241 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:01:42.244 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.248 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:42.252 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:42.255 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:42.257 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:42.258 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:42.261 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.268 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:42.271 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.275 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:42.276 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:42.278 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.284 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:42.286 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:42.287 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:42.288 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:42.290 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:42.292 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:42.301 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:42.304 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.306 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:42.309 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:42.315 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:01:42.317 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:01:42.319 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:42.324 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:42.331 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.333 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:42.336 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:42.339 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:42.341 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.348 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:01:42.350 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:42.352 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.354 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.361 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:42.364 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:01:42.366 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:01:42.369 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:01:42.372 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:01:42.377 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:01:42.381 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:42.382 +03:00 [DBG] Running health checks
2024-09-09 22:01:42.384 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:42.412 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.3188ms with message 'Ping successful.'
2024-09-09 22:01:42.416 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.3582ms
2024-09-09 22:01:42.418 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:42.418 +03:00 [INF] Received HTTP response headers after 50.3703ms - 200
2024-09-09 22:01:42.419 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 50.4596ms
2024-09-09 22:01:42.421 +03:00 [INF] End processing HTTP request after 57.7286ms - 200
2024-09-09 22:01:42.428 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:42.430 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.433 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:42.434 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:42.442 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:01:42.444 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:42.451 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:42.462 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.466 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.474 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.476 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 22:01:42.480 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.485 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:01:42.489 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:42.491 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:42.493 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.496 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:42.502 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:42.506 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:01:42.508 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:42.518 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:42.523 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.525 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:42.532 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.534 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:42.536 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:42.537 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:42.539 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:42.541 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:42.547 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.550 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:42.552 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.556 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:42.563 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:42.565 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.567 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:42.569 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:42.571 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:42.578 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:01:42.580 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:01:42.583 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:42.588 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:42.596 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.598 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:42.601 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:42.602 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:42.609 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:42.611 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:42.615 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:42.624 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.626 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:42.628 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:42.633 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:42.634 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:42.639 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:01:42.643 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:42.645 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.647 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:42.650 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:42.655 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:01:42.656 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:01:42.659 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:01:42.660 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:42.662 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:01:52.678 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:01:52.680 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:01:52.684 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:01:52.686 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:01:52.688 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:52.690 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:52.693 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:52.699 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:52.701 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:01:52.703 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:01:52.708 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:01:52.716 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:52.719 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:52.722 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:52.729 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:52.732 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:52.736 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:52.738 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 22ms reading results.
2024-09-09 22:01:52.744 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:52.748 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:52.750 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:01:52.752 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:01:52.756 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:01:52.763 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:01:52.765 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:01:52.768 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:52.770 +03:00 [DBG] Running health checks
2024-09-09 22:01:52.772 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:52.772 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:52.772 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:52.780 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 8.4837ms with message 'Database is available.'
2024-09-09 22:01:52.787 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 15.534ms with message 'Available memory: 170766336 bytes.'
2024-09-09 22:01:52.809 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 37.3814ms with message 'Ping successful.'
2024-09-09 22:01:52.812 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 42.586ms
2024-09-09 22:01:52.815 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:52.815 +03:00 [INF] Received HTTP response headers after 60.3497ms - 200
2024-09-09 22:01:52.817 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 61.0316ms
2024-09-09 22:01:52.822 +03:00 [INF] End processing HTTP request after 71.4521ms - 200
2024-09-09 22:01:52.831 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:52.833 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:52.839 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:52.841 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:52.844 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:52.846 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:52.858 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:52.864 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:52.874 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:52.876 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:01:52.879 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:52.885 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:01:52.889 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:52.891 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:52.893 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:52.896 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:52.902 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:52.905 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:01:52.907 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:52.917 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:52.923 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:52.925 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:52.927 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:52.935 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:01:52.937 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:52.938 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:52.940 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:52.941 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:52.943 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:52.950 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:52.953 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:52.954 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:52.957 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:52.958 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:52.959 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:52.966 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:52.971 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:52.978 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:52.980 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:01:52.984 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:52.986 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:52.989 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:52.991 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:01:52.996 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:01:52.998 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:01:53.001 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:01:53.004 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:01:53.006 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:01:53.007 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:53.012 +03:00 [DBG] Running health checks
2024-09-09 22:01:53.014 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:53.014 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:53.014 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:53.017 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.4187ms with message 'Database is available.'
2024-09-09 22:01:53.024 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.353ms with message 'Available memory: 171347968 bytes.'
2024-09-09 22:01:53.045 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.5672ms with message 'Ping successful.'
2024-09-09 22:01:53.049 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.2781ms
2024-09-09 22:01:53.051 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:53.051 +03:00 [INF] Received HTTP response headers after 50.9101ms - 200
2024-09-09 22:01:53.052 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 51.2643ms
2024-09-09 22:01:53.057 +03:00 [INF] End processing HTTP request after 60.7254ms - 200
2024-09-09 22:01:53.064 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:53.066 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.069 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:53.074 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:53.076 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:53.078 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.093 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.104 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.107 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:53.111 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.114 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:53.120 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:53.122 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:53.124 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.127 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:53.134 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:01:53.138 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-09 22:01:53.141 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.169 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.185 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.187 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:53.196 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.200 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:01:53.203 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:53.205 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:53.211 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:53.214 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:53.216 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.219 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:53.221 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:53.226 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.231 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:53.232 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:53.234 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:53.236 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:53.244 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:53.251 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.255 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:01:53.260 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.263 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:53.265 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.267 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:01:53.273 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:01:53.275 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:01:53.279 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:01:53.281 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:01:53.283 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:01:53.287 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:53.289 +03:00 [DBG] Running health checks
2024-09-09 22:01:53.291 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:01:53.300 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.7466ms with message 'Available memory: 173256704 bytes.'
2024-09-09 22:01:53.304 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 15.6754ms
2024-09-09 22:01:53.306 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:53.306 +03:00 [INF] Received HTTP response headers after 28.7355ms - 200
2024-09-09 22:01:53.307 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 28.8721ms
2024-09-09 22:01:53.309 +03:00 [INF] End processing HTTP request after 35.2733ms - 200
2024-09-09 22:01:53.314 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:53.319 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.323 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:53.325 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:53.326 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:53.328 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.340 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.345 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.352 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.355 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.358 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.360 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 22:01:53.367 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.370 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:53.372 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:53.373 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:53.375 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.382 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:53.385 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:53.387 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:53.389 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.401 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.407 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.409 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:53.417 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.420 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:53.422 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:53.424 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:53.425 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:53.429 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:53.432 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.436 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:53.439 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.446 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:53.449 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:53.451 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:53.453 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.455 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:53.457 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:53.463 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:53.465 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:53.467 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:53.470 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:53.478 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:53.483 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.485 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:53.488 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:53.489 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:53.494 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:01:53.497 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:01:53.501 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:01:53.505 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.509 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:01:53.512 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:53.516 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:53.517 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.519 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:53.521 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:53.525 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.528 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.531 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:53.533 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:01:53.534 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:01:53.537 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:01:53.544 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:01:53.546 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:01:53.548 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:53.550 +03:00 [DBG] Running health checks
2024-09-09 22:01:53.551 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:01:53.555 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.1998ms with message 'Database is available.'
2024-09-09 22:01:53.561 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 11.1461ms
2024-09-09 22:01:53.563 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:53.563 +03:00 [INF] Received HTTP response headers after 26.982ms - 200
2024-09-09 22:01:53.565 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 27.7292ms
2024-09-09 22:01:53.567 +03:00 [INF] End processing HTTP request after 33.8959ms - 200
2024-09-09 22:01:53.575 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:53.577 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.579 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:53.580 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:53.586 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:53.588 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.593 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.604 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.606 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.608 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.610 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:01:53.616 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.619 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:53.621 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:53.622 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:53.623 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.625 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:53.627 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:53.633 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:53.635 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.640 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.650 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.652 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:53.655 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.658 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:53.663 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:53.665 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:53.667 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:53.669 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:53.671 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.674 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:53.679 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.682 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:53.684 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:53.685 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.687 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:53.689 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:53.690 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:53.695 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:53.697 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:53.699 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:53.703 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:53.711 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.713 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:53.716 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:53.718 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:53.719 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:01:53.721 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:53.731 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:53.735 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.736 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:53.743 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:53.747 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:53.749 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.751 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:53.757 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:53.759 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.763 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.770 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:53.773 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:01:53.774 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:01:53.777 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:01:53.781 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:01:53.783 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:01:53.788 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:01:53.790 +03:00 [DBG] Running health checks
2024-09-09 22:01:53.792 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:01:53.820 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.3806ms with message 'Ping successful.'
2024-09-09 22:01:53.823 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.471ms
2024-09-09 22:01:53.826 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:01:53.826 +03:00 [INF] Received HTTP response headers after 49.4095ms - 200
2024-09-09 22:01:53.827 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 50.1232ms
2024-09-09 22:01:53.830 +03:00 [INF] End processing HTTP request after 56.954ms - 200
2024-09-09 22:01:53.840 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:53.842 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.845 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:53.846 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:53.852 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:01:53.854 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.862 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.875 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.884 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.888 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.890 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 22:01:53.898 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.903 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:01:53.906 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:01:53.908 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:53.913 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.916 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:53.919 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:01:53.921 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:01:53.923 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.933 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:01:53.938 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.940 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:01:53.950 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.953 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:01:53.956 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:01:53.960 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:53.964 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:01:53.966 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:53.969 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.976 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:01:53.982 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:53.986 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:01:53.992 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:53.994 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:53.997 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:01:53.999 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:01:54.001 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:54.003 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:01:54.010 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:01:54.012 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:54.017 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:54.027 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:54.029 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:54.033 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:01:54.039 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:01:54.042 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:01:54.044 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:54.053 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:01:54.058 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:54.061 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:01:54.064 +03:00 [DBG] Committing transaction.
2024-09-09 22:01:54.071 +03:00 [DBG] Committed transaction.
2024-09-09 22:01:54.072 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:01:54.075 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:01:54.077 +03:00 [DBG] Disposing transaction.
2024-09-09 22:01:54.078 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:54.085 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:01:54.087 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:01:54.089 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:01:54.090 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:01:54.092 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:01:54.093 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:01:54.095 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:02:04.101 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:02:04.104 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:02:04.107 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:02:04.109 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:02:04.110 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:04.112 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.115 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:04.117 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:04.123 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:02:04.125 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:02:04.129 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:02:04.137 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.140 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.143 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.146 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.152 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.156 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.158 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 20ms reading results.
2024-09-09 22:02:04.161 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.163 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:04.170 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:02:04.172 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:02:04.175 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:02:04.178 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:02:04.182 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:02:04.184 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:04.186 +03:00 [DBG] Running health checks
2024-09-09 22:02:04.187 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:02:04.187 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:02:04.187 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:02:04.192 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 5.468ms with message 'Database is available.'
2024-09-09 22:02:04.197 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.6134ms with message 'Available memory: 173502464 bytes.'
2024-09-09 22:02:04.217 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.3287ms with message 'Ping successful.'
2024-09-09 22:02:04.221 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.3366ms
2024-09-09 22:02:04.224 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:04.224 +03:00 [INF] Received HTTP response headers after 49.4549ms - 200
2024-09-09 22:02:04.225 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 50.3026ms
2024-09-09 22:02:04.231 +03:00 [INF] End processing HTTP request after 60.6494ms - 200
2024-09-09 22:02:04.240 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:04.242 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.248 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:04.250 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:04.252 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:04.255 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:04.265 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:04.272 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.281 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.283 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 22:02:04.287 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.293 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:02:04.296 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:04.298 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:04.300 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.303 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:04.309 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:02:04.311 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:02:04.314 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:04.326 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:04.333 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.340 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:02:04.343 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.346 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:04.349 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:04.354 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:04.356 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:04.358 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:04.361 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.365 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:04.371 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:04.374 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.376 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:04.378 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:04.380 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:04.385 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:04.392 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:04.405 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.407 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:04.410 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.417 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:02:04.419 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.423 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:02:04.425 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:02:04.427 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:02:04.435 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:02:04.438 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:02:04.440 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:02:04.442 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:04.446 +03:00 [DBG] Running health checks
2024-09-09 22:02:04.448 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:02:04.448 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:02:04.448 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:02:04.452 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.7812ms with message 'Database is available.'
2024-09-09 22:02:04.463 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 14.2308ms with message 'Available memory: 173830144 bytes.'
2024-09-09 22:02:04.477 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.121ms with message 'Ping successful.'
2024-09-09 22:02:04.480 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.2446ms
2024-09-09 22:02:04.482 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:04.482 +03:00 [INF] Received HTTP response headers after 48.4454ms - 200
2024-09-09 22:02:04.484 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 48.3628ms
2024-09-09 22:02:04.486 +03:00 [INF] End processing HTTP request after 61.0828ms - 200
2024-09-09 22:02:04.497 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:04.499 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.502 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:04.506 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:04.510 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:02:04.512 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:04.519 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:04.530 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.532 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:04.539 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.542 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:04.544 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:04.546 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:04.547 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.554 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:04.556 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:04.558 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:04.560 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:04.569 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:04.576 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.578 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:04.588 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.591 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:02:04.593 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:04.598 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:04.601 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:04.603 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:04.607 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.614 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:04.616 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:04.618 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.621 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:04.623 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:04.629 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:02:04.632 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:04.638 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:04.651 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.653 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:02:04.661 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.664 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:04.667 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.677 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:02:04.679 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:02:04.681 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:02:04.684 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:02:04.690 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:02:04.695 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:02:04.697 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:04.699 +03:00 [DBG] Running health checks
2024-09-09 22:02:04.701 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:02:04.714 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 13.5015ms with message 'Available memory: 174866432 bytes.'
2024-09-09 22:02:04.717 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 17.9998ms
2024-09-09 22:02:04.722 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:04.723 +03:00 [INF] Received HTTP response headers after 39.8275ms - 200
2024-09-09 22:02:04.724 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 40.5502ms
2024-09-09 22:02:04.727 +03:00 [INF] End processing HTTP request after 47.8423ms - 200
2024-09-09 22:02:04.737 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:04.739 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.742 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:04.744 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:04.746 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:04.751 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:04.760 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:04.772 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.775 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.778 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.785 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.788 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 22:02:04.791 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.794 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:02:04.800 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:04.802 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:04.804 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.807 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:04.809 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:04.811 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:04.817 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:04.825 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:04.836 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.838 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:04.841 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.848 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:02:04.851 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:04.853 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:04.855 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:04.857 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:04.863 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.866 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:04.869 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:04.876 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:04.881 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:04.884 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:04.886 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.893 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:02:04.895 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:02:04.897 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:04.899 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:04.902 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:04.908 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:04.915 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:04.926 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.929 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:04.933 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:04.938 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:02:04.941 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:02:04.944 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:02:04.954 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:02:04.963 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.969 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:02:04.974 +03:00 [DBG] Committing transaction.
2024-09-09 22:02:04.978 +03:00 [DBG] Committed transaction.
2024-09-09 22:02:04.980 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:04.989 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (8ms).
2024-09-09 22:02:04.994 +03:00 [DBG] Disposing transaction.
2024-09-09 22:02:04.996 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.003 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.007 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:02:05.010 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:02:05.017 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:02:05.020 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:02:05.024 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:02:05.026 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:02:05.031 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:05.034 +03:00 [DBG] Running health checks
2024-09-09 22:02:05.036 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:02:05.038 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0289ms with message 'Database is available.'
2024-09-09 22:02:05.045 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 10.7971ms
2024-09-09 22:02:05.047 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:05.047 +03:00 [INF] Received HTTP response headers after 28.3011ms - 200
2024-09-09 22:02:05.049 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 28.8273ms
2024-09-09 22:02:05.051 +03:00 [INF] End processing HTTP request after 41.33ms - 200
2024-09-09 22:02:05.062 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:05.064 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.067 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:05.069 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:05.071 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:05.077 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:05.085 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:05.097 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.100 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.103 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.109 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:02:05.113 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.116 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:02:05.118 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:05.120 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:05.125 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.128 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:05.130 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:05.132 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:05.134 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:05.145 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:05.158 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.160 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:05.163 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.166 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:05.172 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:05.174 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:05.175 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:05.177 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:05.180 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.188 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:05.190 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.194 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:05.196 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:05.198 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.205 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:02:05.208 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:02:05.209 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:05.211 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:05.214 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:05.219 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:05.225 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:05.234 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.236 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:05.240 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:05.242 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:05.244 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:05.246 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:05.255 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:05.260 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.266 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:02:05.270 +03:00 [DBG] Committing transaction.
2024-09-09 22:02:05.274 +03:00 [DBG] Committed transaction.
2024-09-09 22:02:05.275 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.282 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:02:05.285 +03:00 [DBG] Disposing transaction.
2024-09-09 22:02:05.287 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.290 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.297 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:02:05.302 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:02:05.303 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:02:05.307 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:02:05.313 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:02:05.315 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:02:05.317 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:05.319 +03:00 [DBG] Running health checks
2024-09-09 22:02:05.320 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:02:05.349 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.4386ms with message 'Ping successful.'
2024-09-09 22:02:05.353 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.9613ms
2024-09-09 22:02:05.355 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:05.355 +03:00 [INF] Received HTTP response headers after 49.7675ms - 200
2024-09-09 22:02:05.357 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 49.9753ms
2024-09-09 22:02:05.359 +03:00 [INF] End processing HTTP request after 57.8785ms - 200
2024-09-09 22:02:05.367 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:05.373 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.376 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:05.378 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:05.380 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:05.383 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:05.394 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:05.408 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.413 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.421 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.424 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 16ms reading results.
2024-09-09 22:02:05.428 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.434 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:02:05.437 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:05.439 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:05.442 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.445 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:05.451 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:02:05.454 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:02:05.456 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:05.472 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:05.487 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.489 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:05.496 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.498 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:05.500 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:05.502 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:05.504 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:05.506 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:05.512 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.515 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:05.518 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.522 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:05.528 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:05.530 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.533 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:02:05.535 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:02:05.537 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:05.542 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:05.544 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:02:05.546 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:05.551 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:05.560 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.562 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:05.566 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:05.567 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:05.570 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:05.575 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:05.581 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:05.589 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.592 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:02:05.595 +03:00 [DBG] Committing transaction.
2024-09-09 22:02:05.599 +03:00 [DBG] Committed transaction.
2024-09-09 22:02:05.600 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:05.605 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:02:05.608 +03:00 [DBG] Disposing transaction.
2024-09-09 22:02:05.609 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.612 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:05.615 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:02:05.621 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:02:05.623 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:02:05.624 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:02:05.626 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:05.628 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:15.631 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:02:15.633 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:02:15.637 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:02:15.638 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:02:15.640 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:15.642 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:15.645 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:15.646 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:15.653 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:02:15.655 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:02:15.659 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:02:15.668 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:15.670 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:15.673 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:15.676 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:15.684 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:15.686 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:15.688 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 20ms reading results.
2024-09-09 22:02:15.691 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:15.698 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:02:15.701 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:02:15.703 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:02:15.706 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:02:15.709 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:02:15.714 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:02:15.718 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:15.720 +03:00 [DBG] Running health checks
2024-09-09 22:02:15.721 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:02:15.721 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:02:15.721 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:02:15.725 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.0109ms with message 'Database is available.'
2024-09-09 22:02:15.734 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.5826ms with message 'Available memory: 175427584 bytes.'
2024-09-09 22:02:15.758 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 36.2808ms with message 'Ping successful.'
2024-09-09 22:02:15.762 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 41.9035ms
2024-09-09 22:02:15.764 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:15.764 +03:00 [INF] Received HTTP response headers after 59.6092ms - 200
2024-09-09 22:02:15.766 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 59.8735ms
2024-09-09 22:02:15.768 +03:00 [INF] End processing HTTP request after 66.6953ms - 200
2024-09-09 22:02:15.779 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:15.781 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:15.785 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:15.788 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:15.794 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:02:15.797 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:15.816 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:15.829 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:15.833 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:15.835 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:02:15.846 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:15.850 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:02:15.857 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:15.860 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:15.862 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:15.865 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:15.873 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:02:15.875 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-09 22:02:15.879 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:15.890 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:15.897 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:15.905 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:02:15.908 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:15.911 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:15.916 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:15.917 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:15.919 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:15.921 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:15.924 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:15.927 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:15.933 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:15.935 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:15.939 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:15.941 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:15.943 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:15.949 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:15.954 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:15.966 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:15.968 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:02:15.971 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:15.974 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:15.979 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:15.983 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:02:15.986 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:02:15.988 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:02:15.997 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:02:16.000 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:02:16.003 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:02:16.009 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:16.011 +03:00 [DBG] Running health checks
2024-09-09 22:02:16.013 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:02:16.013 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:02:16.013 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:02:16.017 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.7364ms with message 'Database is available.'
2024-09-09 22:02:16.036 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 23.7853ms with message 'Available memory: 175685632 bytes.'
2024-09-09 22:02:16.042 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.2471ms with message 'Ping successful.'
2024-09-09 22:02:16.048 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.1255ms
2024-09-09 22:02:16.050 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:16.051 +03:00 [INF] Received HTTP response headers after 55.3951ms - 200
2024-09-09 22:02:16.057 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 60.7254ms
2024-09-09 22:02:16.060 +03:00 [INF] End processing HTTP request after 74.2624ms - 200
2024-09-09 22:02:16.073 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:16.075 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.077 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:16.079 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:16.080 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:16.086 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.092 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.103 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.105 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:02:16.108 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.110 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:16.117 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:16.120 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:16.121 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.124 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:16.126 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:16.131 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:02:16.135 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.142 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.155 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.158 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:16.166 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.168 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:16.171 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:16.173 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:16.179 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:16.181 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:16.183 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.187 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:16.188 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:16.193 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.196 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:16.197 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:16.199 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:16.201 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:16.210 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:16.217 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.219 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:02:16.225 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.228 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:02:16.231 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.234 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:02:16.240 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:02:16.243 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:02:16.246 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:02:16.249 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:02:16.251 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:02:16.256 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:16.259 +03:00 [DBG] Running health checks
2024-09-09 22:02:16.261 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:02:16.272 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.2441ms with message 'Available memory: 175869952 bytes.'
2024-09-09 22:02:16.275 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 16.2493ms
2024-09-09 22:02:16.277 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:16.278 +03:00 [INF] Received HTTP response headers after 32.6315ms - 200
2024-09-09 22:02:16.279 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 33.1852ms
2024-09-09 22:02:16.281 +03:00 [INF] End processing HTTP request after 41.3241ms - 200
2024-09-09 22:02:16.291 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:16.293 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.296 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:16.302 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:02:16.306 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:02:16.308 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.319 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.325 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.333 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.336 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.339 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.341 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 22:02:16.347 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.352 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:02:16.355 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:16.357 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:16.359 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.366 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:16.368 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:16.371 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:16.374 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.384 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.397 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.399 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:16.402 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.404 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:16.409 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:16.412 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:16.414 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:16.416 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:16.418 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.421 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:16.427 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.431 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:16.433 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:16.435 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:16.439 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.441 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:02:16.443 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:02:16.445 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:16.446 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:16.448 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:16.450 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:16.461 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:16.466 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.471 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:02:16.475 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:16.476 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:16.478 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:16.480 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:02:16.490 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:02:16.497 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.509 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:02:16.513 +03:00 [DBG] Committing transaction.
2024-09-09 22:02:16.518 +03:00 [DBG] Committed transaction.
2024-09-09 22:02:16.519 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.522 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:02:16.525 +03:00 [DBG] Disposing transaction.
2024-09-09 22:02:16.528 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.535 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.539 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:02:16.541 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:02:16.543 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:02:16.551 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:02:16.554 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:02:16.555 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:02:16.557 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:16.562 +03:00 [DBG] Running health checks
2024-09-09 22:02:16.564 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:02:16.566 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.6508ms with message 'Database is available.'
2024-09-09 22:02:16.569 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.8355ms
2024-09-09 22:02:16.571 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:16.572 +03:00 [INF] Received HTTP response headers after 22.165ms - 200
2024-09-09 22:02:16.577 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 26.0843ms
2024-09-09 22:02:16.581 +03:00 [INF] End processing HTTP request after 40.505ms - 200
2024-09-09 22:02:16.594 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:16.598 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.600 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:16.602 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:16.607 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:02:16.610 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.617 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.628 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.630 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.633 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.639 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 22:02:16.643 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.646 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:16.648 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:16.650 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:16.656 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.660 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:16.662 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:16.664 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:16.666 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.676 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.683 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.692 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:02:16.697 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.717 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (19ms).
2024-09-09 22:02:16.720 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:16.727 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:16.729 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:16.736 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:16.756 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.763 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:16.766 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.771 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:16.773 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:16.774 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.781 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:02:16.784 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:02:16.786 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:16.787 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:16.789 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:16.794 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:16.800 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:16.806 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.811 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:02:16.815 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:16.817 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:16.818 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:16.820 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:16.828 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:16.833 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.836 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:16.842 +03:00 [DBG] Committing transaction.
2024-09-09 22:02:16.846 +03:00 [DBG] Committed transaction.
2024-09-09 22:02:16.847 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.850 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:02:16.853 +03:00 [DBG] Disposing transaction.
2024-09-09 22:02:16.858 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.862 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.866 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:02:16.872 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:02:16.874 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:02:16.877 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:02:16.881 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:02:16.883 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:02:16.888 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:16.891 +03:00 [DBG] Running health checks
2024-09-09 22:02:16.892 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:02:16.921 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.4548ms with message 'Ping successful.'
2024-09-09 22:02:16.924 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.3471ms
2024-09-09 22:02:16.926 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:16.927 +03:00 [INF] Received HTTP response headers after 50.2105ms - 200
2024-09-09 22:02:16.928 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 50.8001ms
2024-09-09 22:02:16.933 +03:00 [INF] End processing HTTP request after 61.2582ms - 200
2024-09-09 22:02:16.939 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:16.941 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.943 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:16.945 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:16.951 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:02:16.953 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.959 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:16.972 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.975 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:16.982 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.984 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:02:16.988 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:16.991 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:16.996 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:16.998 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:17.000 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:17.003 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:17.004 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:17.007 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:17.008 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:17.021 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:17.032 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:17.034 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:02:17.037 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:17.040 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:17.047 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:17.049 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:17.050 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:17.052 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:17.055 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:17.063 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:17.066 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:17.069 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:17.071 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:17.076 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:17.078 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:02:17.080 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:02:17.082 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:17.084 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:17.086 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:17.091 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:17.096 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:17.101 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:17.103 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:17.112 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:17.113 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:17.116 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:17.118 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:17.127 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:17.132 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:17.138 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:02:17.141 +03:00 [DBG] Committing transaction.
2024-09-09 22:02:17.145 +03:00 [DBG] Committed transaction.
2024-09-09 22:02:17.146 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:17.153 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:02:17.156 +03:00 [DBG] Disposing transaction.
2024-09-09 22:02:17.159 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:17.163 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:17.171 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:02:17.174 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:02:17.177 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:02:17.182 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:02:17.185 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:17.187 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:27.181 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'k8s-cluster-service'
2024-09-09 22:02:27.201 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:02:27.206 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:02:27.210 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:02:27.212 +03:00 [DBG] Created DbConnection. (2ms).
2024-09-09 22:02:27.215 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:27.222 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.226 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:27.228 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:27.230 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:27.236 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:02:27.245 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:02:27.262 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:27.270 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:27.274 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:27.279 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:27.287 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:27.290 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.292 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 30ms reading results.
2024-09-09 22:02:27.300 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.304 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:02:27.306 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:02:27.308 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:02:27.314 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:02:27.317 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:02:27.319 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:02:27.321 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:27.322 +03:00 [DBG] Running health checks
2024-09-09 22:02:27.324 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:02:27.324 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:02:27.324 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:02:27.332 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 7.4889ms with message 'Database is available.'
2024-09-09 22:02:27.340 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 15.6706ms with message 'Available memory: 175841280 bytes.'
2024-09-09 22:02:27.360 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 35.382ms with message 'Ping successful.'
2024-09-09 22:02:27.363 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 40.4812ms
2024-09-09 22:02:27.366 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:27.366 +03:00 [INF] Received HTTP response headers after 52.9869ms - 200
2024-09-09 22:02:27.367 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 53.0852ms
2024-09-09 22:02:27.373 +03:00 [INF] End processing HTTP request after 66.8027ms - 200
2024-09-09 22:02:27.381 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:27.382 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.389 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:27.391 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:27.393 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:27.395 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:27.408 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:27.414 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:27.421 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.424 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:02:27.427 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.431 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:02:27.437 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:27.439 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:27.441 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.444 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:27.450 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:02:27.452 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:02:27.455 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:27.462 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:27.477 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.484 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:02:27.489 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.492 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:02:27.498 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:27.500 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:27.502 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:27.504 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:27.507 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:27.514 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:27.516 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:27.519 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.522 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:27.529 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:02:27.531 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:02:27.534 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:27.543 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:27.553 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.559 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:02:27.562 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.566 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:02:27.568 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:27.575 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:02:27.578 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:02:27.580 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:02:27.583 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:02:27.589 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:02:27.592 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:02:27.594 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:27.596 +03:00 [DBG] Running health checks
2024-09-09 22:02:27.597 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:02:27.597 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:02:27.598 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:02:27.601 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.2195ms with message 'Database is available.'
2024-09-09 22:02:27.610 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.1459ms with message 'Available memory: 178532352 bytes.'
2024-09-09 22:02:27.634 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 36.3056ms with message 'Ping successful.'
2024-09-09 22:02:27.638 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 41.7683ms
2024-09-09 22:02:27.640 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:27.640 +03:00 [INF] Received HTTP response headers after 58.4137ms - 200
2024-09-09 22:02:27.642 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 58.8117ms
2024-09-09 22:02:27.644 +03:00 [INF] End processing HTTP request after 65.9337ms - 200
2024-09-09 22:02:27.656 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:27.658 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.661 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:27.666 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:27.668 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:02:27.670 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:27.678 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:27.694 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.700 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:02:27.704 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.707 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:27.709 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:27.711 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:27.717 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.720 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:27.722 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:27.724 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:27.726 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:27.738 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:27.750 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.753 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:27.756 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.762 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:02:27.765 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:27.766 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:27.768 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:27.770 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:27.776 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:27.782 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:27.784 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:27.786 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.792 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:27.794 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:27.797 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:27.799 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:27.804 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:27.816 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.817 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:02:27.820 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.826 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:02:27.829 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:27.832 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:02:27.834 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:02:27.836 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:02:27.843 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:02:27.846 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:02:27.848 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:02:27.849 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:27.851 +03:00 [DBG] Running health checks
2024-09-09 22:02:27.856 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:02:27.868 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.1896ms with message 'Available memory: 178741248 bytes.'
2024-09-09 22:02:27.875 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 23.8679ms
2024-09-09 22:02:27.877 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:27.878 +03:00 [INF] Received HTTP response headers after 35.7987ms - 200
2024-09-09 22:02:27.880 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 36.6503ms
2024-09-09 22:02:27.882 +03:00 [INF] End processing HTTP request after 48.4533ms - 200
2024-09-09 22:02:27.894 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:27.896 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.904 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:27.906 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:27.909 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:02:27.912 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:27.926 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:27.939 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:27.942 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:27.946 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:27.956 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.958 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 18ms reading results.
2024-09-09 22:02:27.961 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.968 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:02:27.971 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:27.973 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:27.975 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:27.983 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:27.986 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:27.988 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:27.990 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:28.004 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:28.017 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.020 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:28.023 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.030 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:02:28.032 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:28.034 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:28.036 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:28.038 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:28.041 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.047 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:28.050 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.054 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:28.057 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:28.062 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:28.063 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.066 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:02:28.068 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:02:28.070 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:28.072 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:28.078 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:02:28.080 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:28.086 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:28.094 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.096 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:02:28.099 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:28.100 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:28.103 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:02:28.108 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:02:28.113 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:02:28.117 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.124 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:02:28.128 +03:00 [DBG] Committing transaction.
2024-09-09 22:02:28.133 +03:00 [DBG] Committed transaction.
2024-09-09 22:02:28.137 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.140 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:28.142 +03:00 [DBG] Disposing transaction.
2024-09-09 22:02:28.144 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.148 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.156 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:02:28.159 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:02:28.161 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:02:28.164 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:02:28.171 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:02:28.173 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:02:28.176 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:28.178 +03:00 [DBG] Running health checks
2024-09-09 22:02:28.183 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:02:28.185 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.1636ms with message 'Database is available.'
2024-09-09 22:02:28.189 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 11.6947ms
2024-09-09 22:02:28.192 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:28.192 +03:00 [INF] Received HTTP response headers after 29.1341ms - 200
2024-09-09 22:02:28.194 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 29.8549ms
2024-09-09 22:02:28.200 +03:00 [INF] End processing HTTP request after 41.6392ms - 200
2024-09-09 22:02:28.209 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:28.214 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.218 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:28.220 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:28.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:28.225 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:28.237 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:28.249 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.253 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.263 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.265 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 16ms reading results.
2024-09-09 22:02:28.270 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.278 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (8ms).
2024-09-09 22:02:28.281 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:28.284 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:28.286 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.294 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:28.296 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:28.298 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:28.300 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:28.311 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:28.318 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.325 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:02:28.329 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.332 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:28.334 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:28.339 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:28.343 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:28.346 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:28.350 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.358 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:28.362 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.365 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:28.371 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:28.373 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.376 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:02:28.379 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:02:28.380 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:28.385 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:02:28.389 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:02:28.391 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:28.397 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:28.406 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.408 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:02:28.411 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:28.413 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:28.420 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:02:28.422 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:28.428 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:28.437 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.439 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:02:28.443 +03:00 [DBG] Committing transaction.
2024-09-09 22:02:28.452 +03:00 [DBG] Committed transaction.
2024-09-09 22:02:28.454 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.457 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:02:28.463 +03:00 [DBG] Disposing transaction.
2024-09-09 22:02:28.465 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.469 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.477 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:02:28.481 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:02:28.484 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:02:28.488 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:02:28.495 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:02:28.497 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:02:28.500 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:02:28.501 +03:00 [DBG] Running health checks
2024-09-09 22:02:28.504 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:02:28.536 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 32.8102ms with message 'Ping successful.'
2024-09-09 22:02:28.540 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 38.7708ms
2024-09-09 22:02:28.543 +03:00 [DBG] Connection id "0HN6H06MGDJIE" completed keep alive response.
2024-09-09 22:02:28.543 +03:00 [INF] Received HTTP response headers after 56.4863ms - 200
2024-09-09 22:02:28.545 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 57.0622ms
2024-09-09 22:02:28.547 +03:00 [INF] End processing HTTP request after 65.795ms - 200
2024-09-09 22:02:28.559 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:28.561 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.565 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:28.571 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:02:28.574 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:02:28.577 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:28.589 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:28.596 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.605 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.608 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.610 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 22:02:28.617 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.620 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:02:28.622 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:02:28.624 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:28.625 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.627 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:28.632 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:02:28.633 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:02:28.634 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:28.638 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:02:28.640 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.642 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:02:28.651 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.653 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:02:28.655 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:02:28.657 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:28.658 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:02:28.659 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:28.661 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.663 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:02:28.664 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.666 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:02:28.667 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:28.669 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.671 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:02:28.672 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:02:28.681 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:28.682 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:28.684 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:28.685 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:28.687 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:28.690 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.692 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:02:28.694 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:02:28.695 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:02:28.696 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:02:28.697 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:28.699 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:02:28.702 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.703 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:02:28.711 +03:00 [DBG] Committing transaction.
2024-09-09 22:02:28.715 +03:00 [DBG] Committed transaction.
2024-09-09 22:02:28.716 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:02:28.718 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:02:28.719 +03:00 [DBG] Disposing transaction.
2024-09-09 22:02:28.725 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.726 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:02:28.728 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:02:28.730 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:02:28.730 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:02:28.732 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:02:28.733 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:02:28.735 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:02:30.757 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks-webhooks'
2024-09-09 22:02:30.773 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks'
2024-09-09 22:02:37.191 +03:00 [DBG] Starting HttpMessageHandler cleanup cycle with 3 items
2024-09-09 22:02:37.201 +03:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1011ms - processed: 0 items - remaining: 3 items
2024-09-09 22:11:47.147 +03:00 [DBG] This is a debug message
2024-09-09 22:11:47.208 +03:00 [INF] This is an info message
2024-09-09 22:11:47.210 +03:00 [WRN] This is a warning message
2024-09-09 22:11:47.212 +03:00 [ERR] This is an error message
2024-09-09 22:11:47.213 +03:00 [FTL] This is a fatal message
2024-09-09 22:11:47.629 +03:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-09-09 22:11:47.944 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-09 22:11:48.125 +03:00 [DBG] Hosting starting
2024-09-09 22:11:48.222 +03:00 [INF] User profile is available. Using 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-09 22:11:48.237 +03:00 [INF] Initializing UI Database
2024-09-09 22:11:48.670 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-09 22:11:49.681 +03:00 [DBG] The property 'HealthCheckExecutionEntry.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 22:11:49.684 +03:00 [DBG] The property 'HealthCheckExecutionHistory.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 22:11:49.968 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:11:49.999 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:11:50.020 +03:00 [DBG] Created DbConnection. (16ms).
2024-09-09 22:11:50.027 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:50.048 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:50.058 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:50.069 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:11:50.087 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-09 22:11:50.090 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:11:50.091 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:11:50.104 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (10ms).
2024-09-09 22:11:50.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (22ms).
2024-09-09 22:11:50.116 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:50.124 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:50.142 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 22:11:50.182 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 22:11:50.193 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:50.201 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:11:50.233 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:50.236 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:50.238 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:50.240 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:50.242 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:11:50.247 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 22:11:50.253 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 22:11:50.265 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:50.270 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 22:11:50.273 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:50.275 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:11:50.369 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()
    .Any()'
2024-09-09 22:11:50.658 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Configurations AS c)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 22:11:50.698 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:50.700 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:50.702 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:50.704 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:50.705 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:50.707 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 22:11:50.711 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 22:11:50.718 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:50.720 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:11:50.723 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:50.726 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:11:50.734 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()'
2024-09-09 22:11:50.811 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: HealthCheckConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckConfiguration.DiscoveryService (string) MaxLength(100), 1], [Property: HealthCheckConfiguration.Name (string) Required MaxLength(500), 2], [Property: HealthCheckConfiguration.Uri (string) Required MaxLength(500), 3] }
        SELECT c.Id, c.DiscoveryService, c.Name, c.Uri
        FROM Configurations AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Data.HealthChecksDb, 
    False, 
    False, 
    True
)'
2024-09-09 22:11:50.824 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:50.826 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:50.828 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:50.830 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:50.832 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:50.834 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:11:50.838 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:11:50.897 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:50.936 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:50.939 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:50.941 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:50.944 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:50.947 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:50.950 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 108ms reading results.
2024-09-09 22:11:50.953 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:50.956 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:11:50.967 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:11:50.984 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:11:51.012 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:11:51.023 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 0 entities written to the database.
2024-09-09 22:11:51.027 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:11:51.030 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:51.032 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:11:51.041 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-708ff948-4064-4637-b437-6d3d4d39db23.xml'.
2024-09-09 22:11:51.055 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-b1c18ae0-c8a0-4231-a320-ae7c37796e64.xml'.
2024-09-09 22:11:51.058 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-c1775fa6-7869-4e48-a739-17ea1f4d4600.xml'.
2024-09-09 22:11:51.060 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-f484012b-a04f-4d48-bbf1-e6db9c34915c.xml'.
2024-09-09 22:11:51.070 +03:00 [DBG] Found key {708ff948-4064-4637-b437-6d3d4d39db23}.
2024-09-09 22:11:51.079 +03:00 [DBG] Found key {b1c18ae0-c8a0-4231-a320-ae7c37796e64}.
2024-09-09 22:11:51.081 +03:00 [DBG] Found key {c1775fa6-7869-4e48-a739-17ea1f4d4600}.
2024-09-09 22:11:51.083 +03:00 [DBG] Found key {f484012b-a04f-4d48-bbf1-e6db9c34915c}.
2024-09-09 22:11:51.097 +03:00 [DBG] Considering key {708ff948-4064-4637-b437-6d3d4d39db23} with expiration date 2024-11-18 12:06:14Z as default key.
2024-09-09 22:11:51.105 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 22:11:51.108 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-09 22:11:51.112 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 22:11:51.117 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-09 22:11:51.121 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-09 22:11:51.125 +03:00 [DBG] Using key {708ff948-4064-4637-b437-6d3d4d39db23} as the default key.
2024-09-09 22:11:51.128 +03:00 [DBG] Key ring with default key {708ff948-4064-4637-b437-6d3d4d39db23} was loaded during application startup.
2024-09-09 22:11:51.399 +03:00 [INF] Now listening on: https://localhost:7227
2024-09-09 22:11:51.401 +03:00 [INF] Now listening on: http://localhost:5174
2024-09-09 22:11:51.403 +03:00 [DBG] Loaded hosting startup assembly MyApi
2024-09-09 22:11:51.404 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-09 22:11:51.405 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-09 22:11:51.433 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:11:51.476 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:11:51.484 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:11:51.485 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:11:51.487 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:51.489 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:51.492 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:51.494 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:51.496 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:51.498 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:11:51.501 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:11:51.505 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:51.510 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:51.512 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:51.515 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:51.517 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:51.519 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:51.521 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 22:11:51.524 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:51.527 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:11:51.561 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:11:51.566 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:11:51.587 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-09 22:11:51.588 +03:00 [INF] Hosting environment: Development
2024-09-09 22:11:51.590 +03:00 [INF] Content root path: C:\Users\Viktor\source\repos\MyApi\MyApi
2024-09-09 22:11:51.596 +03:00 [DBG] Hosting started
2024-09-09 22:11:51.598 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" accepted.
2024-09-09 22:11:51.602 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" started.
2024-09-09 22:11:51.651 +03:00 [DBG] Connection 0HN6H0D1D5B1K established using the following protocol: "Tls12"
2024-09-09 22:11:51.723 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:11:51.745 +03:00 [DBG] Connection id "0HN6H0D1D5B1L" accepted.
2024-09-09 22:11:51.747 +03:00 [DBG] Connection id "0HN6H0D1D5B1L" started.
2024-09-09 22:11:51.751 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-09 22:11:51.755 +03:00 [DBG] Connection id "0HN6H0D1D5B1M" received FIN.
2024-09-09 22:11:51.755 +03:00 [DBG] Connection id "0HN6H0D1D5B1L" received FIN.
2024-09-09 22:11:51.756 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:11:51.758 +03:00 [DBG] Connection id "0HN6H0D1D5B1M" accepted.
2024-09-09 22:11:51.771 +03:00 [DBG] Connection id "0HN6H0D1D5B1M" started.
2024-09-09 22:11:51.771 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-09 22:11:51.774 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-09 22:11:51.826 +03:00 [DBG] Connection id "0HN6H0D1D5B1M" stopped.
2024-09-09 22:11:51.826 +03:00 [DBG] Connection id "0HN6H0D1D5B1L" stopped.
2024-09-09 22:11:51.829 +03:00 [DBG] Connection id "0HN6H0D1D5B1M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 22:11:51.829 +03:00 [DBG] Connection id "0HN6H0D1D5B1L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 22:11:51.850 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:11:51.853 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:11:51.861 +03:00 [DBG] Running health checks
2024-09-09 22:11:51.866 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:11:51.866 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:11:51.866 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:11:51.898 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 18.1861ms with message 'Database is available.'
2024-09-09 22:11:51.898 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 32.5244ms with message 'Available memory: 132669440 bytes.'
2024-09-09 22:11:51.926 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 60.1991ms with message 'Ping successful.'
2024-09-09 22:11:51.943 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 75.3979ms
2024-09-09 22:11:52.065 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:11:52.068 +03:00 [INF] Received HTTP response headers after 494.8174ms - 200
2024-09-09 22:11:52.069 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 356.2935ms
2024-09-09 22:11:52.071 +03:00 [INF] End processing HTTP request after 513.6467ms - 200
2024-09-09 22:11:52.200 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckExecution>()
    .Include(le => le.History)
    .Include(le => le.Entries)
    .Where(le => le.Name == __configuration_Name_0)
    .SingleOrDefault()'
2024-09-09 22:11:52.230 +03:00 [DBG] Including navigation: 'HealthCheckExecution.History'.
2024-09-09 22:11:52.234 +03:00 [DBG] Including navigation: 'HealthCheckExecution.Entries'.
2024-09-09 22:11:52.359 +03:00 [DBG] Connection id "0HN6H0D1D5B1N" accepted.
2024-09-09 22:11:52.363 +03:00 [DBG] Connection id "0HN6H0D1D5B1N" started.
2024-09-09 22:11:52.389 +03:00 [DBG] Connection 0HN6H0D1D5B1N established using the following protocol: "Tls12"
2024-09-09 22:11:52.427 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/index.html - null null
2024-09-09 22:11:52.447 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-09 22:11:52.467 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-09-09 22:11:52.471 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-09 22:11:52.473 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:11:52.474 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckExecution>(
    asyncEnumerable: new SingleQueryingEnumerable<HealthCheckExecution>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: HealthCheckExecution.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckExecution.DiscoveryService (string) MaxLength(50), 1], [Property: HealthCheckExecution.LastExecuted (DateTime) Required, 2], [Property: HealthCheckExecution.Name (string) Required MaxLength(500), 3], [Property: HealthCheckExecution.OnStateFrom (DateTime) Required, 4], [Property: HealthCheckExecution.Status (UIHealthStatus) Required, 5], [Property: HealthCheckExecution.Uri (string) Required MaxLength(500), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionHistory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: HealthCheckExecutionHistory.Description (string), 8], [Property: HealthCheckExecutionHistory.HealthCheckExecutionId (no field, int?) Shadow FK Index, 9], [Property: HealthCheckExecutionHistory.Name (string) MaxLength(500), 10], [Property: HealthCheckExecutionHistory.On (DateTime) Required, 11], [Property: HealthCheckExecutionHistory.Status (UIHealthStatus) Required MaxLength(50), 12] }
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionEntry.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: HealthCheckExecutionEntry.Description (string), 14], [Property: HealthCheckExecutionEntry.Duration (TimeSpan) Required, 15], [Property: HealthCheckExecutionEntry.HealthCheckExecutionId (no field, int?) Shadow FK Index, 16], [Property: HealthCheckExecutionEntry.Name (string) Required MaxLength(500), 17], [Property: HealthCheckExecutionEntry.Status (UIHealthStatus) Required, 18], [Property: HealthCheckExecutionEntry.Tags (List<string>), 19] }
                5 -> 13
            SELECT t.Id, t.DiscoveryService, t.LastExecuted, t.Name, t.OnStateFrom, t.Status, t.Uri, h.Id, h.Description, h.HealthCheckExecutionId, h.Name, h.On, h.Status, h0.Id, h0.Description, h0.Duration, h0.HealthCheckExecutionId, h0.Name, h0.Status, h0.Tags
            FROM 
            (
                SELECT TOP(2) e.Id, e.DiscoveryService, e.LastExecuted, e.Name, e.OnStateFrom, e.Status, e.Uri
                FROM Executions AS e
                WHERE e.Name == @__configuration_Name_0
            ) AS t
            LEFT JOIN HealthCheckExecutionHistories AS h ON t.Id == h.HealthCheckExecutionId
            LEFT JOIN HealthCheckExecutionEntries AS h0 ON t.Id == h0.HealthCheckExecutionId
            ORDER BY t.Id ASC, h.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckExecution>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 22:11:52.501 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:52.504 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:52.507 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:52.509 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:52.515 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:11:52.522 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:52.537 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:52.570 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:52.610 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:52.612 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 69ms reading results.
2024-09-09 22:11:52.616 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:52.618 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:11:52.621 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-09 22:11:52.625 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:11:52.633 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:52.636 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:52.643 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:52.646 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:11:52.648 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:11:52.651 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:52.659 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-09 22:11:52.664 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:52.668 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/index.html - 200 null text/html;charset=utf-8 242.0553ms
2024-09-09 22:11:52.678 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:52.687 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:11:52.692 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:52.695 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:11:52.699 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:11:52.703 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:11:52.706 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_vs/browserLink - null null
2024-09-09 22:11:52.705 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - null null
2024-09-09 22:11:52.706 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:11:52.725 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 19.7501ms
2024-09-09 22:11:52.731 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:11:52.749 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:52.767 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:11:52.784 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.3572ms
2024-09-09 22:11:52.895 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:52.897 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:52.904 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:52.905 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:52.910 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:11:52.912 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:52.918 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:52.934 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:52.936 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:11:52.939 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:52.942 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:11:52.954 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:52.957 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:11:52.959 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:11:52.964 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:11:52.969 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:11:52.973 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:11:52.975 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:11:52.978 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:11:52.979 +03:00 [DBG] Running health checks
2024-09-09 22:11:52.981 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:11:52.981 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:11:52.981 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:11:52.983 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.2518ms with message 'Database is available.'
2024-09-09 22:11:52.991 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.7296ms with message 'Available memory: 141443072 bytes.'
2024-09-09 22:11:53.016 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 35.9961ms with message 'Ping successful.'
2024-09-09 22:11:53.020 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 40.3395ms
2024-09-09 22:11:53.022 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:11:53.023 +03:00 [INF] Received HTTP response headers after 56.4534ms - 200
2024-09-09 22:11:53.024 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 55.0208ms
2024-09-09 22:11:53.025 +03:00 [INF] End processing HTTP request after 66.0228ms - 200
2024-09-09 22:11:53.032 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:53.034 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.036 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:53.037 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:53.039 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:53.041 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:53.046 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:53.051 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.053 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:11:53.055 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.057 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:11:53.059 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:11:53.061 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:53.062 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.064 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:53.066 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:53.068 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:53.070 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:53.075 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:53.079 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.081 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:11:53.083 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.086 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:11:53.088 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:11:53.089 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:11:53.091 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:11:53.092 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:11:53.094 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.097 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:11:53.100 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:53.102 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.105 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:53.107 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:53.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:53.110 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:53.113 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:53.119 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.120 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:11:53.123 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.125 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:11:53.126 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.129 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:11:53.131 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:11:53.138 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:11:53.141 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:11:53.146 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:11:53.147 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:11:53.150 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:11:53.151 +03:00 [DBG] Running health checks
2024-09-09 22:11:53.153 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:11:53.163 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.7644ms with message 'Available memory: 141668352 bytes.'
2024-09-09 22:11:53.167 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 16.1965ms
2024-09-09 22:11:53.209 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - null null
2024-09-09 22:11:53.213 +03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2024-09-09 22:11:53.214 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-09 22:11:53.216 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:11:53.237 +03:00 [INF] Received HTTP response headers after 97.3101ms - 200
2024-09-09 22:11:53.237 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:11:53.239 +03:00 [INF] End processing HTTP request after 108.491ms - 200
2024-09-09 22:11:53.241 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 100.4218ms
2024-09-09 22:11:53.254 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:53.258 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.261 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:53.263 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:53.265 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:11:53.267 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:53.273 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:53.279 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.302 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.338 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.368 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.370 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 90ms reading results.
2024-09-09 22:11:53.373 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.376 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:11:53.378 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:11:53.380 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:53.383 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.385 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:53.387 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:53.389 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:11:53.396 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:53.423 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:53.471 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.475 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 22:11:53.477 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.480 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:11:53.482 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:11:53.486 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:11:53.510 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 300.0004ms
2024-09-09 22:11:53.529 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:11:53.537 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:11:53.541 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.566 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:11:53.577 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.623 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:11:53.640 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:11:53.653 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:53.656 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.662 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:11:53.670 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:11:53.674 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:53.676 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:53.678 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:11:53.681 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:53.686 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:53.690 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.692 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:11:53.696 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:53.697 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:53.699 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:53.702 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:11:53.707 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:11:53.711 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.713 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:11:53.720 +03:00 [DBG] Committing transaction.
2024-09-09 22:11:53.725 +03:00 [DBG] Committed transaction.
2024-09-09 22:11:53.731 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.733 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:11:53.738 +03:00 [DBG] Disposing transaction.
2024-09-09 22:11:53.740 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.747 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.750 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:11:53.752 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:11:53.754 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:11:53.758 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:11:53.761 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:11:53.763 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:11:53.765 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:11:53.767 +03:00 [DBG] Running health checks
2024-09-09 22:11:53.768 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:11:53.770 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.6668ms with message 'Database is available.'
2024-09-09 22:11:53.773 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.0249ms
2024-09-09 22:11:53.776 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:11:53.776 +03:00 [INF] Received HTTP response headers after 20.4509ms - 200
2024-09-09 22:11:53.778 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 20.2496ms
2024-09-09 22:11:53.779 +03:00 [INF] End processing HTTP request after 27.0572ms - 200
2024-09-09 22:11:53.787 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:53.789 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.792 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:53.793 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:53.795 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:53.797 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:53.802 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:53.812 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.816 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.818 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.819 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:11:53.822 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.825 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:11:53.827 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:11:53.829 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:53.831 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.834 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:53.835 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:53.838 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:53.840 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:53.845 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:53.852 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.853 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:11:53.857 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.860 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:11:53.862 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:11:53.863 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:11:53.864 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:11:53.866 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:11:53.868 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.872 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:11:53.874 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.877 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:11:53.880 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:53.882 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.884 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:11:53.886 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:11:53.888 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:53.890 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:53.892 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:53.894 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:53.898 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:53.903 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.904 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:11:53.907 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:53.908 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:53.910 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:53.912 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:53.918 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:53.923 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.925 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:11:53.927 +03:00 [DBG] Committing transaction.
2024-09-09 22:11:53.930 +03:00 [DBG] Committed transaction.
2024-09-09 22:11:53.931 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:53.935 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:11:53.937 +03:00 [DBG] Disposing transaction.
2024-09-09 22:11:53.939 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.943 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:53.946 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:11:53.948 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:11:53.950 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:11:53.954 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:11:53.957 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:11:53.959 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:11:53.960 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:11:53.962 +03:00 [DBG] Running health checks
2024-09-09 22:11:53.964 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:11:53.992 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.6274ms with message 'Ping successful.'
2024-09-09 22:11:53.995 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.5553ms
2024-09-09 22:11:53.997 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:11:53.998 +03:00 [INF] Received HTTP response headers after 45.5956ms - 200
2024-09-09 22:11:53.999 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 45.0934ms
2024-09-09 22:11:54.000 +03:00 [INF] End processing HTTP request after 52.0727ms - 200
2024-09-09 22:11:54.007 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:54.008 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:54.010 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:54.011 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:54.013 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:54.015 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:54.019 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:54.023 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:54.026 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:54.028 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:54.030 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:11:54.032 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:54.035 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:11:54.036 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:11:54.038 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:54.039 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:54.042 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:54.044 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:54.046 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:54.047 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:54.052 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:11:54.057 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:54.059 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:11:54.061 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:54.063 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:11:54.064 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:11:54.066 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:11:54.067 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:11:54.069 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:11:54.071 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:54.074 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:11:54.077 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:54.080 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:11:54.081 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:54.083 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:54.085 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:11:54.086 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:11:54.088 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:54.089 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:54.091 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:54.093 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:54.096 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:54.100 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:54.101 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:11:54.105 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:11:54.107 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:11:54.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:11:54.110 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:54.114 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:11:54.117 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:54.120 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:11:54.125 +03:00 [DBG] Committing transaction.
2024-09-09 22:11:54.130 +03:00 [DBG] Committed transaction.
2024-09-09 22:11:54.132 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:11:54.135 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:11:54.138 +03:00 [DBG] Disposing transaction.
2024-09-09 22:11:54.140 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:54.145 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:11:54.151 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:11:54.154 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:11:54.158 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:11:54.160 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:11:54.161 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:11:54.164 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:04.176 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:12:04.281 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:12:04.287 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:12:04.288 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:12:04.289 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:04.291 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.293 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.294 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.296 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:04.298 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:12:04.301 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:12:04.305 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.307 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.310 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.313 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.315 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.318 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.320 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 22:12:04.323 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.326 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:04.328 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:12:04.330 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:12:04.333 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:12:04.337 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:12:04.338 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:12:04.339 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:04.341 +03:00 [DBG] Running health checks
2024-09-09 22:12:04.342 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:04.342 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:04.342 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:04.344 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.8996ms with message 'Database is available.'
2024-09-09 22:12:04.353 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.1737ms with message 'Available memory: 151875584 bytes.'
2024-09-09 22:12:04.373 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.579ms with message 'Ping successful.'
2024-09-09 22:12:04.377 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.2625ms
2024-09-09 22:12:04.380 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:04.380 +03:00 [INF] Received HTTP response headers after 48.6024ms - 200
2024-09-09 22:12:04.382 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 48.5557ms
2024-09-09 22:12:04.384 +03:00 [INF] End processing HTTP request after 55.15ms - 200
2024-09-09 22:12:04.391 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:04.393 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.396 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.397 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.399 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:04.401 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.405 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.409 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.412 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.414 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:12:04.416 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.418 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:12:04.419 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:04.421 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:04.422 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.425 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.427 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.430 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:04.432 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.437 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.443 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.444 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:04.447 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.449 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:04.451 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:04.452 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:04.454 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:04.456 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:04.458 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.462 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:04.465 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:04.467 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.469 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.471 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:04.474 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:04.476 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:04.480 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:04.487 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.490 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:12:04.493 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.495 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:04.497 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.500 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:12:04.502 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:12:04.503 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:12:04.507 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:12:04.509 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:12:04.511 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:12:04.512 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:04.513 +03:00 [DBG] Running health checks
2024-09-09 22:12:04.515 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:04.515 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:04.515 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:04.520 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 5.079ms with message 'Database is available.'
2024-09-09 22:12:04.524 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.9034ms with message 'Available memory: 152178688 bytes.'
2024-09-09 22:12:04.544 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.5328ms with message 'Ping successful.'
2024-09-09 22:12:04.547 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.8326ms
2024-09-09 22:12:04.549 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:04.550 +03:00 [INF] Received HTTP response headers after 44.4969ms - 200
2024-09-09 22:12:04.551 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 44.4304ms
2024-09-09 22:12:04.553 +03:00 [INF] End processing HTTP request after 51.0027ms - 200
2024-09-09 22:12:04.559 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:04.561 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.563 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.565 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.567 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:04.569 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.574 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.579 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.582 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:04.585 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.587 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:04.590 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:04.592 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:04.593 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.596 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.598 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.599 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:04.601 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.605 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.610 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.612 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:04.620 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.622 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:04.624 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:04.625 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:04.627 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:04.628 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:04.630 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.633 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:04.635 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:04.636 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.638 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.640 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.641 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:04.643 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:04.647 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:04.653 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.655 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:12:04.657 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.659 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:04.662 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.665 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:12:04.667 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:12:04.668 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:12:04.671 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:12:04.674 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:12:04.676 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:12:04.678 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:04.679 +03:00 [DBG] Running health checks
2024-09-09 22:12:04.680 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:04.689 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.1729ms with message 'Available memory: 152674304 bytes.'
2024-09-09 22:12:04.692 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 13.632ms
2024-09-09 22:12:04.694 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:04.694 +03:00 [INF] Received HTTP response headers after 24.961ms - 200
2024-09-09 22:12:04.696 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 24.6217ms
2024-09-09 22:12:04.697 +03:00 [INF] End processing HTTP request after 30.9669ms - 200
2024-09-09 22:12:04.705 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:04.706 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.708 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.709 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.711 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:04.713 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.718 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.723 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.726 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.728 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.730 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.732 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:12:04.734 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.736 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:04.738 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:04.740 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:04.742 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.744 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.746 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.748 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:04.750 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.756 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.761 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.762 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:04.765 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.767 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:04.769 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:04.770 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:04.772 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:04.774 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:04.776 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.779 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:04.781 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.783 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:04.785 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:04.788 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:04.790 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.791 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:04.793 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:04.794 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.796 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.798 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:04.799 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:04.804 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:04.808 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.811 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:04.814 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.815 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.817 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:04.818 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:12:04.822 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:12:04.825 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.827 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:04.829 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:04.833 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:04.834 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.837 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:04.838 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:04.840 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.842 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.845 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:04.847 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:12:04.849 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:12:04.851 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:12:04.854 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:12:04.855 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:12:04.856 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:04.857 +03:00 [DBG] Running health checks
2024-09-09 22:12:04.859 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:04.860 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.4997ms with message 'Database is available.'
2024-09-09 22:12:04.863 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.0889ms
2024-09-09 22:12:04.866 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:04.866 +03:00 [INF] Received HTTP response headers after 15.76ms - 200
2024-09-09 22:12:04.867 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 15.3944ms
2024-09-09 22:12:04.868 +03:00 [INF] End processing HTTP request after 21.3224ms - 200
2024-09-09 22:12:04.875 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:04.877 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.879 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.881 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.882 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:04.884 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.888 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.893 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.895 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.897 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.899 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:12:04.901 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.903 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:12:04.904 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:04.906 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:04.907 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.909 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.911 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.912 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:04.914 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.918 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:04.922 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.923 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:04.925 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.928 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:04.929 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:04.930 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:04.932 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:04.933 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:04.936 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.939 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:04.941 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.944 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:04.946 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:04.948 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.949 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:04.951 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:04.952 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.953 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.955 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:04.956 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:04.961 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:04.965 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.966 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:04.969 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:04.971 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:04.973 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:04.976 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:04.979 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:04.983 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.984 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:04.987 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:04.990 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:04.991 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:04.993 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:04.995 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:04.997 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:04.999 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:05.002 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:05.004 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:12:05.005 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:12:05.008 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:12:05.011 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:12:05.013 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:12:05.014 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:05.015 +03:00 [DBG] Running health checks
2024-09-09 22:12:05.016 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:05.045 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.0593ms with message 'Ping successful.'
2024-09-09 22:12:05.047 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.0615ms
2024-09-09 22:12:05.050 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:05.050 +03:00 [INF] Received HTTP response headers after 43.0145ms - 200
2024-09-09 22:12:05.051 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 42.8337ms
2024-09-09 22:12:05.053 +03:00 [INF] End processing HTTP request after 49.6169ms - 200
2024-09-09 22:12:05.060 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:05.061 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:05.063 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:05.065 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:05.066 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:05.068 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:05.073 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:05.077 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:05.079 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:05.082 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:05.084 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:12:05.086 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:05.088 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:12:05.090 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:05.092 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:05.093 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:05.095 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:05.097 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:05.099 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:05.101 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:05.105 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:05.109 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:05.111 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:05.113 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:05.116 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:05.117 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:05.118 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:05.119 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:05.121 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:05.122 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:05.125 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:05.127 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:05.129 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:05.131 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:05.132 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:05.134 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:05.136 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:05.137 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:05.138 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:05.140 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:05.142 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:05.146 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:05.150 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:05.151 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:05.154 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:05.155 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:05.157 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:05.159 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:05.162 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:05.165 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:05.167 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:05.169 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:05.173 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:05.174 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:05.176 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:12:05.178 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:05.179 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:05.181 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:05.184 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:05.185 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:12:05.186 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:12:05.187 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:12:05.189 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:05.191 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:12:15.197 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:12:15.205 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:12:15.208 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:12:15.208 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-09 22:12:15.210 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.211 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.213 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.215 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.217 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:15.218 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:12:15.222 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:12:15.224 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.226 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.228 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.231 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.234 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.236 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.238 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:12:15.241 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.243 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:15.246 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:12:15.248 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:12:15.251 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:12:15.254 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:12:15.256 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:12:15.257 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:15.258 +03:00 [DBG] Running health checks
2024-09-09 22:12:15.259 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:15.259 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:15.259 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:15.263 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.6972ms with message 'Database is available.'
2024-09-09 22:12:15.269 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.7816ms with message 'Available memory: 157057024 bytes.'
2024-09-09 22:12:15.291 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.8996ms with message 'Ping successful.'
2024-09-09 22:12:15.294 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.1672ms
2024-09-09 22:12:15.297 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:15.298 +03:00 [INF] Received HTTP response headers after 48.3869ms - 200
2024-09-09 22:12:15.298 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 47.0451ms
2024-09-09 22:12:15.300 +03:00 [INF] End processing HTTP request after 53.7922ms - 200
2024-09-09 22:12:15.306 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.308 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.310 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.312 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.314 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:15.316 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.320 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.325 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.328 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.329 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:12:15.332 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.334 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:15.336 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:15.338 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.340 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.342 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.343 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.345 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:15.346 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.351 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.356 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.358 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:15.360 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.362 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:15.365 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:15.366 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:15.367 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:15.369 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:15.371 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.374 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:15.377 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.378 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.380 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.381 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.383 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:15.385 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:15.389 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:15.395 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.397 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:12:15.399 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.401 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:15.403 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.406 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:12:15.407 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:12:15.409 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:12:15.411 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:12:15.414 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:12:15.416 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:12:15.417 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:15.418 +03:00 [DBG] Running health checks
2024-09-09 22:12:15.420 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:15.420 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:15.420 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:15.421 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.6564ms with message 'Database is available.'
2024-09-09 22:12:15.432 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.2455ms with message 'Available memory: 157372416 bytes.'
2024-09-09 22:12:15.449 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.1691ms with message 'Ping successful.'
2024-09-09 22:12:15.452 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.2027ms
2024-09-09 22:12:15.454 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:15.454 +03:00 [INF] Received HTTP response headers after 44.2832ms - 200
2024-09-09 22:12:15.456 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 44.1972ms
2024-09-09 22:12:15.457 +03:00 [INF] End processing HTTP request after 49.9484ms - 200
2024-09-09 22:12:15.464 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.466 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.467 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.469 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.471 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:15.472 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.478 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.482 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.484 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:15.486 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.488 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:12:15.490 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:15.492 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.494 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.497 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.499 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.501 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:15.504 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.510 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.515 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.516 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:15.519 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.521 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:15.523 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:15.524 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:15.526 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:15.527 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:15.529 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.532 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:15.534 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.536 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.539 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.541 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.543 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:15.544 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:15.548 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:15.553 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.555 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:12:15.558 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.560 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:15.562 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.564 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:12:15.566 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:12:15.567 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:12:15.570 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:12:15.573 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:12:15.574 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:12:15.576 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:15.577 +03:00 [DBG] Running health checks
2024-09-09 22:12:15.578 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:15.587 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.0759ms with message 'Available memory: 157560832 bytes.'
2024-09-09 22:12:15.590 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 13.087ms
2024-09-09 22:12:15.592 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:15.592 +03:00 [INF] Received HTTP response headers after 23.1939ms - 200
2024-09-09 22:12:15.593 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 23.0792ms
2024-09-09 22:12:15.595 +03:00 [INF] End processing HTTP request after 28.6967ms - 200
2024-09-09 22:12:15.601 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.603 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.605 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.606 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.608 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:15.609 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.613 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.617 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.619 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.621 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.623 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.625 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:12:15.627 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.629 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:12:15.631 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:15.633 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.634 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.636 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.638 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.640 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:15.642 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.647 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.651 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.652 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:15.655 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.657 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:15.659 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:15.660 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:15.661 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:15.663 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:15.665 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.668 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:15.670 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.672 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:15.675 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:15.678 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.680 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.682 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:15.684 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:15.685 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.687 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.688 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:15.690 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:15.693 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:15.697 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.699 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:15.701 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.702 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.704 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:15.706 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:12:15.712 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:12:15.716 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.718 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:15.721 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:15.725 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:15.726 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.728 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:15.729 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:15.731 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.733 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.736 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:15.738 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:12:15.740 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:12:15.743 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:12:15.746 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:12:15.747 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:12:15.748 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:15.749 +03:00 [DBG] Running health checks
2024-09-09 22:12:15.750 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:15.752 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.2955ms with message 'Database is available.'
2024-09-09 22:12:15.754 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 4.7194ms
2024-09-09 22:12:15.756 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:15.756 +03:00 [INF] Received HTTP response headers after 14.4326ms - 200
2024-09-09 22:12:15.757 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 13.7704ms
2024-09-09 22:12:15.758 +03:00 [INF] End processing HTTP request after 19.9474ms - 200
2024-09-09 22:12:15.764 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.766 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.768 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.769 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.771 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:15.772 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.777 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.781 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.784 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.786 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.787 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:12:15.789 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.791 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:12:15.792 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:15.794 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.796 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.798 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.799 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.801 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:15.803 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.807 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.812 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.813 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:15.816 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.818 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:12:15.819 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:15.821 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:15.822 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:15.823 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:15.825 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.828 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:15.830 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.833 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:15.835 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.836 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.838 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:15.839 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:15.840 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.842 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.843 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:15.845 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:15.849 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:15.852 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.854 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:15.856 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.858 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.859 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:15.861 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:15.865 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:15.869 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.871 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:15.874 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:15.877 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:15.878 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.881 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:15.883 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:15.884 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.887 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.889 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:15.891 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:12:15.892 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:12:15.896 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:12:15.899 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:12:15.901 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:12:15.902 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:15.903 +03:00 [DBG] Running health checks
2024-09-09 22:12:15.904 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:15.932 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 27.9155ms with message 'Ping successful.'
2024-09-09 22:12:15.935 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.2988ms
2024-09-09 22:12:15.937 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:15.938 +03:00 [INF] Received HTTP response headers after 43.3995ms - 200
2024-09-09 22:12:15.939 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 43.1885ms
2024-09-09 22:12:15.940 +03:00 [INF] End processing HTTP request after 49.3965ms - 200
2024-09-09 22:12:15.946 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.948 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.950 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.951 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.953 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:15.955 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.959 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.964 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.966 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:15.968 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.970 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:12:15.973 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.976 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:15.978 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:15.980 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:15.982 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:15.984 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:15.985 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:15.987 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:15.989 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.994 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:15.999 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:16.000 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:16.003 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:16.005 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:16.008 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:16.009 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:16.010 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:16.012 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:16.014 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:16.017 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:16.020 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:16.023 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:16.025 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:16.026 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:16.029 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:16.030 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:16.032 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:16.033 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:16.035 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:16.037 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:16.040 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:16.044 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:16.045 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:16.048 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:16.049 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:16.051 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:16.052 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:16.055 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:16.058 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:16.060 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:16.062 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:16.065 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:16.067 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:16.070 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:16.072 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:16.073 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:16.075 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:16.078 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:16.079 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:12:16.081 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:12:16.082 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:12:16.083 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:16.085 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:12:17.576 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7227/api/Auth/login - application/json 62
2024-09-09 22:12:17.580 +03:00 [DBG] POST requests are not supported
2024-09-09 22:12:17.589 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-09 22:12:17.597 +03:00 [DBG] Endpoint 'MyApi.Controllers.v1.AuthController.Login (MyApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-09 22:12:17.609 +03:00 [DBG] Request matched endpoint 'MyApi.Controllers.v1.AuthController.Login (MyApi)'
2024-09-09 22:12:17.613 +03:00 [INF] Executing endpoint 'MyApi.Controllers.v1.AuthController.Login (MyApi)'
2024-09-09 22:12:17.657 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyApi.Controllers.v1.LoginModel) on controller MyApi.Controllers.v1.AuthController (MyApi).
2024-09-09 22:12:17.662 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-09 22:12:17.664 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-09 22:12:17.667 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-09 22:12:17.671 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-09 22:12:17.672 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-09 22:12:17.679 +03:00 [DBG] Executing controller factory for controller MyApi.Controllers.v1.AuthController (MyApi)
2024-09-09 22:12:17.682 +03:00 [DBG] Executed controller factory for controller MyApi.Controllers.v1.AuthController (MyApi)
2024-09-09 22:12:17.694 +03:00 [DBG] Attempting to bind parameter 'model' of type 'MyApi.Controllers.v1.LoginModel' ...
2024-09-09 22:12:17.702 +03:00 [DBG] Attempting to bind parameter 'model' of type 'MyApi.Controllers.v1.LoginModel' using the name '' in request data ...
2024-09-09 22:12:17.707 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-09 22:12:17.718 +03:00 [DBG] Connection id "0HN6H0D1D5B1N", Request id "0HN6H0D1D5B1N:00000009": started reading request body.
2024-09-09 22:12:17.721 +03:00 [DBG] Connection id "0HN6H0D1D5B1N", Request id "0HN6H0D1D5B1N:00000009": done reading request body.
2024-09-09 22:12:17.724 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'MyApi.Controllers.v1.LoginModel'
2024-09-09 22:12:17.726 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'MyApi.Controllers.v1.LoginModel'.
2024-09-09 22:12:17.728 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'MyApi.Controllers.v1.LoginModel'.
2024-09-09 22:12:17.730 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MyApi.Controllers.v1.LoginModel' ...
2024-09-09 22:12:17.751 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MyApi.Controllers.v1.LoginModel'.
2024-09-09 22:12:17.978 +03:00 [INF] User test.one@example.com logged in at "2024-09-09T22:12:17.9775936+03:00"
2024-09-09 22:12:17.987 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-09 22:12:17.993 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-09 22:12:17.994 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-09 22:12:17.995 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-09 22:12:17.998 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-09 22:12:18.001 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-09 22:12:18.017 +03:00 [INF] Executed action MyApi.Controllers.v1.AuthController.Login (MyApi) in 335.4494ms
2024-09-09 22:12:18.019 +03:00 [INF] Executed endpoint 'MyApi.Controllers.v1.AuthController.Login (MyApi)'
2024-09-09 22:12:18.020 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7227/api/Auth/login - 200 null application/json; charset=utf-8 444.8022ms
2024-09-09 22:12:26.092 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:12:26.095 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:12:26.098 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:12:26.099 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:12:26.101 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.103 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.105 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.107 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:26.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:26.111 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:12:26.114 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:12:26.118 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.121 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.125 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.128 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.131 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.134 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.135 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 17ms reading results.
2024-09-09 22:12:26.139 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.142 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:26.144 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:12:26.147 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:12:26.151 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:12:26.155 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:12:26.157 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:12:26.159 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:26.160 +03:00 [DBG] Running health checks
2024-09-09 22:12:26.162 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:26.162 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:26.162 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:26.165 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.5791ms with message 'Database is available.'
2024-09-09 22:12:26.173 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.0945ms with message 'Available memory: 166182912 bytes.'
2024-09-09 22:12:26.193 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.4281ms with message 'Ping successful.'
2024-09-09 22:12:26.196 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.2233ms
2024-09-09 22:12:26.199 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:26.199 +03:00 [INF] Received HTTP response headers after 50.2899ms - 200
2024-09-09 22:12:26.201 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 50.1627ms
2024-09-09 22:12:26.203 +03:00 [INF] End processing HTTP request after 58.56ms - 200
2024-09-09 22:12:26.211 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.213 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.217 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.219 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:26.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:12:26.225 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.235 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.246 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.249 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.252 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:12:26.256 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.260 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:26.263 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:26.266 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.270 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.273 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.276 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:26.279 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:12:26.281 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.289 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.296 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.298 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:26.302 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.306 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:26.309 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:26.312 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:26.314 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:26.316 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:26.320 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.325 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:26.328 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.330 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.334 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.336 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:26.339 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:12:26.342 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:26.348 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:26.355 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.357 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:12:26.360 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.362 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:26.364 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.366 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:12:26.368 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:12:26.369 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:12:26.372 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:12:26.375 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:12:26.377 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:12:26.378 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:26.379 +03:00 [DBG] Running health checks
2024-09-09 22:12:26.380 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:26.380 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:26.380 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:26.383 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.7554ms with message 'Database is available.'
2024-09-09 22:12:26.389 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 8.7445ms with message 'Available memory: 166367232 bytes.'
2024-09-09 22:12:26.410 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.4707ms with message 'Ping successful.'
2024-09-09 22:12:26.413 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.5813ms
2024-09-09 22:12:26.416 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:26.416 +03:00 [INF] Received HTTP response headers after 45.3141ms - 200
2024-09-09 22:12:26.418 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 45.3968ms
2024-09-09 22:12:26.420 +03:00 [INF] End processing HTTP request after 52.0413ms - 200
2024-09-09 22:12:26.428 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.430 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.432 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.433 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:26.436 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:26.438 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.442 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.447 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.448 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:26.452 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.454 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:26.456 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:26.458 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.460 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.463 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.464 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:26.466 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:26.469 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.474 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.479 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.480 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:26.483 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.485 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:12:26.487 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:26.488 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:26.489 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:26.490 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:26.492 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.495 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:26.496 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.498 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.500 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.501 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:26.503 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:26.504 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:26.508 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:26.513 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.516 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:12:26.518 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.520 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:26.522 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.525 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:12:26.527 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:12:26.529 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:12:26.532 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:12:26.535 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:12:26.537 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:12:26.538 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:26.540 +03:00 [DBG] Running health checks
2024-09-09 22:12:26.541 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:26.551 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.8353ms with message 'Available memory: 166092800 bytes.'
2024-09-09 22:12:26.554 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 14.3084ms
2024-09-09 22:12:26.557 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:26.557 +03:00 [INF] Received HTTP response headers after 26.9243ms - 200
2024-09-09 22:12:26.559 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 26.9189ms
2024-09-09 22:12:26.560 +03:00 [INF] End processing HTTP request after 33.1017ms - 200
2024-09-09 22:12:26.567 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.568 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.570 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.571 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:26.573 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:26.574 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.579 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.583 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.585 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.587 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.589 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.591 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:12:26.593 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.595 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:26.597 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:26.598 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.600 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.602 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.604 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:26.607 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:12:26.609 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.615 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.619 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.621 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:26.623 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.625 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:26.627 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:26.628 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:26.630 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:26.631 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:26.633 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.636 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:26.638 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.640 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:26.642 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:26.644 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.645 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.647 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:26.648 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:26.650 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.651 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:26.653 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:26.654 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:26.658 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:26.661 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.662 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:26.664 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.666 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:26.667 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:26.669 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:12:26.673 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:12:26.677 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.678 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:26.681 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:26.685 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:26.686 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.689 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:26.691 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:26.692 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.694 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.697 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:26.699 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:12:26.701 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:12:26.705 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:12:26.708 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:12:26.710 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:12:26.711 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:26.712 +03:00 [DBG] Running health checks
2024-09-09 22:12:26.714 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:26.716 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.7091ms with message 'Database is available.'
2024-09-09 22:12:26.718 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.7607ms
2024-09-09 22:12:26.720 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:26.720 +03:00 [INF] Received HTTP response headers after 17.1188ms - 200
2024-09-09 22:12:26.722 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 17.026ms
2024-09-09 22:12:26.724 +03:00 [INF] End processing HTTP request after 24.4952ms - 200
2024-09-09 22:12:26.731 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.732 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.735 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.736 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:26.738 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:26.740 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.744 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.749 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.751 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.754 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.755 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:12:26.758 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.760 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:26.762 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:26.764 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.766 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.768 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.770 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:26.772 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:26.774 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.780 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.785 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.787 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:26.789 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.792 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:26.795 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:26.796 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:26.799 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:26.801 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:26.804 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.808 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:26.811 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.815 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:26.818 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.820 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.824 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:26.826 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:26.829 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.831 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:26.834 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:12:26.839 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:26.844 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:26.848 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.850 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:26.854 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.856 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:26.858 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:26.861 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:26.865 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:26.870 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.873 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:26.876 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:26.879 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:26.880 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.883 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:26.886 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:26.888 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.891 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.894 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:26.896 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:12:26.898 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:12:26.902 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:12:26.905 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:12:26.907 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:12:26.908 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:26.909 +03:00 [DBG] Running health checks
2024-09-09 22:12:26.910 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:26.938 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.0699ms with message 'Ping successful.'
2024-09-09 22:12:26.942 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.91ms
2024-09-09 22:12:26.944 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:26.945 +03:00 [INF] Received HTTP response headers after 43.7247ms - 200
2024-09-09 22:12:26.946 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 44.1986ms
2024-09-09 22:12:26.948 +03:00 [INF] End processing HTTP request after 52.3723ms - 200
2024-09-09 22:12:26.957 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.959 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.962 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:26.963 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:26.966 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:26.968 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.973 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:26.979 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.982 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:26.984 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.986 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:12:26.989 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:26.992 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:26.994 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:26.996 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:26.998 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:27.000 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:27.002 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:27.004 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:27.007 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:27.011 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:27.016 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:27.018 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:27.021 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:27.024 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:27.025 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:27.027 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:27.028 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:27.029 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:27.031 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:27.034 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:27.036 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:27.039 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:27.041 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:27.043 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:27.046 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:27.048 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:27.050 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:27.052 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:27.054 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:27.056 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:27.059 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:27.063 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:27.065 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:27.068 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:27.070 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:27.072 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:27.074 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:27.077 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:27.081 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:27.083 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:27.086 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:27.089 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:27.091 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:27.093 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:27.095 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:27.097 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:27.100 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:27.103 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:27.104 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:12:27.105 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:12:27.107 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:12:27.108 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:27.110 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:12:37.013 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/api/v1/variative/number - null null
2024-09-09 22:12:37.019 +03:00 [DBG] The request path /api/v1/variative/number does not match a supported file type
2024-09-09 22:12:37.025 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/variative/number'
2024-09-09 22:12:37.029 +03:00 [DBG] Endpoint 'MyApi.Controllers.v1.VariativeController.GetNumber (MyApi)' with route pattern 'api/v{version:apiVersion}/variative/number' is valid for the request path '/api/v1/variative/number'
2024-09-09 22:12:37.032 +03:00 [DBG] Request matched endpoint 'MyApi.Controllers.v1.VariativeController.GetNumber (MyApi)'
2024-09-09 22:12:37.037 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Endpoint MyApi.Controllers.v1.VariativeController.GetNumber (MyApi) contains authorization metadata, but a middleware was not found that supports authorization.
Configure your application startup by adding app.UseAuthorization() in the application startup code. If there are calls to app.UseRouting() and app.UseEndpoints(...), the call to app.UseAuthorization() must go between them.
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.ThrowMissingAuthMiddlewareException(Endpoint endpoint)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-09 22:12:37.051 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/api/v1/variative/number - 500 null text/plain; charset=utf-8 38.07ms
2024-09-09 22:12:37.116 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:12:37.118 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:12:37.123 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:12:37.124 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:12:37.126 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:37.129 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.132 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.134 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:37.136 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:37.139 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:12:37.142 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:12:37.146 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.149 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.151 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.154 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.156 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.159 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.161 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 22:12:37.164 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.167 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:37.169 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:12:37.171 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:12:37.174 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:12:37.178 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:12:37.180 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:12:37.182 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:37.184 +03:00 [DBG] Running health checks
2024-09-09 22:12:37.185 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:37.185 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:37.185 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:37.189 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.6354ms with message 'Database is available.'
2024-09-09 22:12:37.201 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 15.5132ms with message 'Available memory: 166174720 bytes.'
2024-09-09 22:12:37.214 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.5096ms with message 'Ping successful.'
2024-09-09 22:12:37.218 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.832ms
2024-09-09 22:12:37.220 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:37.220 +03:00 [INF] Received HTTP response headers after 47.7384ms - 200
2024-09-09 22:12:37.222 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 48.0927ms
2024-09-09 22:12:37.224 +03:00 [INF] End processing HTTP request after 54.8661ms - 200
2024-09-09 22:12:37.232 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:37.234 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.237 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.239 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:37.241 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:37.244 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.251 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.256 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.259 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.262 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:12:37.265 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.268 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:37.271 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:37.272 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:37.275 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.278 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.280 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:37.282 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:37.284 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.291 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.298 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.300 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:37.303 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.306 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:37.309 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:37.310 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:37.312 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:37.314 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:37.317 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.321 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:37.324 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:37.326 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.328 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.330 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:37.333 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:37.335 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:37.340 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:37.349 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.351 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:12:37.355 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.358 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:37.360 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.363 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:12:37.366 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:12:37.368 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:12:37.373 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:12:37.376 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:12:37.378 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:12:37.381 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:37.383 +03:00 [DBG] Running health checks
2024-09-09 22:12:37.384 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:37.384 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:37.384 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:37.388 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.8924ms with message 'Database is available.'
2024-09-09 22:12:37.397 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.9399ms with message 'Available memory: 168775680 bytes.'
2024-09-09 22:12:37.417 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 32.8181ms with message 'Ping successful.'
2024-09-09 22:12:37.420 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.6032ms
2024-09-09 22:12:37.422 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:37.423 +03:00 [INF] Received HTTP response headers after 51.8126ms - 200
2024-09-09 22:12:37.424 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 52.1296ms
2024-09-09 22:12:37.427 +03:00 [INF] End processing HTTP request after 60.7319ms - 200
2024-09-09 22:12:37.435 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:37.437 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.440 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.442 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:37.444 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:37.446 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.453 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.460 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.462 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:37.465 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.468 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:37.471 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:37.473 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:37.474 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.477 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.480 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:37.482 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:37.485 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.491 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.497 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.499 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:37.503 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.506 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:37.510 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:37.512 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:37.514 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:37.516 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:37.519 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.523 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:37.526 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:37.527 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.530 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.532 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:37.534 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:37.536 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:37.540 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:37.545 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.547 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:12:37.550 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.553 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:37.555 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.559 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:12:37.561 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:12:37.563 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:12:37.566 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:12:37.569 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:12:37.571 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:12:37.579 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:37.583 +03:00 [DBG] Running health checks
2024-09-09 22:12:37.584 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:37.594 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.056ms with message 'Available memory: 169279488 bytes.'
2024-09-09 22:12:37.597 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 14.6747ms
2024-09-09 22:12:37.600 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:37.600 +03:00 [INF] Received HTTP response headers after 35.4997ms - 200
2024-09-09 22:12:37.601 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 35.7759ms
2024-09-09 22:12:37.604 +03:00 [INF] End processing HTTP request after 42.8728ms - 200
2024-09-09 22:12:37.612 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:37.614 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.617 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.619 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:37.621 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:37.624 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.629 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.635 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.638 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.641 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.643 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.646 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 22:12:37.649 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.651 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:37.654 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:37.656 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:37.658 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.660 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.662 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:37.663 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:37.665 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.671 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.675 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.677 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:37.680 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.683 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:37.685 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:37.686 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:37.687 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:37.689 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:37.691 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.694 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:37.696 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.699 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:37.701 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:37.703 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:37.705 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.707 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:37.709 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:37.710 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.712 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:37.715 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:37.717 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:37.721 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:37.726 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.728 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:37.732 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.733 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:37.735 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:37.738 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:12:37.741 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:12:37.744 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.746 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:37.749 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:37.753 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:37.754 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.756 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:37.758 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:37.760 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.763 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.767 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:37.769 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:12:37.771 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:12:37.774 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:12:37.778 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:12:37.780 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:12:37.781 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:37.782 +03:00 [DBG] Running health checks
2024-09-09 22:12:37.784 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:37.785 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.5475ms with message 'Database is available.'
2024-09-09 22:12:37.788 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.6812ms
2024-09-09 22:12:37.790 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:37.790 +03:00 [INF] Received HTTP response headers after 17.66ms - 200
2024-09-09 22:12:37.792 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 17.4847ms
2024-09-09 22:12:37.794 +03:00 [INF] End processing HTTP request after 24.552ms - 200
2024-09-09 22:12:37.800 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:37.802 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.805 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.806 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:37.808 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:37.811 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.816 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.821 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.823 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.826 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.828 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:12:37.830 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.832 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:37.835 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:37.836 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:37.838 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.840 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.842 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:37.844 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:37.847 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.852 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:37.858 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.859 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:37.862 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.865 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:37.867 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:37.868 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:37.869 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:37.871 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:37.874 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.877 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:37.880 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.883 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:37.885 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:37.887 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.889 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:37.891 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:37.893 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.894 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:37.896 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:37.898 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:37.902 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:37.906 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.909 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:37.912 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:37.913 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:37.916 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:37.918 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:37.922 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:37.927 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.929 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:37.932 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:37.936 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:37.937 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:37.940 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:37.944 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:37.946 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.949 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:37.953 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:37.955 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:12:37.957 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:12:37.960 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:12:37.964 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:12:37.965 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:12:37.967 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:37.969 +03:00 [DBG] Running health checks
2024-09-09 22:12:37.970 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:37.999 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.6801ms with message 'Ping successful.'
2024-09-09 22:12:38.002 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.18ms
2024-09-09 22:12:38.004 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:38.005 +03:00 [INF] Received HTTP response headers after 45.4843ms - 200
2024-09-09 22:12:38.006 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 45.4692ms
2024-09-09 22:12:38.007 +03:00 [INF] End processing HTTP request after 52.2495ms - 200
2024-09-09 22:12:38.014 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:38.017 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:38.019 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:38.020 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:38.022 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:38.024 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:38.029 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:38.034 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:38.037 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:38.039 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:38.040 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:12:38.043 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:38.045 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:38.048 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:38.050 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:38.052 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:38.054 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:38.056 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:38.057 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:38.059 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:38.065 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:38.070 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:38.072 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:38.074 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:38.077 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:38.079 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:38.080 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:38.082 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:38.084 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:38.086 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:38.089 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:38.091 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:38.094 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:38.096 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:38.098 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:38.100 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:38.102 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:38.103 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:38.105 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:38.107 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:38.109 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:38.114 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:38.118 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:38.119 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:38.122 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:38.124 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:38.126 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:38.128 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:38.132 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:38.135 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:38.137 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:38.140 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:38.143 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:38.145 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:38.147 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:38.149 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:38.150 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:38.153 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:38.157 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:38.159 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:12:38.160 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:12:38.162 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:12:38.163 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:38.166 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:48.174 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:12:48.177 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:12:48.183 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:12:48.185 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:12:48.187 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:48.190 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.194 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:48.196 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:48.198 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:48.200 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:12:48.205 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:12:48.209 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.212 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.216 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.218 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.222 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.225 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.227 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 17ms reading results.
2024-09-09 22:12:48.230 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.232 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:48.235 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:12:48.238 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:12:48.243 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:12:48.248 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:12:48.250 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:12:48.257 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:48.259 +03:00 [DBG] Running health checks
2024-09-09 22:12:48.261 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:48.261 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:48.261 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:48.263 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.4252ms with message 'Database is available.'
2024-09-09 22:12:48.273 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.0599ms with message 'Available memory: 171286528 bytes.'
2024-09-09 22:12:48.295 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 33.765ms with message 'Ping successful.'
2024-09-09 22:12:48.299 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 39.8792ms
2024-09-09 22:12:48.303 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:48.303 +03:00 [INF] Received HTTP response headers after 61.8809ms - 200
2024-09-09 22:12:48.306 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 62.776ms
2024-09-09 22:12:48.307 +03:00 [INF] End processing HTTP request after 72.2343ms - 200
2024-09-09 22:12:48.316 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:48.318 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.321 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:48.323 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:48.325 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:48.327 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.334 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.339 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.342 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.345 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:12:48.348 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.351 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:48.354 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:48.356 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:48.358 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.361 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:48.362 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:48.364 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:48.367 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.374 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.384 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.386 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:48.390 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.393 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:48.395 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:48.397 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:48.399 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:48.401 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:48.403 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.408 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:48.410 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:48.412 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.414 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:48.416 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:48.418 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:48.420 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:48.426 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:48.433 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.435 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:12:48.438 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.441 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:48.444 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.447 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:12:48.449 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:12:48.451 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:12:48.456 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:12:48.460 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:12:48.462 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:12:48.465 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:48.467 +03:00 [DBG] Running health checks
2024-09-09 22:12:48.468 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:48.468 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:48.468 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:48.473 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.2341ms with message 'Database is available.'
2024-09-09 22:12:48.481 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.2153ms with message 'Available memory: 171511808 bytes.'
2024-09-09 22:12:48.501 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 32.758ms with message 'Ping successful.'
2024-09-09 22:12:48.505 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.972ms
2024-09-09 22:12:48.507 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:48.507 +03:00 [INF] Received HTTP response headers after 53.3886ms - 200
2024-09-09 22:12:48.509 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 53.4458ms
2024-09-09 22:12:48.511 +03:00 [INF] End processing HTTP request after 62.0811ms - 200
2024-09-09 22:12:48.518 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:48.520 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.522 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:48.524 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:48.526 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:48.529 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.535 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.540 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.543 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:12:48.547 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.550 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:48.553 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:48.555 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:48.557 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.560 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:48.563 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:48.565 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:48.567 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.573 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.579 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.581 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:48.585 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.587 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:48.589 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:48.591 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:48.593 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:48.595 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:48.597 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.601 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:48.604 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:48.606 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.609 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:48.611 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:48.613 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:48.615 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:48.619 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:48.627 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.629 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:12:48.632 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.636 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:48.639 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.642 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:12:48.644 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:12:48.645 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:12:48.649 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:12:48.652 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:12:48.655 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:12:48.657 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:48.659 +03:00 [DBG] Running health checks
2024-09-09 22:12:48.660 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:48.671 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.3404ms with message 'Available memory: 171937792 bytes.'
2024-09-09 22:12:48.674 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 14.9494ms
2024-09-09 22:12:48.676 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:48.676 +03:00 [INF] Received HTTP response headers after 28.6821ms - 200
2024-09-09 22:12:48.677 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 28.3969ms
2024-09-09 22:12:48.679 +03:00 [INF] End processing HTTP request after 35.0538ms - 200
2024-09-09 22:12:48.686 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:48.689 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.692 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:48.694 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:48.696 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:48.698 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.706 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.711 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.713 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.716 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.719 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.721 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 22:12:48.724 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.728 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:12:48.731 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:48.733 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:48.735 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.738 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:48.740 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:48.743 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:48.745 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.751 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.758 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.760 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:48.763 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.765 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:48.768 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:48.769 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:48.770 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:48.772 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:48.774 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.777 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:48.782 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.787 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:48.789 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:48.792 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:48.793 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.796 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:48.798 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:48.800 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:48.802 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:48.803 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:48.805 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:48.810 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:48.814 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.816 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:48.818 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:48.820 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:48.821 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:48.823 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:12:48.826 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:12:48.830 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.832 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:48.835 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:48.839 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:48.841 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.843 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:48.845 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:48.847 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.849 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.852 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:48.854 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:12:48.856 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:12:48.859 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:12:48.862 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:12:48.864 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:12:48.866 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:48.867 +03:00 [DBG] Running health checks
2024-09-09 22:12:48.869 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:48.870 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.6724ms with message 'Database is available.'
2024-09-09 22:12:48.873 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.9819ms
2024-09-09 22:12:48.876 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:48.876 +03:00 [INF] Received HTTP response headers after 18.5779ms - 200
2024-09-09 22:12:48.877 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 18.8594ms
2024-09-09 22:12:48.879 +03:00 [INF] End processing HTTP request after 25.0744ms - 200
2024-09-09 22:12:48.887 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:48.889 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.892 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:48.894 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:48.897 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:48.899 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.906 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.913 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.917 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.921 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.923 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:12:48.926 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.929 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:48.932 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:48.934 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:48.936 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.939 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:48.941 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:48.943 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:48.946 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.954 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:48.960 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.962 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:48.966 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.969 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:48.972 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:48.973 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:48.975 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:48.977 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:48.980 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.984 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:48.987 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:48.991 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:48.993 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:48.994 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:48.997 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:48.999 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:49.000 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:49.001 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:49.003 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:49.005 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:49.008 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:49.012 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:49.014 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:49.016 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:49.018 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:49.019 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:49.021 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:49.024 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:49.027 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:49.029 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:49.031 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:49.035 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:49.036 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:49.038 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:49.040 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:49.041 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:49.043 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:49.047 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:49.048 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:12:49.050 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:12:49.053 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:12:49.056 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:12:49.057 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:12:49.059 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:49.061 +03:00 [DBG] Running health checks
2024-09-09 22:12:49.062 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:49.090 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.1867ms with message 'Ping successful.'
2024-09-09 22:12:49.094 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.8805ms
2024-09-09 22:12:49.096 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:49.096 +03:00 [INF] Received HTTP response headers after 44.6209ms - 200
2024-09-09 22:12:49.097 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 44.6496ms
2024-09-09 22:12:49.099 +03:00 [INF] End processing HTTP request after 50.9216ms - 200
2024-09-09 22:12:49.107 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:49.109 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:49.112 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:49.114 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:49.116 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:49.119 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:49.126 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:49.132 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:49.135 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:49.138 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:49.140 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:12:49.143 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:49.146 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:49.148 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:49.150 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:49.152 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:49.154 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:49.156 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:49.158 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:49.160 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:49.166 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:49.171 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:49.174 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:49.177 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:49.179 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:49.182 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:49.184 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:49.186 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:49.188 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:49.190 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:49.194 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:49.198 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:49.203 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:49.206 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:49.208 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:49.212 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:49.215 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:49.217 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:49.219 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:49.221 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:49.223 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:49.229 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:49.237 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:49.240 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:12:49.245 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:49.247 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:49.249 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:49.251 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:49.257 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:49.263 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:49.266 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:49.269 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:49.272 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:49.274 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:49.277 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:49.280 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:49.281 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:49.284 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:49.287 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:49.289 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:12:49.291 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:12:49.293 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:12:49.294 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:49.296 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:59.307 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:12:59.311 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:12:59.315 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:12:59.318 +03:00 [DBG] Created DbConnection. (2ms).
2024-09-09 22:12:59.320 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:59.325 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.333 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:59.336 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:59.339 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:12:59.341 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:12:59.346 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:12:59.351 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.354 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.358 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.360 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.363 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.366 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.367 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 16ms reading results.
2024-09-09 22:12:59.370 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.374 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:59.377 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:12:59.379 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:12:59.382 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:12:59.386 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:12:59.387 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:12:59.389 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:59.390 +03:00 [DBG] Running health checks
2024-09-09 22:12:59.391 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:59.392 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:59.392 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:59.394 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.7648ms with message 'Database is available.'
2024-09-09 22:12:59.401 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.8746ms with message 'Available memory: 170942464 bytes.'
2024-09-09 22:12:59.422 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.4485ms with message 'Ping successful.'
2024-09-09 22:12:59.426 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.1242ms
2024-09-09 22:12:59.427 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:59.428 +03:00 [INF] Received HTTP response headers after 46.9791ms - 200
2024-09-09 22:12:59.429 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 46.8062ms
2024-09-09 22:12:59.430 +03:00 [INF] End processing HTTP request after 53.5125ms - 200
2024-09-09 22:12:59.438 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:59.440 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.443 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:59.445 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:59.447 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:59.450 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:59.457 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:59.463 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.467 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.470 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:12:59.474 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.477 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:59.480 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:59.483 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:59.485 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.488 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:59.491 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:59.494 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:12:59.497 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:59.503 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:59.509 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.512 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:59.514 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.518 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:12:59.520 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:59.521 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:59.522 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:59.524 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:59.526 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.530 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:59.531 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:59.533 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.535 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:59.537 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:59.540 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:59.542 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:59.546 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:59.551 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.553 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:12:59.556 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.559 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:59.561 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.564 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:12:59.566 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:12:59.567 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:12:59.571 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:12:59.575 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:12:59.577 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:12:59.578 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:59.580 +03:00 [DBG] Running health checks
2024-09-09 22:12:59.581 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:59.581 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:12:59.581 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:12:59.584 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.2199ms with message 'Database is available.'
2024-09-09 22:12:59.592 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.1931ms with message 'Available memory: 171659264 bytes.'
2024-09-09 22:12:59.612 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.2194ms with message 'Ping successful.'
2024-09-09 22:12:59.615 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.2455ms
2024-09-09 22:12:59.617 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:59.617 +03:00 [INF] Received HTTP response headers after 48.0585ms - 200
2024-09-09 22:12:59.618 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 48.0098ms
2024-09-09 22:12:59.621 +03:00 [INF] End processing HTTP request after 55.2106ms - 200
2024-09-09 22:12:59.628 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:59.629 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.632 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:59.633 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:59.635 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:59.637 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:59.643 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:59.647 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.649 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:59.653 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.656 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:59.658 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:59.660 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:59.662 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.664 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:59.666 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:12:59.668 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:59.670 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:59.676 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:59.681 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.683 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:59.686 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.689 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:59.691 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:59.693 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:59.695 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:59.697 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:59.700 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.703 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:59.705 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:59.706 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.709 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:59.710 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:59.713 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:59.715 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:59.720 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:59.726 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.729 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:12:59.732 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.734 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:59.737 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.740 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:12:59.742 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:12:59.744 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:12:59.747 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:12:59.751 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:12:59.752 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:12:59.754 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:12:59.756 +03:00 [DBG] Running health checks
2024-09-09 22:12:59.758 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:12:59.769 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.0536ms with message 'Available memory: 173572096 bytes.'
2024-09-09 22:12:59.773 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 16.713ms
2024-09-09 22:12:59.778 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:12:59.778 +03:00 [INF] Received HTTP response headers after 31.8291ms - 200
2024-09-09 22:12:59.779 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 32.2545ms
2024-09-09 22:12:59.782 +03:00 [INF] End processing HTTP request after 39.6325ms - 200
2024-09-09 22:12:59.791 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:59.793 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.795 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:59.797 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:59.799 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:59.801 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:59.807 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:59.812 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.814 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.817 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.819 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.821 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:12:59.824 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.826 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:59.828 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:12:59.830 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:59.832 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.835 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:59.836 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:59.838 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:59.840 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:59.845 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:12:59.850 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.852 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:59.855 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.857 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:59.860 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:12:59.861 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:59.863 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:12:59.865 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:59.868 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.871 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:59.874 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.878 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:12:59.882 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:12:59.886 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:12:59.888 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.890 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:12:59.892 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:12:59.894 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:59.895 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:59.898 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:12:59.900 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:59.904 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:12:59.907 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.909 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:12:59.912 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:12:59.914 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:12:59.916 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:12:59.918 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:12:59.922 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:12:59.926 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.928 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:12:59.932 +03:00 [DBG] Committing transaction.
2024-09-09 22:12:59.934 +03:00 [DBG] Committed transaction.
2024-09-09 22:12:59.935 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:12:59.938 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:12:59.940 +03:00 [DBG] Disposing transaction.
2024-09-09 22:12:59.942 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.944 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/api/Authors/1 - null null
2024-09-09 22:12:59.946 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:12:59.950 +03:00 [DBG] The request path /api/Authors/1 does not match a supported file type
2024-09-09 22:12:59.965 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:12:59.969 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors/1'
2024-09-09 22:12:59.971 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:12:59.973 +03:00 [DBG] Endpoint 'MyApi.Controllers.v1.AuthorsController.GetAuthor (MyApi)' with route pattern 'api/Authors/{id}' is valid for the request path '/api/Authors/1'
2024-09-09 22:12:59.975 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:12:59.977 +03:00 [DBG] Request matched endpoint 'MyApi.Controllers.v1.AuthorsController.GetAuthor (MyApi)'
2024-09-09 22:12:59.980 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:12:59.981 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Endpoint MyApi.Controllers.v1.AuthorsController.GetAuthor (MyApi) contains authorization metadata, but a middleware was not found that supports authorization.
Configure your application startup by adding app.UseAuthorization() in the application startup code. If there are calls to app.UseRouting() and app.UseEndpoints(...), the call to app.UseAuthorization() must go between them.
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.ThrowMissingAuthMiddlewareException(Endpoint endpoint)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-09 22:12:59.984 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:12:59.992 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:12:59.992 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/api/Authors/1 - 500 null text/plain; charset=utf-8 49.1414ms
2024-09-09 22:12:59.994 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:13:00.000 +03:00 [DBG] Running health checks
2024-09-09 22:13:00.001 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:13:00.003 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.9432ms with message 'Database is available.'
2024-09-09 22:13:00.007 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.757ms
2024-09-09 22:13:00.009 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:13:00.010 +03:00 [INF] Received HTTP response headers after 30.906ms - 200
2024-09-09 22:13:00.011 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 31.3303ms
2024-09-09 22:13:00.013 +03:00 [INF] End processing HTTP request after 41.8701ms - 200
2024-09-09 22:13:00.020 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:00.022 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.025 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:00.026 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:00.028 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:00.030 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:00.035 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:00.041 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:00.043 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:00.046 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.047 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:13:00.050 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.053 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:00.055 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:13:00.057 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:00.059 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.061 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:00.062 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:00.064 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:00.066 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:00.072 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:00.078 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.079 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:13:00.082 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.085 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:00.087 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:13:00.089 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:00.090 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:00.092 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:00.095 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:00.097 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:00.100 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:00.103 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:13:00.105 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:00.108 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.112 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:13:00.114 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:13:00.116 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:00.117 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:00.120 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:00.126 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:00.129 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:00.136 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.138 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:13:00.141 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:00.142 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:00.144 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:00.146 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:00.151 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:00.155 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.158 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:13:00.161 +03:00 [DBG] Committing transaction.
2024-09-09 22:13:00.164 +03:00 [DBG] Committed transaction.
2024-09-09 22:13:00.165 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.168 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:00.170 +03:00 [DBG] Disposing transaction.
2024-09-09 22:13:00.173 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:00.176 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:00.179 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:13:00.181 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:13:00.183 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:13:00.187 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:13:00.190 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:13:00.192 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:13:00.194 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:13:00.195 +03:00 [DBG] Running health checks
2024-09-09 22:13:00.197 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:13:00.226 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.8853ms with message 'Ping successful.'
2024-09-09 22:13:00.229 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.1356ms
2024-09-09 22:13:00.232 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:13:00.232 +03:00 [INF] Received HTTP response headers after 46.7975ms - 200
2024-09-09 22:13:00.233 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 46.9363ms
2024-09-09 22:13:00.236 +03:00 [INF] End processing HTTP request after 54.3509ms - 200
2024-09-09 22:13:00.244 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:00.246 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.249 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:00.250 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:00.253 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:13:00.256 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:00.261 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:00.267 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:00.270 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:00.273 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.275 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:13:00.279 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.282 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:00.285 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:13:00.287 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:00.289 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.291 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:00.293 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:13:00.296 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:13:00.298 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:00.306 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:00.315 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.319 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:13:00.324 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.328 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:13:00.334 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:13:00.336 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:00.339 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:00.342 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:00.347 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:00.352 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:00.356 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:00.361 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:13:00.364 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:00.367 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.371 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:13:00.373 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:13:00.376 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:00.379 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:00.382 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:13:00.385 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:00.391 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:00.397 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.400 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:13:00.405 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:00.408 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:13:00.410 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:13:00.414 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:00.420 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:00.426 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.429 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:13:00.433 +03:00 [DBG] Committing transaction.
2024-09-09 22:13:00.438 +03:00 [DBG] Committed transaction.
2024-09-09 22:13:00.439 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:00.443 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:13:00.447 +03:00 [DBG] Disposing transaction.
2024-09-09 22:13:00.449 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:00.455 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:00.459 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:13:00.463 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:13:00.465 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:13:00.477 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:13:00.489 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:00.497 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:13:10.506 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:13:10.509 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:13:10.512 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:13:10.513 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:13:10.514 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:10.516 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.518 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:10.520 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:10.522 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:10.524 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:13:10.528 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:13:10.531 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:10.533 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:10.535 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:10.538 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:10.540 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:10.542 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.544 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:13:10.547 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.549 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:10.551 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:13:10.553 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:13:10.557 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:13:10.560 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:13:10.561 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:13:10.562 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:13:10.563 +03:00 [DBG] Running health checks
2024-09-09 22:13:10.565 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:13:10.565 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:13:10.565 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:13:10.568 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.7841ms with message 'Database is available.'
2024-09-09 22:13:10.574 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.3911ms with message 'Available memory: 174477312 bytes.'
2024-09-09 22:13:10.595 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.3699ms with message 'Ping successful.'
2024-09-09 22:13:10.599 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.1054ms
2024-09-09 22:13:10.601 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:13:10.601 +03:00 [INF] Received HTTP response headers after 45.4265ms - 200
2024-09-09 22:13:10.603 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 46.0062ms
2024-09-09 22:13:10.605 +03:00 [INF] End processing HTTP request after 53.784ms - 200
2024-09-09 22:13:10.612 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:10.614 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.617 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:10.619 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:13:10.621 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:13:10.623 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:10.630 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:10.637 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:10.640 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.642 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:13:10.645 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.648 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:10.651 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:13:10.652 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:10.654 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.657 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:10.659 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:10.661 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:13:10.663 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:10.669 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:10.673 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.675 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:10.678 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.680 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:10.682 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:13:10.684 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:10.686 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:10.687 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:10.690 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:10.693 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:13:10.695 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:10.697 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.699 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:10.700 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:10.702 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:10.704 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:10.707 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:10.713 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.716 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:13:10.718 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.720 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:10.722 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:10.726 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:13:10.728 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:13:10.730 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:13:10.733 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:13:10.736 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:13:10.738 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:13:10.739 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:13:10.741 +03:00 [DBG] Running health checks
2024-09-09 22:13:10.742 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:13:10.742 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:13:10.742 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:13:10.745 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.8983ms with message 'Database is available.'
2024-09-09 22:13:10.751 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.1003ms with message 'Available memory: 174743552 bytes.'
2024-09-09 22:13:10.772 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.5765ms with message 'Ping successful.'
2024-09-09 22:13:10.776 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.9464ms
2024-09-09 22:13:10.778 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:13:10.778 +03:00 [INF] Received HTTP response headers after 45.9858ms - 200
2024-09-09 22:13:10.779 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 45.9194ms
2024-09-09 22:13:10.781 +03:00 [INF] End processing HTTP request after 52.8428ms - 200
2024-09-09 22:13:10.787 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:10.788 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.790 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:10.792 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:10.794 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:10.796 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:10.803 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:10.810 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.813 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:13:10.816 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.819 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:10.821 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:13:10.822 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:10.824 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.827 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:10.829 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:13:10.831 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:10.833 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:10.839 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:10.847 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.849 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:13:10.852 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.855 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:13:10.858 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:13:10.860 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:10.862 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:10.864 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:10.866 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:10.870 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:13:10.873 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:10.875 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.878 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:10.880 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:10.882 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:13:10.884 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:10.890 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:10.898 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.900 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:13:10.903 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.906 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:10.908 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:10.911 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:13:10.913 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:13:10.915 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:13:10.918 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:13:10.922 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:13:10.924 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:13:10.926 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:13:10.927 +03:00 [DBG] Running health checks
2024-09-09 22:13:10.928 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:13:10.938 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.3842ms with message 'Available memory: 174927872 bytes.'
2024-09-09 22:13:10.941 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 13.9408ms
2024-09-09 22:13:10.943 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:13:10.943 +03:00 [INF] Received HTTP response headers after 25.8868ms - 200
2024-09-09 22:13:10.944 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 26.2946ms
2024-09-09 22:13:10.946 +03:00 [INF] End processing HTTP request after 32.4964ms - 200
2024-09-09 22:13:10.952 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:10.954 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.956 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:10.957 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:10.959 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:10.961 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:10.966 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:10.970 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:10.973 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:10.975 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:10.977 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.979 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:13:10.982 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.984 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:10.986 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:13:10.988 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:10.990 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:10.992 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:10.993 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:10.995 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:10.997 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:11.001 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:11.005 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.007 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:11.009 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.011 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:13:11.013 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:13:11.014 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:11.016 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:11.017 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:11.019 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.021 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:11.023 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.026 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:11.028 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:13:11.029 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:11.031 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.033 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:13:11.035 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:13:11.036 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:11.038 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:11.039 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:13:11.041 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:11.044 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:11.048 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.049 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:11.051 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:11.052 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:11.054 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:13:11.056 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:13:11.059 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:13:11.063 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.064 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:11.066 +03:00 [DBG] Committing transaction.
2024-09-09 22:13:11.068 +03:00 [DBG] Committed transaction.
2024-09-09 22:13:11.069 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.072 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:11.073 +03:00 [DBG] Disposing transaction.
2024-09-09 22:13:11.075 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.078 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.080 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:13:11.082 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:13:11.083 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:13:11.086 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:13:11.088 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:13:11.089 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:13:11.091 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:13:11.092 +03:00 [DBG] Running health checks
2024-09-09 22:13:11.093 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:13:11.095 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.8211ms with message 'Database is available.'
2024-09-09 22:13:11.098 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.1657ms
2024-09-09 22:13:11.100 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:13:11.100 +03:00 [INF] Received HTTP response headers after 15.3493ms - 200
2024-09-09 22:13:11.101 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 15.6694ms
2024-09-09 22:13:11.103 +03:00 [INF] End processing HTTP request after 21.207ms - 200
2024-09-09 22:13:11.109 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:11.111 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.114 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:11.116 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:11.117 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:11.119 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:11.124 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:11.129 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.131 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.134 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.136 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:13:11.139 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.142 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:11.144 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:13:11.146 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:11.147 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.150 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:11.151 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:11.153 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:11.155 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:11.161 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:11.166 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.168 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:11.170 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.173 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:11.175 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:13:11.177 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:11.178 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:11.180 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:11.183 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.186 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:11.188 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.192 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:13:11.193 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:11.195 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.198 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:13:11.199 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:13:11.201 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:11.202 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:11.205 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:11.207 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:11.211 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:11.216 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.217 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:11.220 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:11.221 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:11.223 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:11.225 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:11.229 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:11.233 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.235 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:11.237 +03:00 [DBG] Committing transaction.
2024-09-09 22:13:11.241 +03:00 [DBG] Committed transaction.
2024-09-09 22:13:11.243 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.245 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:11.247 +03:00 [DBG] Disposing transaction.
2024-09-09 22:13:11.249 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.252 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.255 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:13:11.257 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:13:11.258 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:13:11.261 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:13:11.265 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:13:11.267 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:13:11.269 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:13:11.271 +03:00 [DBG] Running health checks
2024-09-09 22:13:11.272 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:13:11.301 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.4877ms with message 'Ping successful.'
2024-09-09 22:13:11.304 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.1389ms
2024-09-09 22:13:11.306 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:13:11.306 +03:00 [INF] Received HTTP response headers after 45.813ms - 200
2024-09-09 22:13:11.307 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 46.0492ms
2024-09-09 22:13:11.309 +03:00 [INF] End processing HTTP request after 52.1633ms - 200
2024-09-09 22:13:11.316 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:11.318 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.320 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:11.322 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:11.324 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:11.325 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:11.331 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:11.336 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.338 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.340 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.342 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:13:11.345 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.347 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:11.349 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:13:11.351 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:11.353 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.355 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:11.357 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:11.359 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:11.361 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:11.367 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:11.371 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.373 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:11.376 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.379 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:11.381 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:13:11.382 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:11.383 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:11.385 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:11.387 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.390 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:11.392 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.395 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:13:11.397 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:11.399 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.401 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:13:11.403 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:13:11.404 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:11.406 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:11.408 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:11.410 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:11.414 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:11.417 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.419 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:11.422 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:11.424 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:11.426 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:11.427 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:11.431 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:11.435 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.437 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:11.439 +03:00 [DBG] Committing transaction.
2024-09-09 22:13:11.443 +03:00 [DBG] Committed transaction.
2024-09-09 22:13:11.445 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:11.447 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:11.449 +03:00 [DBG] Disposing transaction.
2024-09-09 22:13:11.450 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.453 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:11.456 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:13:11.458 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:13:11.459 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:13:11.461 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:13:11.462 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:11.464 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:13:21.468 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:13:21.470 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:13:21.473 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:13:21.474 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:13:21.475 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:21.477 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.479 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:21.481 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:21.483 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:21.485 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:13:21.488 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:13:21.492 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.494 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.496 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.498 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.501 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.503 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.504 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:13:21.507 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.508 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:13:21.510 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:13:21.512 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:13:21.514 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:13:21.518 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:13:21.519 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:13:21.520 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:13:21.521 +03:00 [DBG] Running health checks
2024-09-09 22:13:21.523 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:13:21.523 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:13:21.523 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:13:21.525 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.6231ms with message 'Database is available.'
2024-09-09 22:13:21.532 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.0002ms with message 'Available memory: 175386624 bytes.'
2024-09-09 22:13:21.553 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.2465ms with message 'Ping successful.'
2024-09-09 22:13:21.556 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.6912ms
2024-09-09 22:13:21.558 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:13:21.558 +03:00 [INF] Received HTTP response headers after 44.7299ms - 200
2024-09-09 22:13:21.559 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 44.8175ms
2024-09-09 22:13:21.560 +03:00 [INF] End processing HTTP request after 50.0659ms - 200
2024-09-09 22:13:21.567 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:21.569 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.571 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:21.572 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:21.574 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:21.576 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:21.581 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:21.585 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.587 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.590 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:13:21.592 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.594 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:13:21.596 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:13:21.597 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:21.599 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.601 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:21.602 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:21.604 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:21.605 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:21.610 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:21.614 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.616 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:21.618 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.620 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:13:21.622 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:13:21.623 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:21.625 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:21.626 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:21.628 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.631 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:13:21.633 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:21.634 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.637 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:21.638 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:21.640 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:21.642 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:21.646 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:21.650 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.651 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:13:21.654 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.656 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:13:21.658 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.661 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:13:21.663 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:13:21.664 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:13:21.667 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:13:21.670 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:13:21.672 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:13:21.674 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:13:21.675 +03:00 [DBG] Running health checks
2024-09-09 22:13:21.677 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:13:21.677 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:13:21.677 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:13:21.680 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.0442ms with message 'Database is available.'
2024-09-09 22:13:21.684 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 7.7525ms with message 'Available memory: 175673344 bytes.'
2024-09-09 22:13:21.708 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.9206ms with message 'Ping successful.'
2024-09-09 22:13:21.711 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.1272ms
2024-09-09 22:13:21.713 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:13:21.713 +03:00 [INF] Received HTTP response headers after 46.6376ms - 200
2024-09-09 22:13:21.714 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 47.2759ms
2024-09-09 22:13:21.716 +03:00 [INF] End processing HTTP request after 53.085ms - 200
2024-09-09 22:13:21.723 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:21.725 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.727 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:21.728 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:21.730 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:13:21.732 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:21.737 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:21.741 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.743 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:21.746 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.748 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:21.750 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:13:21.751 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:21.753 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.755 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:21.757 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:21.758 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:21.760 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:21.765 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:21.770 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.771 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:21.774 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.776 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:21.778 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:13:21.780 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:21.781 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:21.783 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:21.785 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.788 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:13:21.789 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:21.791 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.793 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:21.795 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:21.797 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:21.799 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:21.803 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:21.809 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.811 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:13:21.814 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.816 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:21.818 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.821 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:13:21.822 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:13:21.824 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:13:21.827 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:13:21.830 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:13:21.832 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:13:21.833 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:13:21.834 +03:00 [DBG] Running health checks
2024-09-09 22:13:21.836 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:13:21.842 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 6.4521ms with message 'Available memory: 175861760 bytes.'
2024-09-09 22:13:21.845 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 10.4708ms
2024-09-09 22:13:21.847 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:13:21.847 +03:00 [INF] Received HTTP response headers after 20.9426ms - 200
2024-09-09 22:13:21.848 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 21.2438ms
2024-09-09 22:13:21.850 +03:00 [INF] End processing HTTP request after 27.4786ms - 200
2024-09-09 22:13:21.857 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:21.859 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.861 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:21.862 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:21.864 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:21.866 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:21.871 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:21.876 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.878 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.880 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.882 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.884 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:13:21.886 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.888 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:21.891 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:13:21.892 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:21.894 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.896 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:21.897 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:21.899 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:21.901 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:21.906 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:21.910 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.912 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:21.914 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.916 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:21.919 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:13:21.920 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:21.922 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:21.923 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:21.925 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.928 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:21.930 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.934 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:21.938 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:13:21.939 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:21.942 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.944 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:13:21.946 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:13:21.948 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:21.950 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:21.952 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:21.954 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:21.958 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:21.962 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.963 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:21.967 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:21.968 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:21.971 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:13:21.974 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:13:21.979 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:13:21.983 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.985 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:21.987 +03:00 [DBG] Committing transaction.
2024-09-09 22:13:21.989 +03:00 [DBG] Committed transaction.
2024-09-09 22:13:21.991 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:21.993 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:13:21.995 +03:00 [DBG] Disposing transaction.
2024-09-09 22:13:21.996 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:21.999 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:22.001 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:13:22.003 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:13:22.004 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:13:22.007 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:13:22.010 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:13:22.012 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:13:22.013 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:13:22.015 +03:00 [DBG] Running health checks
2024-09-09 22:13:22.016 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:13:22.017 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.5375ms with message 'Database is available.'
2024-09-09 22:13:22.020 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.1655ms
2024-09-09 22:13:22.022 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:13:22.022 +03:00 [INF] Received HTTP response headers after 15.8864ms - 200
2024-09-09 22:13:22.023 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 16.0621ms
2024-09-09 22:13:22.025 +03:00 [INF] End processing HTTP request after 21.677ms - 200
2024-09-09 22:13:22.031 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:22.032 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.034 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:22.036 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:22.037 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:22.039 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:22.044 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:22.050 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:22.052 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:22.054 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.056 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:13:22.059 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.061 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:22.063 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:13:22.065 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:22.067 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.069 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:22.071 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:22.073 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:13:22.075 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:22.080 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:22.084 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.086 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:22.088 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.090 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:13:22.091 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:13:22.093 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:22.094 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:22.096 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:22.097 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:22.100 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:22.101 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:22.104 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:13:22.105 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:22.107 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.110 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:13:22.111 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:13:22.113 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:22.114 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:22.116 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:13:22.118 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:22.121 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:22.124 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.126 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:22.128 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:22.130 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:22.131 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:22.133 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:22.136 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:22.139 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.141 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:13:22.143 +03:00 [DBG] Committing transaction.
2024-09-09 22:13:22.147 +03:00 [DBG] Committed transaction.
2024-09-09 22:13:22.148 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.150 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:13:22.152 +03:00 [DBG] Disposing transaction.
2024-09-09 22:13:22.153 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:22.155 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:22.158 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:13:22.159 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:13:22.161 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:13:22.163 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:13:22.166 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:13:22.167 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:13:22.169 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:13:22.170 +03:00 [DBG] Running health checks
2024-09-09 22:13:22.171 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:13:22.199 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.5926ms with message 'Ping successful.'
2024-09-09 22:13:22.202 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.2978ms
2024-09-09 22:13:22.205 +03:00 [DBG] Connection id "0HN6H0D1D5B1K" completed keep alive response.
2024-09-09 22:13:22.205 +03:00 [INF] Received HTTP response headers after 42.9471ms - 200
2024-09-09 22:13:22.207 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 43.4269ms
2024-09-09 22:13:22.208 +03:00 [INF] End processing HTTP request after 48.9818ms - 200
2024-09-09 22:13:22.214 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:22.216 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.218 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:22.219 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:22.221 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:22.223 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:22.228 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:22.232 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:22.236 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:22.239 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.241 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:13:22.244 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.246 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:22.247 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:13:22.249 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:22.251 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.253 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:22.255 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:22.256 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:22.259 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:22.264 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:13:22.270 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.273 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:13:22.276 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.279 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:13:22.281 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:13:22.283 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:22.285 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:13:22.287 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:22.289 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:22.293 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:13:22.297 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:22.300 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:13:22.301 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:22.303 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.305 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:13:22.307 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:13:22.308 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:22.309 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:22.311 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:13:22.313 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:22.316 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:22.320 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.322 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:22.324 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:22.326 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:22.327 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:13:22.329 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:22.332 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:13:22.335 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.337 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:13:22.339 +03:00 [DBG] Committing transaction.
2024-09-09 22:13:22.342 +03:00 [DBG] Committed transaction.
2024-09-09 22:13:22.344 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:22.346 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:22.347 +03:00 [DBG] Disposing transaction.
2024-09-09 22:13:22.348 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:22.351 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:22.353 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:13:22.355 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:13:22.356 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:13:22.357 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:13:22.359 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:22.361 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:13:32.370 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:13:32.373 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:13:32.376 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:13:32.377 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:13:32.378 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:13:32.380 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:13:32.382 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:13:32.383 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:13:32.385 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:13:32.387 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:13:32.390 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:13:32.393 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:13:32.396 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:18.020 +03:00 [DBG] This is a debug message
2024-09-09 22:16:18.088 +03:00 [INF] This is an info message
2024-09-09 22:16:18.091 +03:00 [WRN] This is a warning message
2024-09-09 22:16:18.093 +03:00 [ERR] This is an error message
2024-09-09 22:16:18.094 +03:00 [FTL] This is a fatal message
2024-09-09 22:16:18.546 +03:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2024-09-09 22:16:18.830 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-09 22:16:19.086 +03:00 [DBG] Hosting starting
2024-09-09 22:16:19.186 +03:00 [INF] User profile is available. Using 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-09 22:16:19.202 +03:00 [INF] Initializing UI Database
2024-09-09 22:16:19.492 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-09 22:16:20.620 +03:00 [DBG] The property 'HealthCheckExecutionEntry.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 22:16:20.623 +03:00 [DBG] The property 'HealthCheckExecutionHistory.HealthCheckExecutionId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-09 22:16:20.955 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:16:21.006 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:16:21.029 +03:00 [DBG] Created DbConnection. (20ms).
2024-09-09 22:16:21.037 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:21.062 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:21.075 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:21.088 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:16:21.108 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-09 22:16:21.110 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:16:21.112 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:16:21.125 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (10ms).
2024-09-09 22:16:21.130 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (22ms).
2024-09-09 22:16:21.137 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:21.145 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:21.161 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 22:16:21.239 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-09 22:16:21.252 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:21.261 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (9ms).
2024-09-09 22:16:21.298 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:21.301 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:21.304 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:21.306 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:21.309 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:21.312 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 22:16:21.319 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-09 22:16:21.334 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:21.339 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:16:21.343 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:21.345 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:21.468 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()
    .Any()'
2024-09-09 22:16:21.830 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Configurations AS c)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 22:16:21.884 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:21.886 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:21.889 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:21.891 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:21.893 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:21.896 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 22:16:21.899 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Configurations" AS "c")
2024-09-09 22:16:21.907 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:21.910 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:16:21.914 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:21.917 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:21.927 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckConfiguration>()'
2024-09-09 22:16:22.026 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<HealthCheckConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: HealthCheckConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckConfiguration.DiscoveryService (string) MaxLength(100), 1], [Property: HealthCheckConfiguration.Name (string) Required MaxLength(500), 2], [Property: HealthCheckConfiguration.Uri (string) Required MaxLength(500), 3] }
        SELECT c.Id, c.DiscoveryService, c.Name, c.Uri
        FROM Configurations AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckConfiguration>, 
    HealthChecks.UI.Data.HealthChecksDb, 
    False, 
    False, 
    True
)'
2024-09-09 22:16:22.041 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:22.043 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:22.046 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:22.047 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:22.050 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:22.052 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:16:22.056 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:16:22.114 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:22.154 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:22.158 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:22.161 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:22.164 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:22.168 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:22.170 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 110ms reading results.
2024-09-09 22:16:22.174 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:22.177 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:22.188 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:22.207 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:22.237 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:22.250 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 0 entities written to the database.
2024-09-09 22:16:22.256 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:16:22.260 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:22.262 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:22.274 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-708ff948-4064-4637-b437-6d3d4d39db23.xml'.
2024-09-09 22:16:22.291 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-b1c18ae0-c8a0-4231-a320-ae7c37796e64.xml'.
2024-09-09 22:16:22.294 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-c1775fa6-7869-4e48-a739-17ea1f4d4600.xml'.
2024-09-09 22:16:22.297 +03:00 [DBG] Reading data from file 'C:\Users\Viktor\AppData\Local\ASP.NET\DataProtection-Keys\key-f484012b-a04f-4d48-bbf1-e6db9c34915c.xml'.
2024-09-09 22:16:22.310 +03:00 [DBG] Found key {708ff948-4064-4637-b437-6d3d4d39db23}.
2024-09-09 22:16:22.321 +03:00 [DBG] Found key {b1c18ae0-c8a0-4231-a320-ae7c37796e64}.
2024-09-09 22:16:22.323 +03:00 [DBG] Found key {c1775fa6-7869-4e48-a739-17ea1f4d4600}.
2024-09-09 22:16:22.325 +03:00 [DBG] Found key {f484012b-a04f-4d48-bbf1-e6db9c34915c}.
2024-09-09 22:16:22.339 +03:00 [DBG] Considering key {708ff948-4064-4637-b437-6d3d4d39db23} with expiration date 2024-11-18 12:06:14Z as default key.
2024-09-09 22:16:22.348 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 22:16:22.352 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-09 22:16:22.357 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-09 22:16:22.363 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-09 22:16:22.367 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-09 22:16:22.372 +03:00 [DBG] Using key {708ff948-4064-4637-b437-6d3d4d39db23} as the default key.
2024-09-09 22:16:22.376 +03:00 [DBG] Key ring with default key {708ff948-4064-4637-b437-6d3d4d39db23} was loaded during application startup.
2024-09-09 22:16:22.659 +03:00 [INF] Now listening on: https://localhost:7227
2024-09-09 22:16:22.660 +03:00 [INF] Now listening on: http://localhost:5174
2024-09-09 22:16:22.662 +03:00 [DBG] Loaded hosting startup assembly MyApi
2024-09-09 22:16:22.664 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-09 22:16:22.665 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-09 22:16:22.695 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:16:22.741 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:16:22.749 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:16:22.750 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:16:22.753 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:22.756 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:22.759 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:22.761 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:22.764 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:22.766 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:16:22.772 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:16:22.777 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:22.780 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:22.783 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:22.786 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:22.789 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:22.793 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:22.796 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 19ms reading results.
2024-09-09 22:16:22.800 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:22.803 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:22.839 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:16:22.844 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:16:22.869 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-09 22:16:22.871 +03:00 [INF] Hosting environment: Development
2024-09-09 22:16:22.873 +03:00 [INF] Content root path: C:\Users\Viktor\source\repos\MyApi\MyApi
2024-09-09 22:16:22.879 +03:00 [DBG] Hosting started
2024-09-09 22:16:22.882 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" accepted.
2024-09-09 22:16:22.885 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" started.
2024-09-09 22:16:22.932 +03:00 [DBG] Connection 0HN6H0FI8ACGF established using the following protocol: "Tls12"
2024-09-09 22:16:22.954 +03:00 [DBG] Connection id "0HN6H0FI8ACGG" accepted.
2024-09-09 22:16:22.956 +03:00 [DBG] Connection id "0HN6H0FI8ACGG" started.
2024-09-09 22:16:22.970 +03:00 [DBG] Connection id "0HN6H0FI8ACGH" received FIN.
2024-09-09 22:16:22.970 +03:00 [DBG] Connection id "0HN6H0FI8ACGG" received FIN.
2024-09-09 22:16:22.982 +03:00 [DBG] Connection id "0HN6H0FI8ACGH" accepted.
2024-09-09 22:16:22.993 +03:00 [DBG] Connection id "0HN6H0FI8ACGH" started.
2024-09-09 22:16:22.995 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-09 22:16:22.997 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-09 22:16:23.023 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:16:23.052 +03:00 [DBG] Connection id "0HN6H0FI8ACGG" stopped.
2024-09-09 22:16:23.052 +03:00 [DBG] Connection id "0HN6H0FI8ACGH" stopped.
2024-09-09 22:16:23.057 +03:00 [DBG] Connection id "0HN6H0FI8ACGG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 22:16:23.060 +03:00 [DBG] Connection id "0HN6H0FI8ACGH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-09 22:16:23.077 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-09 22:16:23.083 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:16:23.138 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:16:23.141 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:23.274 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:23.284 +03:00 [DBG] Running health checks
2024-09-09 22:16:23.292 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:16:23.292 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:16:23.292 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:16:23.311 +03:00 [DBG] Connection id "0HN6H0FI8ACGI" accepted.
2024-09-09 22:16:23.329 +03:00 [DBG] Connection id "0HN6H0FI8ACGI" started.
2024-09-09 22:16:23.341 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 37.6271ms with message 'Database is available.'
2024-09-09 22:16:23.342 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 50.4912ms with message 'Available memory: 134336512 bytes.'
2024-09-09 22:16:23.343 +03:00 [DBG] Connection 0HN6H0FI8ACGI established using the following protocol: "Tls12"
2024-09-09 22:16:23.361 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 68.963ms with message 'Ping successful.'
2024-09-09 22:16:23.380 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 87.1751ms
2024-09-09 22:16:23.391 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/index.html - null null
2024-09-09 22:16:23.447 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-09-09 22:16:23.451 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-09 22:16:23.453 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:23.458 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:23.532 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:23.535 +03:00 [INF] Received HTTP response headers after 681.6608ms - 200
2024-09-09 22:16:23.538 +03:00 [INF] End processing HTTP request after 701.7149ms - 200
2024-09-09 22:16:23.538 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 553.5226ms
2024-09-09 22:16:23.630 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-09 22:16:23.640 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckExecution>()
    .Include(le => le.History)
    .Include(le => le.Entries)
    .Where(le => le.Name == __configuration_Name_0)
    .SingleOrDefault()'
2024-09-09 22:16:23.670 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-09 22:16:23.673 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/index.html - 200 null text/html;charset=utf-8 282.6255ms
2024-09-09 22:16:23.679 +03:00 [DBG] Including navigation: 'HealthCheckExecution.History'.
2024-09-09 22:16:23.684 +03:00 [DBG] Including navigation: 'HealthCheckExecution.Entries'.
2024-09-09 22:16:23.717 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - null null
2024-09-09 22:16:23.717 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_vs/browserLink - null null
2024-09-09 22:16:23.732 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 15.229ms
2024-09-09 22:16:23.805 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.12ms
2024-09-09 22:16:23.896 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-09 22:16:23.911 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckExecution>(
    asyncEnumerable: new SingleQueryingEnumerable<HealthCheckExecution>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: HealthCheckExecution.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckExecution.DiscoveryService (string) MaxLength(50), 1], [Property: HealthCheckExecution.LastExecuted (DateTime) Required, 2], [Property: HealthCheckExecution.Name (string) Required MaxLength(500), 3], [Property: HealthCheckExecution.OnStateFrom (DateTime) Required, 4], [Property: HealthCheckExecution.Status (UIHealthStatus) Required, 5], [Property: HealthCheckExecution.Uri (string) Required MaxLength(500), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionHistory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: HealthCheckExecutionHistory.Description (string), 8], [Property: HealthCheckExecutionHistory.HealthCheckExecutionId (no field, int?) Shadow FK Index, 9], [Property: HealthCheckExecutionHistory.Name (string) MaxLength(500), 10], [Property: HealthCheckExecutionHistory.On (DateTime) Required, 11], [Property: HealthCheckExecutionHistory.Status (UIHealthStatus) Required MaxLength(50), 12] }
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionEntry.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: HealthCheckExecutionEntry.Description (string), 14], [Property: HealthCheckExecutionEntry.Duration (TimeSpan) Required, 15], [Property: HealthCheckExecutionEntry.HealthCheckExecutionId (no field, int?) Shadow FK Index, 16], [Property: HealthCheckExecutionEntry.Name (string) Required MaxLength(500), 17], [Property: HealthCheckExecutionEntry.Status (UIHealthStatus) Required, 18], [Property: HealthCheckExecutionEntry.Tags (List<string>), 19] }
                5 -> 13
            SELECT t.Id, t.DiscoveryService, t.LastExecuted, t.Name, t.OnStateFrom, t.Status, t.Uri, h.Id, h.Description, h.HealthCheckExecutionId, h.Name, h.On, h.Status, h0.Id, h0.Description, h0.Duration, h0.HealthCheckExecutionId, h0.Name, h0.Status, h0.Tags
            FROM 
            (
                SELECT TOP(2) e.Id, e.DiscoveryService, e.LastExecuted, e.Name, e.OnStateFrom, e.Status, e.Uri
                FROM Executions AS e
                WHERE e.Name == @__configuration_Name_0
            ) AS t
            LEFT JOIN HealthCheckExecutionHistories AS h ON t.Id == h.HealthCheckExecutionId
            LEFT JOIN HealthCheckExecutionEntries AS h0 ON t.Id == h0.HealthCheckExecutionId
            ORDER BY t.Id ASC, h.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckExecution>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 22:16:23.941 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:23.943 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:23.946 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:23.948 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:23.953 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:16:23.960 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:23.979 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:24.014 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:24.055 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.058 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 72ms reading results.
2024-09-09 22:16:24.062 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.064 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:24.071 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:24.081 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:24.083 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.086 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:24.089 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:24.091 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:16:24.094 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:24.100 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:24.109 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.112 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:16:24.117 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.120 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:24.122 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:24.126 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:24.129 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:24.142 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:24.161 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:24.182 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:24.234 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - null null
2024-09-09 22:16:24.239 +03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2024-09-09 22:16:24.241 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-09 22:16:24.242 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:24.249 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:24.315 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:24.317 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.323 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:24.325 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:24.330 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:16:24.333 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:24.339 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:24.356 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.358 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 22:16:24.364 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.366 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:24.379 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:24.384 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:16:24.387 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:16:24.389 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:16:24.393 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:16:24.397 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:16:24.400 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:16:24.431 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:24.433 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:24.438 +03:00 [DBG] Running health checks
2024-09-09 22:16:24.439 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:16:24.439 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:16:24.440 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:16:24.444 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.68ms with message 'Database is available.'
2024-09-09 22:16:24.451 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.974ms with message 'Available memory: 144752640 bytes.'
2024-09-09 22:16:24.473 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 33.8899ms with message 'Ping successful.'
2024-09-09 22:16:24.479 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 40.7931ms
2024-09-09 22:16:24.483 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:24.483 +03:00 [INF] Received HTTP response headers after 92.4393ms - 200
2024-09-09 22:16:24.485 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 91.4883ms
2024-09-09 22:16:24.487 +03:00 [INF] End processing HTTP request after 100.0142ms - 200
2024-09-09 22:16:24.496 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:24.499 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.500 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 266.1338ms
2024-09-09 22:16:24.502 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:24.510 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:16:24.512 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-09 22:16:24.515 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:24.528 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:24.535 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.538 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:16:24.543 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.547 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:16:24.549 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:24.551 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:24.554 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.556 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:24.558 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:24.560 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:24.562 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:24.570 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:24.576 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.579 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:16:24.583 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.586 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:24.589 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:24.591 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:24.593 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:24.595 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:24.599 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:24.602 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:24.605 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:24.608 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.612 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:24.615 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:24.618 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:16:24.621 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:24.626 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:24.633 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.636 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:16:24.638 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.642 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:24.645 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:24.649 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:16:24.651 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:16:24.654 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:16:24.658 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:16:24.664 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:16:24.666 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:16:24.669 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:24.671 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:24.675 +03:00 [DBG] Running health checks
2024-09-09 22:16:24.677 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:16:24.689 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.5617ms with message 'Available memory: 145330176 bytes.'
2024-09-09 22:16:24.693 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 18.5058ms
2024-09-09 22:16:24.731 +03:00 [INF] Received HTTP response headers after 74.3949ms - 200
2024-09-09 22:16:24.731 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:24.733 +03:00 [INF] End processing HTTP request after 82.1452ms - 200
2024-09-09 22:16:24.735 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 77.2195ms
2024-09-09 22:16:24.748 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:24.751 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.755 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:24.759 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:24.763 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:16:24.766 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:24.776 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:24.787 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:24.810 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:24.842 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:24.871 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.873 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 86ms reading results.
2024-09-09 22:16:24.877 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.881 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:24.884 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:24.886 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:24.889 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.891 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:24.894 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:24.896 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:24.899 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:24.905 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:24.912 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.914 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:24.918 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:24.921 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:24.924 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:24.929 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:24.931 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:24.934 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:24.937 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:24.957 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:24.960 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:24.970 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:24.981 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:24.996 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:24.998 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.005 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:16:25.014 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:16:25.019 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:25.021 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:25.026 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:16:25.028 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:25.033 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:25.038 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.040 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:25.045 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:25.047 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:25.049 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:25.052 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:16:25.056 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:16:25.060 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.062 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:25.069 +03:00 [DBG] Committing transaction.
2024-09-09 22:16:25.076 +03:00 [DBG] Committed transaction.
2024-09-09 22:16:25.082 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.084 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:25.091 +03:00 [DBG] Disposing transaction.
2024-09-09 22:16:25.092 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.099 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.102 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:16:25.105 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:16:25.106 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:16:25.110 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:16:25.114 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:16:25.116 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:16:25.117 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:25.119 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:25.120 +03:00 [DBG] Running health checks
2024-09-09 22:16:25.122 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:16:25.124 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0909ms with message 'Database is available.'
2024-09-09 22:16:25.128 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 7.1206ms
2024-09-09 22:16:25.130 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:25.130 +03:00 [INF] Received HTTP response headers after 22.3969ms - 200
2024-09-09 22:16:25.132 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 22.4426ms
2024-09-09 22:16:25.134 +03:00 [INF] End processing HTTP request after 29.0455ms - 200
2024-09-09 22:16:25.141 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:25.143 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.146 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:25.148 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:25.150 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:25.152 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:25.157 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:25.168 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.172 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.174 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.177 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:16:25.180 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.182 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:25.185 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:25.187 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:25.189 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.192 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:25.193 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:25.196 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:25.198 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:25.204 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:25.210 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.212 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:25.215 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.217 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:25.220 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:25.221 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:25.223 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:25.225 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:25.227 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.230 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:25.232 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.235 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:25.237 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:25.239 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.241 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:16:25.242 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:16:25.244 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:25.245 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:25.247 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:25.249 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:25.254 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:25.257 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.259 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:25.261 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:25.263 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:25.265 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:25.266 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:25.272 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:25.276 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.278 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:16:25.281 +03:00 [DBG] Committing transaction.
2024-09-09 22:16:25.285 +03:00 [DBG] Committed transaction.
2024-09-09 22:16:25.286 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.290 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:25.294 +03:00 [DBG] Disposing transaction.
2024-09-09 22:16:25.296 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.301 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.305 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:16:25.308 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:16:25.310 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:16:25.315 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:16:25.320 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:16:25.322 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:16:25.326 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:25.328 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:25.332 +03:00 [DBG] Running health checks
2024-09-09 22:16:25.333 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:16:25.362 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.6859ms with message 'Ping successful.'
2024-09-09 22:16:25.405 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 73.052ms
2024-09-09 22:16:25.415 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:25.415 +03:00 [INF] Received HTTP response headers after 101.7898ms - 200
2024-09-09 22:16:25.417 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 102.5791ms
2024-09-09 22:16:25.423 +03:00 [INF] End processing HTTP request after 114.5487ms - 200
2024-09-09 22:16:25.435 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:25.438 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.441 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:25.444 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:25.446 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:25.449 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:25.458 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:25.465 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.469 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.472 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.474 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:16:25.478 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.483 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:16:25.487 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:25.490 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:25.493 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.496 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:25.498 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:25.500 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:25.502 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:25.512 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:25.520 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.522 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:25.525 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.528 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:25.530 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:25.532 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:25.534 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:25.536 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:25.538 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.542 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:25.544 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.548 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:25.551 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:25.554 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.556 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:16:25.558 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:16:25.560 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:25.562 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:25.564 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:25.567 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:25.571 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:25.576 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.578 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:25.581 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:25.583 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:25.586 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:25.588 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:25.594 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:25.599 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.601 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:25.605 +03:00 [DBG] Committing transaction.
2024-09-09 22:16:25.609 +03:00 [DBG] Committed transaction.
2024-09-09 22:16:25.611 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:25.613 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:25.616 +03:00 [DBG] Disposing transaction.
2024-09-09 22:16:25.617 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.620 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:25.623 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:16:25.625 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:16:25.627 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:16:25.629 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:16:25.631 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:25.634 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:35.645 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:16:35.786 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:16:35.792 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:16:35.794 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:16:35.795 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:35.797 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:35.799 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:35.801 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:35.803 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:35.805 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:16:35.808 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:16:35.812 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:35.814 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:35.816 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:35.818 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:35.820 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:35.822 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:35.824 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:16:35.827 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:35.829 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:35.831 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:16:35.833 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:16:35.837 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:16:35.841 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:16:35.843 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:16:35.844 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:35.846 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:35.848 +03:00 [DBG] Running health checks
2024-09-09 22:16:35.849 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:16:35.849 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:16:35.849 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:16:35.854 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 5.3255ms with message 'Database is available.'
2024-09-09 22:16:35.861 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.428ms with message 'Available memory: 151580672 bytes.'
2024-09-09 22:16:35.878 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.827ms with message 'Ping successful.'
2024-09-09 22:16:35.881 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.4349ms
2024-09-09 22:16:35.883 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:35.884 +03:00 [INF] Received HTTP response headers after 48.6726ms - 200
2024-09-09 22:16:35.885 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 48.534ms
2024-09-09 22:16:35.887 +03:00 [INF] End processing HTTP request after 55.8717ms - 200
2024-09-09 22:16:35.897 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:35.900 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:35.903 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:35.905 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:35.907 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:35.911 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:35.920 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:35.930 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:35.935 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:35.937 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:16:35.943 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:35.947 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:35.949 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:35.952 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:35.955 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:35.960 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:35.962 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:35.965 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:16:35.968 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:35.977 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:35.985 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:35.988 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:16:35.992 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:35.997 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:16:35.999 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:36.001 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:36.004 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:36.007 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:36.010 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.016 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:36.018 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:36.021 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.024 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.026 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:36.030 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:16:36.032 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.040 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.050 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.053 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:16:36.059 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.063 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:36.066 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.071 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:16:36.074 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:16:36.076 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:16:36.089 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:16:36.093 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:16:36.095 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:16:36.097 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:36.099 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:36.101 +03:00 [DBG] Running health checks
2024-09-09 22:16:36.103 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:16:36.103 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:16:36.103 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:16:36.107 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.4369ms with message 'Database is available.'
2024-09-09 22:16:36.117 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 14.8626ms with message 'Available memory: 152211456 bytes.'
2024-09-09 22:16:36.131 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.8756ms with message 'Ping successful.'
2024-09-09 22:16:36.135 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.8413ms
2024-09-09 22:16:36.138 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:36.138 +03:00 [INF] Received HTTP response headers after 58.2355ms - 200
2024-09-09 22:16:36.139 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 51.0914ms
2024-09-09 22:16:36.142 +03:00 [INF] End processing HTTP request after 68.4697ms - 200
2024-09-09 22:16:36.150 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:36.153 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.156 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.158 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:36.160 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:36.163 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.169 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.178 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.181 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:16:36.184 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.187 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:36.190 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:36.193 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:36.196 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.198 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.200 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:36.202 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:36.204 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.211 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.217 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.220 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:36.224 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.228 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:36.231 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:36.233 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:36.235 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:36.238 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:36.240 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.244 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:36.247 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:36.249 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.252 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.253 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:36.256 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:36.259 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.263 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.271 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.274 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:16:36.278 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.280 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:36.283 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.287 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:16:36.289 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:16:36.292 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:16:36.295 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:16:36.298 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:16:36.300 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:16:36.302 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:36.304 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:36.307 +03:00 [DBG] Running health checks
2024-09-09 22:16:36.309 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:16:36.320 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.8519ms with message 'Available memory: 153362432 bytes.'
2024-09-09 22:16:36.324 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 16.9419ms
2024-09-09 22:16:36.326 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:36.328 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 33.3345ms
2024-09-09 22:16:36.327 +03:00 [INF] Received HTTP response headers after 33.358ms - 200
2024-09-09 22:16:36.336 +03:00 [INF] End processing HTTP request after 46.922ms - 200
2024-09-09 22:16:36.340 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:36.343 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.346 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.348 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:36.350 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:36.353 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.363 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.371 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.376 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.379 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.384 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.386 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 22:16:36.390 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.394 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:36.398 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:36.401 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:36.403 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.409 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.411 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:36.415 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:16:36.418 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.430 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.440 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.443 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:16:36.448 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.452 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:16:36.455 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:36.457 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:36.459 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:36.461 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:36.464 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.468 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:36.470 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.473 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:36.476 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:36.480 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:36.482 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.485 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:16:36.487 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:16:36.488 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.490 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:36.493 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:36.495 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.499 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.503 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.505 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:36.508 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.510 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:36.512 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:36.514 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:16:36.518 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:16:36.522 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.525 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:36.527 +03:00 [DBG] Committing transaction.
2024-09-09 22:16:36.532 +03:00 [DBG] Committed transaction.
2024-09-09 22:16:36.533 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.538 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:16:36.540 +03:00 [DBG] Disposing transaction.
2024-09-09 22:16:36.542 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.546 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.549 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:16:36.552 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:16:36.554 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:16:36.557 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:16:36.561 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:16:36.562 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:16:36.564 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:36.565 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:36.568 +03:00 [DBG] Running health checks
2024-09-09 22:16:36.569 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:16:36.572 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.3357ms with message 'Database is available.'
2024-09-09 22:16:36.575 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 7.863ms
2024-09-09 22:16:36.578 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:36.579 +03:00 [INF] Received HTTP response headers after 23.1022ms - 200
2024-09-09 22:16:36.580 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 23.1697ms
2024-09-09 22:16:36.582 +03:00 [INF] End processing HTTP request after 30.6304ms - 200
2024-09-09 22:16:36.592 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:36.595 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.599 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.600 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:36.602 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:36.605 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.610 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.616 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.619 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.621 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.623 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:16:36.626 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.629 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:36.631 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:36.634 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:36.636 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.638 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.640 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:36.642 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:36.645 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.650 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.656 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.658 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:36.661 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.663 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:36.666 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:36.667 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:36.669 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:36.671 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:36.674 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.678 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:36.681 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.684 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:36.686 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:36.688 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.690 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:16:36.692 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:16:36.694 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.696 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:36.698 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:36.700 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.704 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.708 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.710 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:36.713 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.715 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:36.717 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:36.719 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.723 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.728 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.730 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:16:36.733 +03:00 [DBG] Committing transaction.
2024-09-09 22:16:36.737 +03:00 [DBG] Committed transaction.
2024-09-09 22:16:36.738 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.741 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:36.744 +03:00 [DBG] Disposing transaction.
2024-09-09 22:16:36.745 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.747 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7227/api/Auth/login - application/json 62
2024-09-09 22:16:36.749 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.754 +03:00 [DBG] POST requests are not supported
2024-09-09 22:16:36.756 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:16:36.760 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:16:36.761 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:16:36.765 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:16:36.767 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2024-09-09 22:16:36.768 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:16:36.773 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:16:36.774 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:36.776 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:36.777 +03:00 [DBG] Endpoint 'MyApi.Controllers.v1.AuthController.Login (MyApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2024-09-09 22:16:36.777 +03:00 [DBG] Running health checks
2024-09-09 22:16:36.781 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:16:36.792 +03:00 [DBG] Request matched endpoint 'MyApi.Controllers.v1.AuthController.Login (MyApi)'
2024-09-09 22:16:36.797 +03:00 [DBG] The request has an origin header: 'https://localhost:7227'.
2024-09-09 22:16:36.799 +03:00 [INF] CORS policy execution successful.
2024-09-09 22:16:36.804 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:36.808 +03:00 [INF] Executing endpoint 'MyApi.Controllers.v1.AuthController.Login (MyApi)'
2024-09-09 22:16:36.810 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.5392ms with message 'Ping successful.'
2024-09-09 22:16:36.813 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.4476ms
2024-09-09 22:16:36.815 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:36.815 +03:00 [INF] Received HTTP response headers after 51.8481ms - 200
2024-09-09 22:16:36.817 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 51.8517ms
2024-09-09 22:16:36.818 +03:00 [INF] End processing HTTP request after 58.7265ms - 200
2024-09-09 22:16:36.826 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:36.828 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.830 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.831 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:36.833 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:36.835 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.840 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.844 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.847 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.848 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.850 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:16:36.853 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.855 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:36.855 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyApi.Controllers.v1.LoginModel) on controller MyApi.Controllers.v1.AuthController (MyApi).
2024-09-09 22:16:36.857 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:36.862 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:36.863 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-09 22:16:36.864 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.866 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-09 22:16:36.868 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.871 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-09 22:16:36.872 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:36.876 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-09 22:16:36.877 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:16:36.879 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-09 22:16:36.881 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.888 +03:00 [DBG] Executing controller factory for controller MyApi.Controllers.v1.AuthController (MyApi)
2024-09-09 22:16:36.890 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:36.893 +03:00 [DBG] Executed controller factory for controller MyApi.Controllers.v1.AuthController (MyApi)
2024-09-09 22:16:36.897 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.901 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:16:36.903 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.906 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:36.908 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:36.909 +03:00 [DBG] Attempting to bind parameter 'model' of type 'MyApi.Controllers.v1.LoginModel' ...
2024-09-09 22:16:36.909 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:36.913 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:36.915 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:36.917 +03:00 [DBG] Attempting to bind parameter 'model' of type 'MyApi.Controllers.v1.LoginModel' using the name '' in request data ...
2024-09-09 22:16:36.917 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.922 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:36.923 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-09 22:16:36.925 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.930 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:36.932 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:36.934 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.936 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:16:36.936 +03:00 [DBG] Connection id "0HN6H0FI8ACGI", Request id "0HN6H0FI8ACGI:00000009": started reading request body.
2024-09-09 22:16:36.938 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:16:36.940 +03:00 [DBG] Connection id "0HN6H0FI8ACGI", Request id "0HN6H0FI8ACGI:00000009": done reading request body.
2024-09-09 22:16:36.942 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.945 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:36.946 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'MyApi.Controllers.v1.LoginModel'
2024-09-09 22:16:36.947 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:16:36.949 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'MyApi.Controllers.v1.LoginModel'.
2024-09-09 22:16:36.950 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.952 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'MyApi.Controllers.v1.LoginModel'.
2024-09-09 22:16:36.955 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.959 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'MyApi.Controllers.v1.LoginModel' ...
2024-09-09 22:16:36.962 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.965 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:16:36.968 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:36.969 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:36.971 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:36.972 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.976 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:36.980 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.981 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:16:36.984 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'MyApi.Controllers.v1.LoginModel'.
2024-09-09 22:16:36.984 +03:00 [DBG] Committing transaction.
2024-09-09 22:16:36.989 +03:00 [DBG] Committed transaction.
2024-09-09 22:16:36.990 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:36.992 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:36.995 +03:00 [DBG] Disposing transaction.
2024-09-09 22:16:36.996 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:36.998 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:37.001 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:16:37.003 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:16:37.004 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:16:37.005 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:16:37.007 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:37.009 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:37.198 +03:00 [INF] User test.one@example.com logged in at "2024-09-09T22:16:37.1968131+03:00"
2024-09-09 22:16:37.210 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-09 22:16:37.217 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-09 22:16:37.218 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-09 22:16:37.220 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-09 22:16:37.225 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-09 22:16:37.239 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-09 22:16:37.264 +03:00 [INF] Executed action MyApi.Controllers.v1.AuthController.Login (MyApi) in 371.8523ms
2024-09-09 22:16:37.266 +03:00 [INF] Executed endpoint 'MyApi.Controllers.v1.AuthController.Login (MyApi)'
2024-09-09 22:16:37.267 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7227/api/Auth/login - 200 null application/json; charset=utf-8 520.4998ms
2024-09-09 22:16:47.020 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:16:47.032 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:16:47.036 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:16:47.038 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:16:47.040 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.042 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.046 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.048 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:47.050 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:47.053 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:16:47.057 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:16:47.060 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.063 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.066 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.068 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.071 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.073 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.075 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 22:16:47.078 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.080 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:47.083 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:16:47.085 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:16:47.090 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:16:47.093 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:16:47.095 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:16:47.097 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:47.099 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:47.101 +03:00 [DBG] Running health checks
2024-09-09 22:16:47.103 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:16:47.103 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:16:47.103 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:16:47.105 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.3664ms with message 'Database is available.'
2024-09-09 22:16:47.116 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 13.9006ms with message 'Available memory: 159686656 bytes.'
2024-09-09 22:16:47.135 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 32.5682ms with message 'Ping successful.'
2024-09-09 22:16:47.139 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.3196ms
2024-09-09 22:16:47.141 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:47.142 +03:00 [INF] Received HTTP response headers after 54.6789ms - 200
2024-09-09 22:16:47.143 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 53.5028ms
2024-09-09 22:16:47.146 +03:00 [INF] End processing HTTP request after 62.8173ms - 200
2024-09-09 22:16:47.154 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.156 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.161 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:47.163 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:47.166 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.172 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.178 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.181 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.183 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:16:47.186 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.188 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:47.191 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:47.193 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.195 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.197 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.198 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:47.200 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:47.202 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.207 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.212 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.214 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:16:47.217 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.219 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:47.221 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:47.222 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:47.224 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:47.226 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:47.228 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.231 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:47.233 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.235 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.238 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.240 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:47.242 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:47.244 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:47.248 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:47.254 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.256 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:16:47.259 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.262 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:47.265 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.269 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:16:47.272 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:16:47.273 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:16:47.277 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:16:47.280 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:16:47.282 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:16:47.284 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:47.285 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:47.288 +03:00 [DBG] Running health checks
2024-09-09 22:16:47.289 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:16:47.289 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:16:47.289 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:16:47.293 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.6373ms with message 'Database is available.'
2024-09-09 22:16:47.300 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.6172ms with message 'Available memory: 159952896 bytes.'
2024-09-09 22:16:47.321 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.5692ms with message 'Ping successful.'
2024-09-09 22:16:47.324 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 36.4863ms
2024-09-09 22:16:47.327 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:47.327 +03:00 [INF] Received HTTP response headers after 51.9714ms - 200
2024-09-09 22:16:47.329 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 52.1177ms
2024-09-09 22:16:47.331 +03:00 [INF] End processing HTTP request after 59.8439ms - 200
2024-09-09 22:16:47.340 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.342 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.344 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.346 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:47.349 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:47.351 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.357 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.363 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.365 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:47.368 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.371 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:47.374 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:47.376 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.379 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.381 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.383 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:47.385 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:47.388 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.396 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.403 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.405 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:47.408 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.410 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:47.413 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:47.414 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:47.416 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:47.418 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:47.421 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.425 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:47.427 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.429 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.431 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.433 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:47.435 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:47.438 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:47.444 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:47.452 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.455 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:16:47.458 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.461 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:47.464 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.469 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:16:47.471 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:16:47.474 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:16:47.478 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:16:47.483 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:16:47.485 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:16:47.488 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:47.490 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:47.492 +03:00 [DBG] Running health checks
2024-09-09 22:16:47.495 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:16:47.506 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.8686ms with message 'Available memory: 160174080 bytes.'
2024-09-09 22:16:47.509 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 17.2661ms
2024-09-09 22:16:47.512 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:47.512 +03:00 [INF] Received HTTP response headers after 36.25ms - 200
2024-09-09 22:16:47.515 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 37.3604ms
2024-09-09 22:16:47.517 +03:00 [INF] End processing HTTP request after 46.1263ms - 200
2024-09-09 22:16:47.526 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.528 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.532 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.534 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:47.536 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:47.539 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.547 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.553 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.556 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.558 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.561 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.563 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 22:16:47.566 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.568 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:16:47.570 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:47.572 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.573 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.575 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.578 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:47.580 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:47.581 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.586 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.591 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.593 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:47.596 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.598 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:47.600 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:47.602 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:47.603 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:47.605 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:47.608 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.612 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:47.614 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.618 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:47.620 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:47.623 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.625 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.627 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:16:47.629 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:16:47.630 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.632 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:47.634 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:47.636 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:47.641 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:47.646 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.647 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:16:47.650 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.651 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:47.653 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:47.655 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:16:47.659 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:16:47.662 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.664 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:16:47.667 +03:00 [DBG] Committing transaction.
2024-09-09 22:16:47.670 +03:00 [DBG] Committed transaction.
2024-09-09 22:16:47.672 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.674 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:47.676 +03:00 [DBG] Disposing transaction.
2024-09-09 22:16:47.677 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.680 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.682 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:16:47.684 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:16:47.686 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:16:47.690 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:16:47.694 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:16:47.696 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:16:47.698 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:47.699 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:47.701 +03:00 [DBG] Running health checks
2024-09-09 22:16:47.703 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:16:47.705 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0045ms with message 'Database is available.'
2024-09-09 22:16:47.708 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.1443ms
2024-09-09 22:16:47.710 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:47.710 +03:00 [INF] Received HTTP response headers after 21.7152ms - 200
2024-09-09 22:16:47.711 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 21.5606ms
2024-09-09 22:16:47.713 +03:00 [INF] End processing HTTP request after 28.7218ms - 200
2024-09-09 22:16:47.722 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.724 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.727 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.729 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:47.732 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:47.734 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.740 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.745 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.748 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.750 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.752 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:16:47.754 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.757 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:47.759 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:47.760 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.763 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.765 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.767 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:47.769 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:47.771 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.776 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.781 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.782 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:16:47.785 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.787 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:16:47.788 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:47.790 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:47.791 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:47.793 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:47.795 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.799 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:47.800 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.803 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:47.805 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.807 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.810 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:16:47.811 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:16:47.813 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.814 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:47.816 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:47.818 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:47.821 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:47.826 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.828 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:16:47.831 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.833 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:47.834 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:47.836 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:47.840 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:47.844 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.846 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:16:47.848 +03:00 [DBG] Committing transaction.
2024-09-09 22:16:47.850 +03:00 [DBG] Committed transaction.
2024-09-09 22:16:47.852 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.854 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:47.857 +03:00 [DBG] Disposing transaction.
2024-09-09 22:16:47.859 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.862 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.865 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:16:47.867 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:16:47.868 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:16:47.872 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:16:47.875 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:16:47.877 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:16:47.879 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:47.880 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:47.882 +03:00 [DBG] Running health checks
2024-09-09 22:16:47.884 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:16:47.912 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.2499ms with message 'Ping successful.'
2024-09-09 22:16:47.916 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.6808ms
2024-09-09 22:16:47.918 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:47.919 +03:00 [INF] Received HTTP response headers after 48.3406ms - 200
2024-09-09 22:16:47.920 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 48.5571ms
2024-09-09 22:16:47.923 +03:00 [INF] End processing HTTP request after 55.8007ms - 200
2024-09-09 22:16:47.931 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.933 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.936 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.938 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:47.940 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:47.942 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.948 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.954 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.957 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:47.959 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.961 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:16:47.963 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.966 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:47.968 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:47.970 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:47.972 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.975 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:47.977 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:47.979 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:47.981 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.987 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:47.992 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:47.994 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:47.997 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:48.000 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:48.003 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:48.004 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:48.006 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:48.008 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:48.011 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:48.015 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:48.017 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:48.020 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:48.023 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:48.025 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:48.027 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:16:48.029 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:16:48.031 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:48.032 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:48.034 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:48.036 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:48.040 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:48.044 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:48.046 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:16:48.049 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:48.051 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:48.053 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:48.055 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:48.058 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:48.063 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:48.065 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:48.068 +03:00 [DBG] Committing transaction.
2024-09-09 22:16:48.072 +03:00 [DBG] Committed transaction.
2024-09-09 22:16:48.074 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:48.076 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:48.080 +03:00 [DBG] Disposing transaction.
2024-09-09 22:16:48.081 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:48.085 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:48.090 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:16:48.092 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:16:48.094 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:16:48.095 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:16:48.097 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:48.099 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:16:58.101 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:16:58.105 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:16:58.109 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:16:58.110 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:16:58.112 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:58.114 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.117 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:58.119 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:58.121 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:58.123 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:16:58.128 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:16:58.136 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.140 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.143 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.147 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.150 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.153 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.155 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 19ms reading results.
2024-09-09 22:16:58.158 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.162 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:58.165 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:16:58.167 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:16:58.171 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:16:58.175 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:16:58.178 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:16:58.180 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:58.181 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:58.183 +03:00 [DBG] Running health checks
2024-09-09 22:16:58.185 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:16:58.185 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:16:58.185 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:16:58.187 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.4011ms with message 'Database is available.'
2024-09-09 22:16:58.199 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 13.8859ms with message 'Available memory: 165773312 bytes.'
2024-09-09 22:16:58.217 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 32.4956ms with message 'Ping successful.'
2024-09-09 22:16:58.222 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 38.6924ms
2024-09-09 22:16:58.225 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:58.225 +03:00 [INF] Received HTTP response headers after 56.0581ms - 200
2024-09-09 22:16:58.228 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 56.973ms
2024-09-09 22:16:58.230 +03:00 [INF] End processing HTTP request after 65.4958ms - 200
2024-09-09 22:16:58.239 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:58.242 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.245 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:58.247 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:58.250 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:16:58.252 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.262 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.269 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.274 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.276 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:16:58.281 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.284 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:58.288 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:58.291 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:58.293 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.297 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:58.300 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:58.303 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:16:58.306 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.314 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.321 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.324 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:58.328 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.331 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:58.335 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:58.338 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:58.340 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:58.342 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:58.346 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.352 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:58.356 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:58.359 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.362 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:58.366 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:58.369 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:16:58.371 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:58.376 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:58.386 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.389 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:16:58.393 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.397 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:16:58.400 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.404 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:16:58.407 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:16:58.410 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:16:58.414 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:16:58.419 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:16:58.422 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:16:58.424 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:58.426 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:58.428 +03:00 [DBG] Running health checks
2024-09-09 22:16:58.430 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:16:58.430 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:16:58.430 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:16:58.435 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.3931ms with message 'Database is available.'
2024-09-09 22:16:58.443 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 13.1628ms with message 'Available memory: 166068224 bytes.'
2024-09-09 22:16:58.464 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 33.5868ms with message 'Ping successful.'
2024-09-09 22:16:58.468 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 39.8115ms
2024-09-09 22:16:58.470 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:58.470 +03:00 [INF] Received HTTP response headers after 58.5186ms - 200
2024-09-09 22:16:58.472 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 58.2231ms
2024-09-09 22:16:58.474 +03:00 [INF] End processing HTTP request after 66.7025ms - 200
2024-09-09 22:16:58.484 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:58.486 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.489 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:58.491 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:58.493 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:58.496 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.501 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.509 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.511 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:58.516 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.518 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:58.521 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:58.524 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:58.525 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.528 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:58.530 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:58.532 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:58.534 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.540 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.547 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.549 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:58.552 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.556 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:58.558 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:58.560 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:58.563 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:58.565 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:58.568 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.572 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:58.574 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:58.576 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.579 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:58.581 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:58.583 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:58.585 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:58.590 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:58.596 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.597 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:16:58.601 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.604 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:58.606 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.610 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:16:58.612 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:16:58.614 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:16:58.619 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:16:58.623 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:16:58.626 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:16:58.627 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:58.629 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:58.631 +03:00 [DBG] Running health checks
2024-09-09 22:16:58.632 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:16:58.644 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.6731ms with message 'Available memory: 166383616 bytes.'
2024-09-09 22:16:58.647 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 16.4435ms
2024-09-09 22:16:58.650 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:58.650 +03:00 [INF] Received HTTP response headers after 32.7213ms - 200
2024-09-09 22:16:58.651 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 32.7722ms
2024-09-09 22:16:58.653 +03:00 [INF] End processing HTTP request after 40.5457ms - 200
2024-09-09 22:16:58.661 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:58.662 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.665 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:58.667 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:58.669 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:58.671 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.677 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.685 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.688 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.692 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.695 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.698 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:16:58.701 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.704 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:58.706 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:58.708 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:58.711 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.718 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:58.721 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:58.724 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:16:58.728 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.737 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.745 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.748 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:58.752 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.755 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:58.758 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:58.760 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:58.763 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:58.765 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:58.768 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.772 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:58.777 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.782 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:58.786 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:58.789 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:58.792 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.796 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:16:58.798 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:16:58.801 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:58.803 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:58.806 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:16:58.810 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:58.816 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:58.823 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.826 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:16:58.830 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:58.833 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:58.847 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-09-09 22:16:58.854 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:16:58.859 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:16:58.865 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.867 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:58.871 +03:00 [DBG] Committing transaction.
2024-09-09 22:16:58.875 +03:00 [DBG] Committed transaction.
2024-09-09 22:16:58.877 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.880 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:58.883 +03:00 [DBG] Disposing transaction.
2024-09-09 22:16:58.885 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.889 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.892 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:16:58.895 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:16:58.896 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:16:58.901 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:16:58.905 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:16:58.908 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:16:58.910 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:58.912 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:58.914 +03:00 [DBG] Running health checks
2024-09-09 22:16:58.917 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:16:58.920 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.4508ms with message 'Database is available.'
2024-09-09 22:16:58.924 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 9.6771ms
2024-09-09 22:16:58.928 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:58.928 +03:00 [INF] Received HTTP response headers after 29.1905ms - 200
2024-09-09 22:16:58.930 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 29.1228ms
2024-09-09 22:16:58.932 +03:00 [INF] End processing HTTP request after 37.7804ms - 200
2024-09-09 22:16:58.942 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:58.945 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.948 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:58.951 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:58.954 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:16:58.956 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.964 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:58.972 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.975 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:58.978 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.981 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:16:58.984 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.987 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:58.990 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:58.992 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:58.994 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:58.997 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:58.999 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:59.002 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:59.004 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:59.012 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:59.019 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.021 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:59.026 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.029 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:59.032 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:59.035 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:59.037 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:59.040 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:59.044 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:59.048 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:59.052 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:59.056 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:59.058 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:59.060 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.064 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:16:59.066 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:16:59.069 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:59.071 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:16:59.073 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:59.076 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:59.081 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:59.086 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.088 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:59.092 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:59.093 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:59.096 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:59.098 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:59.105 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:59.110 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.112 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:59.117 +03:00 [DBG] Committing transaction.
2024-09-09 22:16:59.120 +03:00 [DBG] Committed transaction.
2024-09-09 22:16:59.121 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.124 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:16:59.128 +03:00 [DBG] Disposing transaction.
2024-09-09 22:16:59.129 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:59.133 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:59.136 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:16:59.138 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:16:59.140 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:16:59.144 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:16:59.148 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:16:59.150 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:16:59.151 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:16:59.153 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:16:59.155 +03:00 [DBG] Running health checks
2024-09-09 22:16:59.157 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:16:59.191 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 34.418ms with message 'Ping successful.'
2024-09-09 22:16:59.195 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 39.5686ms
2024-09-09 22:16:59.197 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:16:59.197 +03:00 [INF] Received HTTP response headers after 55.313ms - 200
2024-09-09 22:16:59.199 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 55.191ms
2024-09-09 22:16:59.200 +03:00 [INF] End processing HTTP request after 62.272ms - 200
2024-09-09 22:16:59.208 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:59.210 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.213 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:59.214 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:59.216 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:59.218 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:59.229 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:59.235 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:59.237 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:59.240 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.242 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:16:59.245 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.247 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:59.250 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:16:59.252 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:59.254 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.257 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:59.258 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:59.261 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:16:59.263 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:59.271 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:16:59.278 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.281 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:59.284 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.287 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:59.289 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:16:59.291 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:59.292 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:16:59.295 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:59.297 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:59.301 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:16:59.303 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:59.306 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:16:59.309 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:59.311 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.313 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:16:59.315 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:16:59.316 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:59.318 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:59.319 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:59.321 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:59.325 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:59.328 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.330 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:59.333 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:16:59.335 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:16:59.336 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:16:59.338 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:59.342 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:16:59.346 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.348 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:16:59.359 +03:00 [DBG] Committing transaction.
2024-09-09 22:16:59.366 +03:00 [DBG] Committed transaction.
2024-09-09 22:16:59.367 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:16:59.369 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:16:59.371 +03:00 [DBG] Disposing transaction.
2024-09-09 22:16:59.372 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:59.377 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:16:59.380 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:16:59.382 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:16:59.383 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:16:59.384 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:16:59.386 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:16:59.388 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:01.870 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/api/Authors/1 - null null
2024-09-09 22:17:01.876 +03:00 [DBG] The request path /api/Authors/1 does not match a supported file type
2024-09-09 22:17:01.883 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authors/1'
2024-09-09 22:17:01.891 +03:00 [DBG] Endpoint 'MyApi.Controllers.v1.AuthorsController.GetAuthor (MyApi)' with route pattern 'api/Authors/{id}' is valid for the request path '/api/Authors/1'
2024-09-09 22:17:01.898 +03:00 [DBG] Request matched endpoint 'MyApi.Controllers.v1.AuthorsController.GetAuthor (MyApi)'
2024-09-09 22:17:02.008 +03:00 [DBG] Successfully validated the token.
2024-09-09 22:17:02.014 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-09 22:17:02.032 +03:00 [DBG] Authorization was successful.
2024-09-09 22:17:02.034 +03:00 [INF] Executing endpoint 'MyApi.Controllers.v1.AuthorsController.GetAuthor (MyApi)'
2024-09-09 22:17:02.050 +03:00 [INF] Route matched with {action = "GetAuthor", controller = "Authors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAuthor(Int32) on controller MyApi.Controllers.v1.AuthorsController (MyApi).
2024-09-09 22:17:02.059 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-09 22:17:02.064 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-09 22:17:02.068 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-09 22:17:02.076 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-09 22:17:02.080 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-09 22:17:02.086 +03:00 [DBG] Executing controller factory for controller MyApi.Controllers.v1.AuthorsController (MyApi)
2024-09-09 22:17:02.090 +03:00 [DBG] Executed controller factory for controller MyApi.Controllers.v1.AuthorsController (MyApi)
2024-09-09 22:17:02.095 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-09 22:17:02.100 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-09 22:17:02.105 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-09 22:17:02.108 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-09 22:17:02.113 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-09 22:17:02.118 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-09 22:17:02.129 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-09 22:17:02.136 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-09 22:17:02.139 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-09 22:17:02.142 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-09 22:17:02.146 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-09 22:17:02.150 +03:00 [INF] Executing OkObjectResult, writing value of type 'MyApi.Models.Author'.
2024-09-09 22:17:02.157 +03:00 [INF] Executed action MyApi.Controllers.v1.AuthorsController.GetAuthor (MyApi) in 70.5767ms
2024-09-09 22:17:02.160 +03:00 [INF] Executed endpoint 'MyApi.Controllers.v1.AuthorsController.GetAuthor (MyApi)'
2024-09-09 22:17:02.164 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/api/Authors/1 - 200 null application/json; charset=utf-8 294.1051ms
2024-09-09 22:17:08.360 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/api/v1/variative/number - null null
2024-09-09 22:17:08.365 +03:00 [DBG] The request path /api/v1/variative/number does not match a supported file type
2024-09-09 22:17:08.370 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/variative/number'
2024-09-09 22:17:08.374 +03:00 [DBG] Endpoint 'MyApi.Controllers.v1.VariativeController.GetNumber (MyApi)' with route pattern 'api/v{version:apiVersion}/variative/number' is valid for the request path '/api/v1/variative/number'
2024-09-09 22:17:08.378 +03:00 [DBG] Request matched endpoint 'MyApi.Controllers.v1.VariativeController.GetNumber (MyApi)'
2024-09-09 22:17:08.381 +03:00 [DBG] Successfully validated the token.
2024-09-09 22:17:08.382 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-09 22:17:08.387 +03:00 [DBG] Authorization was successful.
2024-09-09 22:17:08.389 +03:00 [INF] Executing endpoint 'MyApi.Controllers.v1.VariativeController.GetNumber (MyApi)'
2024-09-09 22:17:08.394 +03:00 [INF] Route matched with {action = "GetNumber", controller = "Variative"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetNumber() on controller MyApi.Controllers.v1.VariativeController (MyApi).
2024-09-09 22:17:08.399 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-09 22:17:08.402 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-09 22:17:08.405 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-09 22:17:08.410 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-09 22:17:08.413 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-09 22:17:08.417 +03:00 [DBG] Executing controller factory for controller MyApi.Controllers.v1.VariativeController (MyApi)
2024-09-09 22:17:08.421 +03:00 [DBG] Executed controller factory for controller MyApi.Controllers.v1.VariativeController (MyApi)
2024-09-09 22:17:08.424 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-09 22:17:08.428 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-09 22:17:08.430 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-09 22:17:08.432 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-09 22:17:08.434 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-09 22:17:08.437 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2024-09-09 22:17:08.445 +03:00 [INF] Executed action MyApi.Controllers.v1.VariativeController.GetNumber (MyApi) in 28.6721ms
2024-09-09 22:17:08.448 +03:00 [INF] Executed endpoint 'MyApi.Controllers.v1.VariativeController.GetNumber (MyApi)'
2024-09-09 22:17:08.450 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/api/v1/variative/number - 200 null application/json; charset=utf-8 90.2133ms
2024-09-09 22:17:09.403 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:17:09.406 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:17:09.409 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:17:09.410 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:17:09.412 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:09.414 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.416 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:09.417 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:09.419 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:09.421 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:09.424 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:09.427 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:09.429 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:09.431 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:09.433 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:09.436 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:09.438 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.440 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:17:09.443 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.445 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:09.447 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:17:09.448 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:17:09.451 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:17:09.455 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:17:09.456 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:17:09.458 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:09.459 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:09.461 +03:00 [DBG] Running health checks
2024-09-09 22:17:09.462 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:09.462 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:09.463 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:09.466 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.9491ms with message 'Database is available.'
2024-09-09 22:17:09.473 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.8311ms with message 'Available memory: 167641088 bytes.'
2024-09-09 22:17:09.495 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 32.4257ms with message 'Ping successful.'
2024-09-09 22:17:09.498 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.3049ms
2024-09-09 22:17:09.501 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:09.501 +03:00 [INF] Received HTTP response headers after 51.5448ms - 200
2024-09-09 22:17:09.503 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 51.7541ms
2024-09-09 22:17:09.505 +03:00 [INF] End processing HTTP request after 58.2304ms - 200
2024-09-09 22:17:09.512 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:09.514 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.517 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:09.519 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:09.521 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:09.523 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:09.529 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:09.535 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:09.537 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.539 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:09.544 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.547 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:09.549 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:09.552 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:09.555 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.559 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:09.561 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:09.564 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:09.568 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:09.577 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:09.584 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.587 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:09.590 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.593 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:09.596 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:09.598 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:09.600 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:09.602 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:09.606 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:09.609 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:09.612 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:09.614 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.617 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:09.619 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:09.622 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:09.624 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:09.629 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:09.635 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.637 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:09.640 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.642 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:09.645 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:09.648 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:17:09.651 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:17:09.653 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:17:09.657 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:17:09.661 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:17:09.663 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:17:09.665 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:09.667 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:09.669 +03:00 [DBG] Running health checks
2024-09-09 22:17:09.670 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:09.670 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:09.670 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:09.675 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.4739ms with message 'Database is available.'
2024-09-09 22:17:09.686 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 15.9562ms with message 'Available memory: 168624128 bytes.'
2024-09-09 22:17:09.703 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 33.256ms with message 'Ping successful.'
2024-09-09 22:17:09.708 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 39.233ms
2024-09-09 22:17:09.711 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:09.711 +03:00 [INF] Received HTTP response headers after 55.9216ms - 200
2024-09-09 22:17:09.713 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 56.083ms
2024-09-09 22:17:09.715 +03:00 [INF] End processing HTTP request after 64.3603ms - 200
2024-09-09 22:17:09.722 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:09.724 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.726 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:09.727 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:09.729 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:09.732 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:09.738 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:09.743 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.746 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:09.749 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.751 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:09.754 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:09.756 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:09.762 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.766 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:09.770 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:09.772 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:09.773 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:09.779 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:09.784 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.786 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:09.788 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.791 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:09.795 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:09.798 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:09.800 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:09.802 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:09.805 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:09.809 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:09.812 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:09.814 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.817 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:09.819 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:09.822 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:09.823 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:09.829 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:09.837 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.840 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:17:09.845 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.848 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:09.851 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:09.854 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:17:09.857 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:17:09.858 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:17:09.862 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:17:09.866 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:17:09.867 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:17:09.869 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:09.871 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:09.873 +03:00 [DBG] Running health checks
2024-09-09 22:17:09.875 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:09.889 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 14.8279ms with message 'Available memory: 168837120 bytes.'
2024-09-09 22:17:09.894 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 20.5366ms
2024-09-09 22:17:09.896 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:09.897 +03:00 [INF] Received HTTP response headers after 36.6429ms - 200
2024-09-09 22:17:09.899 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 37.8528ms
2024-09-09 22:17:09.902 +03:00 [INF] End processing HTTP request after 45.3016ms - 200
2024-09-09 22:17:09.913 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:09.917 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.921 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:09.923 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:09.926 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:09.928 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:09.938 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:09.945 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:09.949 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:09.953 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:09.957 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.960 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 22:17:09.965 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.968 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:09.971 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:09.974 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:09.977 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:09.980 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:09.984 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:09.987 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:09.989 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:09.999 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:10.006 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.009 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:10.012 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.016 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:10.020 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:10.022 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:10.024 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:10.026 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:10.029 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.035 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:10.038 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.043 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:10.047 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:10.050 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:10.052 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.056 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:10.061 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:10.064 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:10.068 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:10.073 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:17:10.076 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:10.082 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:10.089 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.091 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:10.096 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:10.098 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:10.101 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:10.105 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:17:10.110 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:17:10.116 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.120 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:10.124 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:10.129 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:10.131 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.136 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:10.139 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:10.141 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.144 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.149 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:10.152 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:17:10.154 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:17:10.159 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:17:10.163 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:17:10.165 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:17:10.167 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:10.169 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:10.171 +03:00 [DBG] Running health checks
2024-09-09 22:17:10.173 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:10.175 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.4567ms with message 'Database is available.'
2024-09-09 22:17:10.179 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 7.6791ms
2024-09-09 22:17:10.182 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:10.182 +03:00 [INF] Received HTTP response headers after 24.6297ms - 200
2024-09-09 22:17:10.184 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 24.3094ms
2024-09-09 22:17:10.186 +03:00 [INF] End processing HTTP request after 33.6224ms - 200
2024-09-09 22:17:10.195 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:10.198 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.200 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:10.202 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:10.204 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:10.206 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:10.212 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:10.223 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.227 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.230 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.233 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 22:17:10.238 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.242 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:10.246 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:10.249 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:10.252 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.257 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:10.259 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:10.263 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:17:10.267 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:10.278 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:10.288 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.292 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:10.296 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.300 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:10.303 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:10.306 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:10.309 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:10.311 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:10.314 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.318 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:10.323 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.327 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:10.330 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:10.332 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.335 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:10.338 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:10.340 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:10.343 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:10.346 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:10.349 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:10.358 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:10.371 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.376 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:10.380 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:10.382 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:10.386 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:17:10.390 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:10.398 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:10.404 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.407 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:10.411 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:10.415 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:10.417 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.419 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:10.422 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:10.423 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.427 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.430 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:10.432 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:17:10.434 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:17:10.437 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:17:10.441 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:17:10.443 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:17:10.444 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:10.446 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:10.448 +03:00 [DBG] Running health checks
2024-09-09 22:17:10.449 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:10.478 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.0161ms with message 'Ping successful.'
2024-09-09 22:17:10.481 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.7022ms
2024-09-09 22:17:10.484 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:10.484 +03:00 [INF] Received HTTP response headers after 48.5253ms - 200
2024-09-09 22:17:10.486 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 48.8535ms
2024-09-09 22:17:10.488 +03:00 [INF] End processing HTTP request after 56.1073ms - 200
2024-09-09 22:17:10.496 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:10.499 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.502 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:10.505 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:10.507 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:10.510 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:10.517 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:10.525 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.528 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.532 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.534 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:17:10.538 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.541 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:10.544 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:10.546 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:10.548 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.551 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:10.554 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:10.557 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:10.560 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:10.565 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:10.572 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.575 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:10.578 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.581 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:10.584 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:10.587 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:10.589 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:10.592 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:10.595 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.599 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:10.602 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.607 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:10.611 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:10.613 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.616 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:10.618 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:10.621 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:10.623 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:10.625 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:10.628 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:10.632 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:10.637 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.640 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:10.643 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:10.645 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:10.648 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:10.650 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:10.655 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:10.659 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.662 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:10.665 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:10.669 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:10.670 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:10.673 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:10.676 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:10.679 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.684 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:10.688 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:10.690 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:17:10.693 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:17:10.694 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:17:10.697 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:10.699 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:12.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/swagger/v2/swagger.json - null null
2024-09-09 22:17:12.068 +03:00 [DBG] The request path /swagger/v2/swagger.json does not match an existing file
2024-09-09 22:17:12.070 +03:00 [DBG] No candidates found for the request path '/swagger/v2/swagger.json'
2024-09-09 22:17:12.072 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:12.074 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:12.079 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/swagger/v2/swagger.json - 200 null application/json;charset=utf-8 15.8887ms
2024-09-09 22:17:15.305 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/api/v2/variative/text - null null
2024-09-09 22:17:15.310 +03:00 [DBG] The request path /api/v2/variative/text does not match a supported file type
2024-09-09 22:17:15.313 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v2/variative/text'
2024-09-09 22:17:15.316 +03:00 [DBG] Endpoint 'MyApi.Controllers.v2.VariativeController.GetText (MyApi)' with route pattern 'api/v{version:apiVersion}/variative/text' is valid for the request path '/api/v2/variative/text'
2024-09-09 22:17:15.320 +03:00 [DBG] Request matched endpoint 'MyApi.Controllers.v2.VariativeController.GetText (MyApi)'
2024-09-09 22:17:15.322 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:15.328 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-09-09 22:17:15.332 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-09 22:17:15.345 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-09 22:17:15.348 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/api/v2/variative/text - 401 0 null 42.7064ms
2024-09-09 22:17:20.707 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:17:20.710 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:17:20.714 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:17:20.716 +03:00 [DBG] Created DbConnection. (2ms).
2024-09-09 22:17:20.719 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:20.722 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:20.725 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:20.727 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:20.730 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:20.733 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:20.737 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:20.742 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:20.744 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:20.748 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:20.750 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:20.753 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:20.757 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:20.759 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 18ms reading results.
2024-09-09 22:17:20.763 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:20.766 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:20.769 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:17:20.772 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:17:20.777 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:17:20.781 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:17:20.784 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:17:20.787 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:20.788 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:20.791 +03:00 [DBG] Running health checks
2024-09-09 22:17:20.793 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:20.793 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:20.793 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:20.797 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.5173ms with message 'Database is available.'
2024-09-09 22:17:20.805 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 12.4658ms with message 'Available memory: 172654592 bytes.'
2024-09-09 22:17:20.826 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 33.0383ms with message 'Ping successful.'
2024-09-09 22:17:20.830 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 38.8189ms
2024-09-09 22:17:20.833 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:20.833 +03:00 [INF] Received HTTP response headers after 58.5984ms - 200
2024-09-09 22:17:20.835 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 58.8356ms
2024-09-09 22:17:20.837 +03:00 [INF] End processing HTTP request after 67.6839ms - 200
2024-09-09 22:17:20.845 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:20.847 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:20.849 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:20.850 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:20.852 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:20.854 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:20.859 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:20.865 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:20.867 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:20.869 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:20.872 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:20.874 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:20.876 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:20.878 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:20.880 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:20.883 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:20.884 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:20.886 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:20.888 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:20.894 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:20.899 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:20.901 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:20.904 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:20.907 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:20.910 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:20.912 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:20.913 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:20.915 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:20.917 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:20.920 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:20.922 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:20.924 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:20.926 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:20.928 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:20.930 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:20.932 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:20.936 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:20.943 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:20.946 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:20.948 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:20.951 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:20.954 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:20.958 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:17:20.960 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:17:20.961 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:17:20.965 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:17:20.968 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:17:20.970 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:17:20.972 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:20.973 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:20.975 +03:00 [DBG] Running health checks
2024-09-09 22:17:20.977 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:20.977 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:20.977 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:20.981 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 4.061ms with message 'Database is available.'
2024-09-09 22:17:20.989 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.9186ms with message 'Available memory: 172969984 bytes.'
2024-09-09 22:17:21.009 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 32.2035ms with message 'Ping successful.'
2024-09-09 22:17:21.013 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.238ms
2024-09-09 22:17:21.015 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:21.015 +03:00 [INF] Received HTTP response headers after 52.507ms - 200
2024-09-09 22:17:21.017 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 52.7408ms
2024-09-09 22:17:21.019 +03:00 [INF] End processing HTTP request after 59.3894ms - 200
2024-09-09 22:17:21.027 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:21.029 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.033 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.036 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:21.038 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:21.040 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.047 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.054 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.056 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:21.060 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.064 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:21.066 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:21.068 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:21.070 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.073 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.075 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:21.077 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:21.079 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.085 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.092 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.094 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:21.097 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.099 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:21.101 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:21.103 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:21.104 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:21.106 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:21.108 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.112 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:21.114 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:21.116 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.118 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.120 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:21.122 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:21.124 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:21.128 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:21.135 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.137 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:21.140 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.143 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:21.145 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.148 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:17:21.150 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:17:21.152 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:17:21.155 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:17:21.159 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:17:21.161 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:17:21.163 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:21.164 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:21.166 +03:00 [DBG] Running health checks
2024-09-09 22:17:21.167 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:21.178 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.3618ms with message 'Available memory: 173248512 bytes.'
2024-09-09 22:17:21.181 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 15.7355ms
2024-09-09 22:17:21.184 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:21.184 +03:00 [INF] Received HTTP response headers after 30.5549ms - 200
2024-09-09 22:17:21.185 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 30.4207ms
2024-09-09 22:17:21.187 +03:00 [INF] End processing HTTP request after 37.2371ms - 200
2024-09-09 22:17:21.195 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:21.197 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.199 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.201 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:21.203 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:21.205 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.211 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.216 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.218 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.222 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.224 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.226 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 22:17:21.229 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.231 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:21.234 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:21.236 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:21.238 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.240 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.242 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:21.244 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:21.246 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.252 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.259 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.262 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:21.266 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.269 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:21.273 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:21.275 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:21.277 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:21.280 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:21.282 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.287 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:21.289 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.293 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:21.296 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:21.299 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:21.302 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.306 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:21.308 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:21.311 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.313 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:21.315 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:21.318 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:21.326 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:21.330 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.332 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:21.336 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.338 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:21.340 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:21.344 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:17:21.348 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:17:21.353 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.356 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:21.359 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:21.363 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:21.365 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.368 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:21.371 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:21.373 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.377 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.381 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:21.383 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:17:21.385 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:17:21.389 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:17:21.393 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:17:21.395 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:17:21.397 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:21.400 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:21.402 +03:00 [DBG] Running health checks
2024-09-09 22:17:21.404 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:21.406 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.5091ms with message 'Database is available.'
2024-09-09 22:17:21.410 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 8.5348ms
2024-09-09 22:17:21.413 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:21.413 +03:00 [INF] Received HTTP response headers after 25.6653ms - 200
2024-09-09 22:17:21.416 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 26.7078ms
2024-09-09 22:17:21.418 +03:00 [INF] End processing HTTP request after 35.4702ms - 200
2024-09-09 22:17:21.429 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:21.432 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.434 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.436 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:21.438 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:21.441 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.447 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.453 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.456 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.459 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.461 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:17:21.464 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.466 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:21.468 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:21.470 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:21.473 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.476 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.479 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:21.482 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:21.485 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.494 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.504 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.507 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:21.511 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.514 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:21.517 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:21.519 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:21.522 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:21.524 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:21.528 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.533 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:21.537 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.542 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:21.544 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:21.547 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.551 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:21.553 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:21.555 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.558 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:21.561 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:21.563 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:21.570 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:21.576 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.579 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:21.585 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.588 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:21.592 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:21.597 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:21.603 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:21.610 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.613 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:21.617 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:21.622 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:21.623 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.627 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:21.629 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:21.631 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.635 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.638 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:21.641 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:17:21.643 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:17:21.647 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:17:21.651 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:17:21.652 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:17:21.654 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:21.656 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:21.658 +03:00 [DBG] Running health checks
2024-09-09 22:17:21.660 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:21.689 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.0301ms with message 'Ping successful.'
2024-09-09 22:17:21.692 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.1264ms
2024-09-09 22:17:21.695 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:21.695 +03:00 [INF] Received HTTP response headers after 49.4024ms - 200
2024-09-09 22:17:21.696 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 49.12ms
2024-09-09 22:17:21.698 +03:00 [INF] End processing HTTP request after 56.9524ms - 200
2024-09-09 22:17:21.705 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:21.707 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.710 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.712 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:21.714 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:21.716 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.727 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.733 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.736 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.738 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.741 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:17:21.744 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.750 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:17:21.753 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:21.755 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:21.757 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.760 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.762 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:21.765 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:21.767 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.773 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:21.778 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.780 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:21.783 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.785 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:21.788 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:21.789 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:21.791 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:21.793 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:21.796 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.800 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:21.802 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.806 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:21.808 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:21.809 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.812 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:21.814 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:21.816 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.817 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:21.819 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:21.822 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:21.826 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:21.831 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.833 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:21.836 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:21.838 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:21.840 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:21.843 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:21.847 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:21.851 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.853 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:21.856 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:21.860 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:21.861 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:21.864 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:21.866 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:21.868 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.872 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:21.875 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:21.878 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:17:21.879 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:17:21.881 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:17:21.883 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:21.885 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:24.534 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/api/v2/variative/text - null null
2024-09-09 22:17:24.540 +03:00 [DBG] The request path /api/v2/variative/text does not match a supported file type
2024-09-09 22:17:24.543 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v2/variative/text'
2024-09-09 22:17:24.551 +03:00 [DBG] Endpoint 'MyApi.Controllers.v2.VariativeController.GetText (MyApi)' with route pattern 'api/v{version:apiVersion}/variative/text' is valid for the request path '/api/v2/variative/text'
2024-09-09 22:17:24.555 +03:00 [DBG] Request matched endpoint 'MyApi.Controllers.v2.VariativeController.GetText (MyApi)'
2024-09-09 22:17:24.558 +03:00 [DBG] Successfully validated the token.
2024-09-09 22:17:24.560 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-09 22:17:24.563 +03:00 [DBG] Authorization was successful.
2024-09-09 22:17:24.564 +03:00 [INF] Executing endpoint 'MyApi.Controllers.v2.VariativeController.GetText (MyApi)'
2024-09-09 22:17:24.570 +03:00 [INF] Route matched with {action = "GetText", controller = "Variative"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetText() on controller MyApi.Controllers.v2.VariativeController (MyApi).
2024-09-09 22:17:24.573 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-09 22:17:24.576 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-09 22:17:24.579 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-09 22:17:24.584 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-09 22:17:24.587 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2024-09-09 22:17:24.591 +03:00 [DBG] Executing controller factory for controller MyApi.Controllers.v2.VariativeController (MyApi)
2024-09-09 22:17:24.594 +03:00 [DBG] Executed controller factory for controller MyApi.Controllers.v2.VariativeController (MyApi)
2024-09-09 22:17:24.598 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-09 22:17:24.602 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-09 22:17:24.604 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-09 22:17:24.605 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-09 22:17:24.607 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-09 22:17:24.610 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-09 22:17:24.613 +03:00 [INF] Executed action MyApi.Controllers.v2.VariativeController.GetText (MyApi) in 22.3032ms
2024-09-09 22:17:24.616 +03:00 [INF] Executed endpoint 'MyApi.Controllers.v2.VariativeController.GetText (MyApi)'
2024-09-09 22:17:24.618 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/api/v2/variative/text - 200 null text/plain; charset=utf-8 83.7663ms
2024-09-09 22:17:31.902 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:17:31.905 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:17:31.909 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:17:31.910 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:17:31.912 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:31.914 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:31.916 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:31.918 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:31.920 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:31.922 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:31.926 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:31.930 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:31.932 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:31.934 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:31.937 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:31.939 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:31.941 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:31.943 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:17:31.946 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:31.948 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:31.951 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:17:31.953 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:17:31.956 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:17:31.959 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:17:31.961 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:17:31.963 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:31.964 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:31.966 +03:00 [DBG] Running health checks
2024-09-09 22:17:31.967 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:31.967 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:31.968 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:31.971 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.9473ms with message 'Database is available.'
2024-09-09 22:17:31.977 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 9.5701ms with message 'Available memory: 173486080 bytes.'
2024-09-09 22:17:32.000 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 32.9208ms with message 'Ping successful.'
2024-09-09 22:17:32.004 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 37.9267ms
2024-09-09 22:17:32.006 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:32.006 +03:00 [INF] Received HTTP response headers after 51.9178ms - 200
2024-09-09 22:17:32.008 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 52.4324ms
2024-09-09 22:17:32.009 +03:00 [INF] End processing HTTP request after 58.3862ms - 200
2024-09-09 22:17:32.017 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.019 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.021 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.022 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:32.024 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:32.026 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.031 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.036 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.038 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.040 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:32.042 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.045 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.047 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:32.049 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.051 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.053 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.055 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:32.056 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:32.058 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.063 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.068 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.070 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:32.073 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.075 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.077 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:32.079 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:32.080 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:32.082 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:32.085 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.088 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:32.090 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.093 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.096 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.098 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:32.100 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:32.102 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.108 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.116 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.118 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:32.121 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.124 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.126 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.129 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:17:32.131 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:17:32.132 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:17:32.135 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:17:32.138 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:17:32.140 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:17:32.142 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:32.143 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:32.145 +03:00 [DBG] Running health checks
2024-09-09 22:17:32.147 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:32.147 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:32.147 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:32.150 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.5017ms with message 'Database is available.'
2024-09-09 22:17:32.157 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.5486ms with message 'Available memory: 174383104 bytes.'
2024-09-09 22:17:32.178 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.2338ms with message 'Ping successful.'
2024-09-09 22:17:32.181 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.6116ms
2024-09-09 22:17:32.183 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:32.183 +03:00 [INF] Received HTTP response headers after 49.2053ms - 200
2024-09-09 22:17:32.184 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 49.3942ms
2024-09-09 22:17:32.186 +03:00 [INF] End processing HTTP request after 55.9112ms - 200
2024-09-09 22:17:32.195 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.197 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.199 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.201 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:32.204 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:32.207 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.213 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.219 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.221 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:32.225 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.227 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.230 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:32.231 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.234 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.236 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.238 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:32.240 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:32.242 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.247 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.253 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.255 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:32.258 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.260 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.263 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:32.265 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:32.267 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:32.269 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:32.272 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.276 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:32.277 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.280 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.283 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.285 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:32.287 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:32.289 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.294 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.300 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.302 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:32.305 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.308 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.310 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.313 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:17:32.315 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:17:32.316 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:17:32.319 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:17:32.323 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:17:32.325 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:17:32.326 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:32.327 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:32.329 +03:00 [DBG] Running health checks
2024-09-09 22:17:32.330 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:32.340 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.035ms with message 'Available memory: 174608384 bytes.'
2024-09-09 22:17:32.344 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 15.1075ms
2024-09-09 22:17:32.347 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:32.347 +03:00 [INF] Received HTTP response headers after 29.2402ms - 200
2024-09-09 22:17:32.349 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 29.8317ms
2024-09-09 22:17:32.351 +03:00 [INF] End processing HTTP request after 36.4269ms - 200
2024-09-09 22:17:32.359 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.360 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.363 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.364 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:32.366 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:32.368 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.373 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.378 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.380 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.383 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.385 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.387 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:17:32.390 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.393 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.395 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:32.396 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.398 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.400 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.402 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:32.404 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:32.407 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.413 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.418 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.420 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:32.423 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.425 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.427 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:32.428 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:32.430 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:32.431 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:32.434 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.437 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:32.440 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.443 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:32.446 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:32.448 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.450 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.452 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:32.454 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:32.456 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.457 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:32.459 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:32.461 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.465 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.469 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.471 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:32.474 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.476 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:32.479 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:32.480 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:17:32.484 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:17:32.488 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.489 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:32.492 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:32.495 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:32.496 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.498 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.500 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:32.502 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.505 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.508 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:32.510 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:17:32.512 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:17:32.516 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:17:32.519 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:17:32.520 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:17:32.522 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:32.523 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:32.525 +03:00 [DBG] Running health checks
2024-09-09 22:17:32.526 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:32.528 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.8064ms with message 'Database is available.'
2024-09-09 22:17:32.531 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.9662ms
2024-09-09 22:17:32.533 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:32.534 +03:00 [INF] Received HTTP response headers after 19.4767ms - 200
2024-09-09 22:17:32.535 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 19.4578ms
2024-09-09 22:17:32.537 +03:00 [INF] End processing HTTP request after 26.2321ms - 200
2024-09-09 22:17:32.543 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.545 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.547 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.549 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:32.551 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:32.552 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.558 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.564 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.566 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.568 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.570 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:17:32.573 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.576 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.578 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:32.580 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.582 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.584 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.586 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:32.588 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:32.590 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.595 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.600 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.602 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:32.606 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.608 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.611 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:32.612 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:32.615 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:32.617 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:32.620 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.624 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:32.626 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.630 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:32.632 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.635 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.638 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:32.641 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:32.643 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.645 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:32.648 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:32.652 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.658 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.664 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.667 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:32.671 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.674 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:32.676 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:32.679 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.685 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.690 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.692 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:32.696 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:32.699 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:32.700 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.703 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:32.706 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:32.708 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.711 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.716 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:32.719 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:17:32.721 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:17:32.725 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:17:32.730 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:17:32.732 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:17:32.734 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:32.736 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:32.738 +03:00 [DBG] Running health checks
2024-09-09 22:17:32.740 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:32.769 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.1446ms with message 'Ping successful.'
2024-09-09 22:17:32.772 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 33.9038ms
2024-09-09 22:17:32.774 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:32.775 +03:00 [INF] Received HTTP response headers after 50.7133ms - 200
2024-09-09 22:17:32.776 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 50.7175ms
2024-09-09 22:17:32.778 +03:00 [INF] End processing HTTP request after 58.7998ms - 200
2024-09-09 22:17:32.784 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.786 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.788 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.789 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:32.792 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:32.793 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.798 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.803 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.805 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.808 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.810 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:17:32.812 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.814 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.817 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:32.818 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.820 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.822 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.824 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:32.826 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:32.828 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.833 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:32.838 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.840 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:32.843 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.845 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.847 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:32.849 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:32.851 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:32.853 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:32.856 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.859 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:32.861 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.864 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:32.866 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.868 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.871 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:32.873 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:32.875 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.876 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:32.879 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:32.881 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.885 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.889 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.891 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:32.894 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:32.896 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:32.897 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:32.900 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.904 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:32.909 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.911 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:32.914 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:32.919 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:32.921 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:32.923 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:32.926 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:32.927 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.931 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:32.934 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:32.936 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:17:32.937 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:17:32.939 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:17:32.940 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:32.942 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:33.845 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/health-ui - null null
2024-09-09 22:17:33.853 +03:00 [DBG] The request path /health-ui does not match a supported file type
2024-09-09 22:17:33.855 +03:00 [DBG] No candidates found for the request path '/health-ui'
2024-09-09 22:17:33.856 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:33.858 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:33.863 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-09 22:17:33.865 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-09 22:17:33.867 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/health-ui - 200 null text/html 22.1776ms
2024-09-09 22:17:33.881 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/ui/resources/healthchecksui-min.css - null null
2024-09-09 22:17:33.881 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/ui/resources/vendors-dll.js - null null
2024-09-09 22:17:33.881 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/ui/resources/healthchecks-bundle.js - null null
2024-09-09 22:17:33.886 +03:00 [DBG] The request path /ui/resources/healthchecksui-min.css does not match an existing file
2024-09-09 22:17:33.891 +03:00 [DBG] The request path /ui/resources/vendors-dll.js does not match an existing file
2024-09-09 22:17:33.895 +03:00 [DBG] The request path /ui/resources/healthchecks-bundle.js does not match an existing file
2024-09-09 22:17:33.896 +03:00 [DBG] No candidates found for the request path '/ui/resources/healthchecksui-min.css'
2024-09-09 22:17:33.898 +03:00 [DBG] No candidates found for the request path '/ui/resources/vendors-dll.js'
2024-09-09 22:17:33.900 +03:00 [DBG] No candidates found for the request path '/ui/resources/healthchecks-bundle.js'
2024-09-09 22:17:33.902 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:33.904 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:33.906 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:33.907 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:33.909 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:33.910 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:33.927 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/ui/resources/healthchecksui-min.css - 200 null text/css 46.6758ms
2024-09-09 22:17:33.934 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - null null
2024-09-09 22:17:33.947 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/ui/resources/vendors-dll.js - 200 null text/javascript 66.7008ms
2024-09-09 22:17:33.964 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/ui/resources/healthchecks-bundle.js - 200 null text/javascript 83.1185ms
2024-09-09 22:17:33.964 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 29.6365ms
2024-09-09 22:17:33.972 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_vs/browserLink - null null
2024-09-09 22:17:34.015 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.3991ms
2024-09-09 22:17:34.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/healthchecks-api/ui-settings - null null
2024-09-09 22:17:34.131 +03:00 [DBG] The request path /healthchecks-api/ui-settings does not match a supported file type
2024-09-09 22:17:34.133 +03:00 [DBG] No candidates found for the request path '/healthchecks-api/ui-settings'
2024-09-09 22:17:34.136 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:34.138 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:34.145 +03:00 [DBG] Executing api middleware for client ::1, remaining slots: 2
2024-09-09 22:17:34.155 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:17:34.159 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:17:34.161 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:17:34.164 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.167 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.171 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.173 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.175 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:34.177 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:34.181 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:34.185 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:34.188 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:34.190 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:34.193 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:34.196 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:34.199 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.202 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 16ms reading results.
2024-09-09 22:17:34.206 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.208 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.214 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckExecution>()
    .Include(le => le.Entries
        .OrderBy(e => e.Name))
    .Where(le => le.Name == __item_Name_0)
    .AsNoTracking()
    .SingleOrDefault()'
2024-09-09 22:17:34.229 +03:00 [DBG] Including navigation: 'HealthCheckExecution.Entries'.
2024-09-09 22:17:34.262 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<HealthCheckExecution>(
    asyncEnumerable: new SingleQueryingEnumerable<HealthCheckExecution>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: HealthCheckExecution.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckExecution.DiscoveryService (string) MaxLength(50), 1], [Property: HealthCheckExecution.LastExecuted (DateTime) Required, 2], [Property: HealthCheckExecution.Name (string) Required MaxLength(500), 3], [Property: HealthCheckExecution.OnStateFrom (DateTime) Required, 4], [Property: HealthCheckExecution.Status (UIHealthStatus) Required, 5], [Property: HealthCheckExecution.Uri (string) Required MaxLength(500), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionEntry.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: HealthCheckExecutionEntry.Description (string), 8], [Property: HealthCheckExecutionEntry.Duration (TimeSpan) Required, 9], [Property: HealthCheckExecutionEntry.HealthCheckExecutionId (no field, int?) Shadow FK Index, 10], [Property: HealthCheckExecutionEntry.Name (string) Required MaxLength(500), 11], [Property: HealthCheckExecutionEntry.Status (UIHealthStatus) Required, 12], [Property: HealthCheckExecutionEntry.Tags (List<string>), 13] }
                3 -> 7
            SELECT t.Id, t.DiscoveryService, t.LastExecuted, t.Name, t.OnStateFrom, t.Status, t.Uri, h.Id, h.Description, h.Duration, h.HealthCheckExecutionId, h.Name, h.Status, h.Tags
            FROM 
            (
                SELECT TOP(2) e.Id, e.DiscoveryService, e.LastExecuted, e.Name, e.OnStateFrom, e.Status, e.Uri
                FROM Executions AS e
                WHERE e.Name == @__item_Name_0
            ) AS t
            LEFT JOIN HealthCheckExecutionEntries AS h ON t.Id == h.HealthCheckExecutionId
            ORDER BY t.Id ASC, h.Name ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckExecution>, 
        HealthChecks.UI.Data.HealthChecksDb, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-09 22:17:34.271 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.272 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.276 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.277 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:34.282 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.290 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.300 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.302 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:17:34.308 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.310 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:34.318 +03:00 [DBG] Compiling query expression: 
'DbSet<HealthCheckExecutionHistory>()
    .Where(eh => EF.Property<int>(eh, "HealthCheckExecutionId") == __execution_Id_0)
    .OrderByDescending(eh => eh.On)
    .Take(__p_1)'
2024-09-09 22:17:34.332 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<HealthCheckExecutionHistory>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: HealthCheckExecutionHistory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: HealthCheckExecutionHistory.Description (string), 1], [Property: HealthCheckExecutionHistory.HealthCheckExecutionId (no field, int?) Shadow FK Index, 2], [Property: HealthCheckExecutionHistory.Name (string) MaxLength(500), 3], [Property: HealthCheckExecutionHistory.On (DateTime) Required, 4], [Property: HealthCheckExecutionHistory.Status (UIHealthStatus) Required MaxLength(50), 5] }
        SELECT TOP(@__p_1) h.Id, h.Description, h.HealthCheckExecutionId, h.Name, h.On, h.Status
        FROM HealthCheckExecutionHistories AS h
        WHERE h.HealthCheckExecutionId == @__execution_Id_0
        ORDER BY h.On DESC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, HealthCheckExecutionHistory>, 
    HealthChecks.UI.Data.HealthChecksDb, 
    False, 
    False, 
    True
)'
2024-09-09 22:17:34.350 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.353 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.355 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.357 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.359 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.362 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.366 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.372 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.374 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:34.378 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.382 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:34.385 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.387 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.389 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.391 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.393 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.395 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.400 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.405 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.406 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:34.409 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.411 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:34.414 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.415 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.417 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.419 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.421 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.422 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.426 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.430 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.432 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:34.435 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.437 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.440 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.442 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.444 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.446 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.447 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.449 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.454 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__item_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.458 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.461 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:34.464 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.466 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.468 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.470 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.472 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.474 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.476 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.478 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.481 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.485 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:34.487 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.489 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:34.492 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.494 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.497 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.498 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.500 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.502 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.504 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.506 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.510 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__item_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.515 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.517 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:34.520 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.522 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.525 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.526 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.528 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.530 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.531 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.533 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.537 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.544 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.546 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:34.549 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.551 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.554 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.557 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.559 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.561 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.563 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.565 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.571 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.576 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.579 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:34.581 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.584 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.587 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.590 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.592 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.595 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.598 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:34.600 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.605 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.610 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.613 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:34.616 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.619 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:34.650 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:17:34.652 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.655 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.658 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/healthchecks-api/ui-settings - 200 null application/json; charset=utf-8 530.9818ms
2024-09-09 22:17:34.690 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/healthchecks-api - null null
2024-09-09 22:17:34.694 +03:00 [DBG] The request path /healthchecks-api does not match a supported file type
2024-09-09 22:17:34.696 +03:00 [DBG] No candidates found for the request path '/healthchecks-api'
2024-09-09 22:17:34.697 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:34.699 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:34.700 +03:00 [DBG] Executing api middleware for client ::1, remaining slots: 2
2024-09-09 22:17:34.703 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:17:34.706 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:17:34.707 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:17:34.709 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.711 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.713 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.714 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.716 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.718 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:34.721 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:34.725 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:34.727 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:34.729 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:34.731 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:34.734 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:34.736 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.738 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:17:34.741 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.743 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.745 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.747 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.749 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.751 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.753 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.755 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.760 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.764 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.766 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:34.768 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.771 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.775 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.777 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.780 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.781 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.783 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.785 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.789 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.793 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.796 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:34.798 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.800 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.803 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.805 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.808 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.810 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:34.812 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:34.815 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.821 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.827 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.829 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:34.831 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.834 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.837 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.839 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.842 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.844 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.846 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:34.848 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.853 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.858 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.860 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:34.865 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.868 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.871 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.873 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.875 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.877 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.879 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.882 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.887 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__item_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.892 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.894 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:34.898 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.900 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.903 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.905 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.908 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.910 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.912 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.915 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.919 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.923 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:34.926 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.928 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:34.930 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.932 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:34.935 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.937 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.939 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.940 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.942 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.943 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.948 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__item_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:34.952 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.954 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:34.956 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.959 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.962 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.964 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.966 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.968 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.969 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.971 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.975 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:34.980 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.982 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:34.984 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.986 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:34.989 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:34.990 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:34.992 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:34.994 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:34.995 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:34.997 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.001 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.005 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.007 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:35.010 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.012 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:35.014 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.016 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.017 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.019 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:35.020 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:35.022 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.026 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.031 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.033 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:35.036 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.038 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:35.041 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:17:35.043 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.045 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:35.047 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/healthchecks-api - 200 null application/json; charset=utf-8 357.5344ms
2024-09-09 22:17:35.305 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/healthchecks-api/ui-settings - null null
2024-09-09 22:17:35.305 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/healthchecks-api - null null
2024-09-09 22:17:35.310 +03:00 [DBG] The request path /healthchecks-api/ui-settings does not match a supported file type
2024-09-09 22:17:35.315 +03:00 [DBG] The request path /healthchecks-api does not match a supported file type
2024-09-09 22:17:35.317 +03:00 [DBG] No candidates found for the request path '/healthchecks-api/ui-settings'
2024-09-09 22:17:35.319 +03:00 [DBG] No candidates found for the request path '/healthchecks-api'
2024-09-09 22:17:35.321 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:35.323 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:35.325 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:35.326 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:35.328 +03:00 [DBG] Executing api middleware for client ::1, remaining slots: 2
2024-09-09 22:17:35.330 +03:00 [DBG] Executing api middleware for client ::1, remaining slots: 1
2024-09-09 22:17:35.334 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:17:35.337 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:17:35.340 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:17:35.343 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:17:35.345 +03:00 [DBG] Created DbConnection. (4ms).
2024-09-09 22:17:35.346 +03:00 [DBG] Created DbConnection. (2ms).
2024-09-09 22:17:35.347 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.350 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.352 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.355 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.359 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.362 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.363 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:35.365 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:35.367 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:17:35.369 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:35.371 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:35.373 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:35.376 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:35.384 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:35.386 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:35.389 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:35.392 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:35.394 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:35.394 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:35.399 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:35.402 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.404 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:35.406 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 22ms reading results.
2024-09-09 22:17:35.409 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:35.413 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.416 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:35.419 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:17:35.423 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:35.426 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.429 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.431 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.434 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 34ms reading results.
2024-09-09 22:17:35.437 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.440 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.443 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:35.446 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:17:35.449 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-09 22:17:35.452 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.454 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.458 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.465 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.468 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.479 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.481 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2024-09-09 22:17:35.484 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:35.486 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-09-09 22:17:35.490 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.492 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.496 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:17:35.503 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.506 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.513 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.516 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.518 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:35.522 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.526 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.528 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:35.531 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:17:35.534 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-09 22:17:35.537 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.539 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.542 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.548 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.551 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.556 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.558 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:17:35.560 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:35.562 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-09 22:17:35.566 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.568 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.571 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:35.575 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.578 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.584 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.586 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.589 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:35.591 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.594 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.595 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:35.598 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:35.600 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:17:35.603 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.605 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.607 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.612 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.615 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.620 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.622 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:35.625 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:35.627 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-09 22:17:35.631 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.634 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.637 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:17:35.642 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.645 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.651 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.653 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.656 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:17:35.660 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.664 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.666 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:35.670 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:17:35.672 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-09 22:17:35.677 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.680 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.684 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.690 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.693 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.699 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.701 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:35.703 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:35.705 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-09 22:17:35.708 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.711 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.713 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:35.718 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.720 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.726 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.728 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.730 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:35.734 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.736 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.739 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:35.742 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:17:35.744 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-09 22:17:35.748 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.749 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.751 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.758 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__item_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.760 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.766 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.768 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:35.771 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:35.773 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-09-09 22:17:35.776 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.778 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.782 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:17:35.788 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__item_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.790 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.795 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.797 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.799 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:35.801 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.804 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.806 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:35.808 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:35.811 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:17:35.814 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.815 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.818 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.822 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.827 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.831 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:35.833 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:35.835 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.837 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:17:35.839 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:17:35.841 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.843 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.848 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.850 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:17:35.854 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:35.857 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.859 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.861 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.863 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:17:35.866 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.869 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.870 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:35.873 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:35.875 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:17:35.878 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.880 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.882 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.887 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__item_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.889 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.894 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.896 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:35.898 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:35.900 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-09 22:17:35.903 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.906 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.909 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:17:35.914 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__item_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:35.917 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.922 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.924 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.926 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:35.929 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.932 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.933 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:35.936 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:35.938 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:17:35.941 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.943 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.945 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.949 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.951 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.955 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.957 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:35.960 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:35.962 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-09 22:17:35.965 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.967 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.969 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:35.974 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:35.976 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:35.980 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.982 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.985 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:17:35.987 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:35.990 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:35.992 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:35.994 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:35.996 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:17:35.999 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:36.000 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:36.002 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:36.008 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:36.010 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:36.015 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:36.016 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:17:36.018 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:36.021 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-09 22:17:36.024 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:36.025 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:36.028 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:36.034 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:36.037 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:36.042 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:36.044 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:36.046 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:36.050 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:36.053 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:36.054 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:36.057 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:36.059 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:17:36.061 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:36.063 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:36.065 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:36.070 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:36.072 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:36.076 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:36.078 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:17:36.080 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:36.082 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-09 22:17:36.085 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:36.087 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:36.089 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:36.093 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:36.096 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:17:36.100 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:36.102 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:36.104 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:36.106 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:36.108 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:36.111 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/healthchecks-api/ui-settings - 200 null application/json; charset=utf-8 805.9331ms
2024-09-09 22:17:36.113 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:36.121 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:17:36.122 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:36.125 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:36.128 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/healthchecks-api - 200 null application/json; charset=utf-8 822.8115ms
2024-09-09 22:17:42.683 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/index.html - null null
2024-09-09 22:17:42.692 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/healthchecks-api - null null
2024-09-09 22:17:42.692 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/healthchecks-api/ui-settings - null null
2024-09-09 22:17:42.697 +03:00 [DBG] The request path /healthchecks-api does not match a supported file type
2024-09-09 22:17:42.701 +03:00 [DBG] The request path /healthchecks-api/ui-settings does not match a supported file type
2024-09-09 22:17:42.702 +03:00 [INF] The file /index.html was not modified
2024-09-09 22:17:42.703 +03:00 [DBG] No candidates found for the request path '/healthchecks-api'
2024-09-09 22:17:42.705 +03:00 [DBG] No candidates found for the request path '/healthchecks-api/ui-settings'
2024-09-09 22:17:42.707 +03:00 [DBG] Handled. Status code: 304 File: /index.html
2024-09-09 22:17:42.709 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:42.711 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:42.714 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/index.html - 304 null text/html 31.1879ms
2024-09-09 22:17:42.715 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:42.717 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:42.724 +03:00 [DBG] Executing api middleware for client ::1, remaining slots: 2
2024-09-09 22:17:42.726 +03:00 [DBG] Executing api middleware for client ::1, remaining slots: 1
2024-09-09 22:17:42.730 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:17:42.732 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:17:42.735 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:17:42.739 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:17:42.741 +03:00 [DBG] Created DbConnection. (5ms).
2024-09-09 22:17:42.742 +03:00 [DBG] Created DbConnection. (3ms).
2024-09-09 22:17:42.744 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:42.746 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:42.748 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.750 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.753 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:42.757 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:42.759 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:42.761 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:42.763 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:17:42.765 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:17:42.767 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:42.769 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:42.773 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:42.776 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:42.780 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:42.784 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:42.786 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:42.789 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:42.791 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:42.793 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:42.795 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:42.798 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:42.800 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:42.805 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - null null
2024-09-09 22:17:42.803 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:42.806 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7227/_vs/browserLink - null null
2024-09-09 22:17:42.807 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.826 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.832 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 52ms reading results.
2024-09-09 22:17:42.836 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 52ms reading results.
2024-09-09 22:17:42.841 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.814 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_framework/aspnetcore-browser-refresh.js - 200 13746 application/javascript; charset=utf-8 8.9894ms
2024-09-09 22:17:42.842 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7227/stockHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2024-09-09 22:17:42.854 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.854 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.0687ms
2024-09-09 22:17:42.857 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (15ms).
2024-09-09 22:17:42.864 +03:00 [DBG] POST requests are not supported
2024-09-09 22:17:42.867 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (12ms).
2024-09-09 22:17:42.874 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:42.875 +03:00 [DBG] 1 candidate(s) found for the request path '/stockHub/negotiate'
2024-09-09 22:17:42.878 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:42.880 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.882 +03:00 [DBG] Request matched endpoint '/stockHub/negotiate'
2024-09-09 22:17:42.884 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.887 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:42.889 +03:00 [DBG] The request has an origin header: 'https://localhost:7227'.
2024-09-09 22:17:42.890 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:42.892 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:42.894 +03:00 [INF] CORS policy execution successful.
2024-09-09 22:17:42.896 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:42.898 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-09 22:17:42.900 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:42.902 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-09 22:17:42.904 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:42.906 +03:00 [INF] Executing endpoint '/stockHub/negotiate'
2024-09-09 22:17:42.908 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:42.915 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:42.921 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:42.926 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.929 +03:00 [DBG] New connection V-c6knoyjs6txD9O_jo-Kw created.
2024-09-09 22:17:42.932 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.934 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:17:42.938 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:17:42.940 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.942 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.945 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:17:42.947 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (4ms).
2024-09-09 22:17:42.947 +03:00 [DBG] Sending negotiation response.
2024-09-09 22:17:42.950 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:42.951 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:42.953 +03:00 [INF] Executed endpoint '/stockHub/negotiate'
2024-09-09 22:17:42.954 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.956 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:42.958 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7227/stockHub/negotiate?negotiateVersion=1 - 200 316 application/json 115.802ms
2024-09-09 22:17:42.958 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:17:42.962 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:42.964 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:42.972 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:17:42.972 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-09-09 22:17:42.979 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:17:42.974 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-09-09 22:17:42.981 +03:00 [INF] Request starting HTTP/2 CONNECT https://localhost:7227/stockHub?id=mk-_4bSORL3TJ0vZKY-GZw - null null
2024-09-09 22:17:42.983 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2024-09-09 22:17:42.985 +03:00 [DBG] Created DbConnection. (5ms).
2024-09-09 22:17:42.987 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2024-09-09 22:17:42.991 +03:00 [DBG] CONNECT requests are not supported
2024-09-09 22:17:42.993 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:42.996 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:42.998 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:42.999 +03:00 [DBG] 1 candidate(s) found for the request path '/stockHub'
2024-09-09 22:17:43.004 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.007 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.011 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.013 +03:00 [DBG] Request matched endpoint '/stockHub'
2024-09-09 22:17:43.018 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.021 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.025 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.027 +03:00 [DBG] The request has an origin header: 'https://localhost:7227'.
2024-09-09 22:17:43.029 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 22:17:43.031 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:17:43.033 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:17:43.035 +03:00 [INF] CORS policy execution successful.
2024-09-09 22:17:43.037 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.039 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-09-09 22:17:43.042 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.043 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:43.045 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:17:43.047 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:43.049 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:17:43.051 +03:00 [INF] Executing endpoint '/stockHub'
2024-09-09 22:17:43.054 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.058 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:43.059 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.062 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.066 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:43.069 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.072 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.075 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:43.077 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.078 +03:00 [DBG] OnConnectedAsync started.
2024-09-09 22:17:43.079 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:43.082 +03:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2024-09-09 22:17:43.083 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:43.085 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:43.097 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:43.099 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2024-09-09 22:17:43.090 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-09-09 22:17:43.102 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:43.105 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.112 +03:00 [DBG] Found protocol implementation for requested protocol: json.
2024-09-09 22:17:43.110 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.117 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.123 +03:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2024-09-09 22:17:43.121 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 55ms reading results.
2024-09-09 22:17:43.129 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.107 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.135 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.137 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:17:43.143 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.146 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (11ms).
2024-09-09 22:17:43.149 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.154 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.157 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:17:43.160 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (10ms).
2024-09-09 22:17:43.162 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:17:43.164 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:17:43.166 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.170 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.173 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:17:43.175 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.177 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:17:43.181 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:17:43.183 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.186 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.188 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:17:43.190 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:17:43.192 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.195 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:43.197 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-09-09 22:17:43.200 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.203 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:43.206 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.209 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:17:43.211 +03:00 [DBG] Running health checks
2024-09-09 22:17:43.218 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.224 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:43.224 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:43.220 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-09-09 22:17:43.224 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:43.229 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.231 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 6.7258ms with message 'Database is available.'
2024-09-09 22:17:43.234 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.239 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:17:43.241 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 17.3197ms with message 'Available memory: 185294848 bytes.'
2024-09-09 22:17:43.245 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.248 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.256 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.259 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (10ms).
2024-09-09 22:17:43.261 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:43.263 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 38.7494ms with message 'Ping successful.'
2024-09-09 22:17:43.264 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.267 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.270 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 58.9966ms
2024-09-09 22:17:43.273 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.276 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (8ms).
2024-09-09 22:17:43.278 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:43.278 +03:00 [INF] Received HTTP response headers after 106.6963ms - 200
2024-09-09 22:17:43.280 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.283 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.284 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 111.4158ms
2024-09-09 22:17:43.286 +03:00 [INF] End processing HTTP request after 129.1635ms - 200
2024-09-09 22:17:43.288 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:17:43.290 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.298 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.299 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-09-09 22:17:43.301 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.303 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.305 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.307 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:43.309 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.315 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__item_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.317 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-09-09 22:17:43.318 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-09 22:17:43.325 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.326 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.329 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-09-09 22:17:43.331 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:17:43.336 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__item_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.339 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:43.343 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.350 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.357 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:43.360 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (16ms).
2024-09-09 22:17:43.362 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 22:17:43.368 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:43.371 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.374 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.377 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.379 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.382 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (8ms).
2024-09-09 22:17:43.384 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 16ms reading results.
2024-09-09 22:17:43.387 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.389 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.392 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.394 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:43.397 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.399 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:17:43.401 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-09-09 22:17:43.403 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.406 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:43.408 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.409 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:17:43.411 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.415 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.416 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-09-09 22:17:43.418 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.422 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:43.424 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.427 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.429 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.433 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.434 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:43.436 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:17:43.441 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:43.443 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-09-09 22:17:43.446 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.448 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.450 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:43.452 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:17:43.455 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:17:43.460 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:43.462 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.464 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.469 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.472 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.474 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (9ms).
2024-09-09 22:17:43.476 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:17:43.478 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.480 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.483 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.484 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:17:43.486 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.488 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:17:43.490 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-09 22:17:43.492 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.495 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:43.496 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.498 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:43.499 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:43.505 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__item_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.506 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-09-09 22:17:43.508 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:43.513 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.515 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.517 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:43.519 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:17:43.524 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__item_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.526 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:43.529 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.534 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.537 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:43.539 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (9ms).
2024-09-09 22:17:43.541 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:17:43.543 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.545 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.547 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.549 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.551 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.554 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (6ms).
2024-09-09 22:17:43.556 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.559 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.562 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.563 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:43.566 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:17:43.567 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.568 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-09 22:17:43.570 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-09 22:17:43.572 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.574 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:43.576 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.577 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:43.581 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:43.585 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.586 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-09-09 22:17:43.592 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.594 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.596 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.598 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:17:43.600 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:17:43.603 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.605 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.607 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.611 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.613 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:17:43.615 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:17:43.617 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:17:43.619 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:43.622 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.624 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.628 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:17:43.631 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.633 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (8ms).
2024-09-09 22:17:43.635 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:17:43.637 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.639 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.641 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:17:43.642 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:43.644 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.648 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:17:43.649 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-09 22:17:43.651 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.655 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:17:43.656 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.659 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:43.660 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:17:43.664 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.665 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-09-09 22:17:43.667 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:43.671 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.673 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.675 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:43.676 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:17:43.681 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__item_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."Duration", "h"."HealthCheckExecutionId", "h"."Name", "h"."Status", "h"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__item_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionEntries" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Name"
2024-09-09 22:17:43.682 +03:00 [DBG] Running health checks
2024-09-09 22:17:43.686 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.693 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:43.693 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:43.696 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (10ms).
2024-09-09 22:17:43.691 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.693 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:43.699 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 6.4251ms with message 'Database is available.'
2024-09-09 22:17:43.702 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.704 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:17:43.717 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.717 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 24.4172ms with message 'Available memory: 186540032 bytes.'
2024-09-09 22:17:43.721 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.724 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.0993ms with message 'Ping successful.'
2024-09-09 22:17:43.725 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.732 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (10ms).
2024-09-09 22:17:43.735 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 52.9422ms
2024-09-09 22:17:43.737 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2024-09-09 22:17:43.741 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.743 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:43.743 +03:00 [INF] Received HTTP response headers after 96.1574ms - 200
2024-09-09 22:17:43.745 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-09-09 22:17:43.747 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.749 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 101.2453ms
2024-09-09 22:17:43.751 +03:00 [INF] End processing HTTP request after 116.572ms - 200
2024-09-09 22:17:43.754 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.757 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.763 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.769 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.771 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2024-09-09 22:17:43.773 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.779 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.782 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2024-09-09 22:17:43.786 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.789 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:17:43.791 +03:00 [DBG] Executing DbCommand [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.793 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:43.796 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.803 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__execution_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status"
FROM "HealthCheckExecutionHistories" AS "h"
WHERE "h"."HealthCheckExecutionId" = @__execution_Id_0
ORDER BY "h"."On" DESC
LIMIT @__p_1
2024-09-09 22:17:43.805 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-09-09 22:17:43.808 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (11ms).
2024-09-09 22:17:43.814 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.817 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:43.823 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:17:43.828 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:17:43.831 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:43.834 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.836 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.844 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.847 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (13ms).
2024-09-09 22:17:43.849 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (13ms).
2024-09-09 22:17:43.851 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:17:43.855 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:17:43.856 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/healthchecks-api/ui-settings - 499 null application/json; charset=utf-8 1164.4466ms
2024-09-09 22:17:43.859 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.862 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.870 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (10ms).
2024-09-09 22:17:43.872 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (9ms).
2024-09-09 22:17:43.876 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:43.878 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7227/healthchecks-api - 499 null application/json; charset=utf-8 1186.7435ms
2024-09-09 22:17:43.881 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.888 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.890 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.892 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:43.894 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:43.897 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:43.904 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:43.909 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.911 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:43.914 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.916 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:43.919 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:43.920 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:43.921 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:43.923 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:43.926 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:43.928 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:43.930 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:43.932 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.934 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:43.936 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:43.938 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:43.941 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:43.945 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:43.951 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.953 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:17:43.956 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:43.958 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:43.960 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:43.963 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:17:43.965 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:17:43.967 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:17:43.969 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:17:43.973 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:17:43.975 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:17:43.976 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:43.978 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:43.979 +03:00 [DBG] Running health checks
2024-09-09 22:17:43.981 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:43.991 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.4531ms with message 'Available memory: 188039168 bytes.'
2024-09-09 22:17:43.994 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 14.9121ms
2024-09-09 22:17:43.997 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:43.997 +03:00 [INF] Received HTTP response headers after 29.0043ms - 200
2024-09-09 22:17:43.999 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 29.6241ms
2024-09-09 22:17:44.001 +03:00 [INF] End processing HTTP request after 35.979ms - 200
2024-09-09 22:17:44.008 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:44.010 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.012 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:44.014 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:44.016 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:44.018 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:44.024 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:44.029 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.031 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.033 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.036 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.038 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:17:44.040 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.042 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:44.044 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:44.046 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:44.047 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.050 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:44.051 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:44.053 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:44.055 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:44.059 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:44.064 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.066 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:44.069 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.071 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:44.073 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:44.075 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:44.077 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:44.078 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:44.081 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.085 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:44.087 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.090 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:44.093 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:44.095 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:44.097 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.100 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:44.102 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:44.104 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:44.105 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:44.107 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:44.110 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:44.114 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:44.118 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.120 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:44.123 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:44.125 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:44.127 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:44.129 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:17:44.133 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:17:44.138 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.140 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:44.143 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:44.148 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:44.149 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.151 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:44.154 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:44.156 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.160 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.164 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:44.166 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:17:44.167 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:17:44.170 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:17:44.174 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:17:44.177 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:17:44.178 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:44.180 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:44.181 +03:00 [DBG] Running health checks
2024-09-09 22:17:44.183 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:44.184 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 1.9629ms with message 'Database is available.'
2024-09-09 22:17:44.187 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 6.1756ms
2024-09-09 22:17:44.189 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:44.190 +03:00 [INF] Received HTTP response headers after 20.4984ms - 200
2024-09-09 22:17:44.191 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 20.7008ms
2024-09-09 22:17:44.193 +03:00 [INF] End processing HTTP request after 27.2942ms - 200
2024-09-09 22:17:44.200 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:44.202 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.204 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:44.206 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:44.208 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:44.210 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:44.215 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:44.221 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.225 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.227 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.229 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:17:44.231 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.234 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:44.236 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:44.237 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:44.239 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.242 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:44.243 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:44.245 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:44.247 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:44.252 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:44.259 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.261 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:44.264 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.266 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:44.268 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:44.271 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:44.273 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:44.275 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:44.279 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.286 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:44.299 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.307 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:44.312 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:44.317 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.321 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:44.322 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:44.324 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:44.325 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:44.327 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:44.329 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:44.334 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:44.344 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.349 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:17:44.353 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:44.357 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:44.360 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:17:44.364 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:44.370 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:44.376 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.379 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:44.383 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:44.389 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:44.391 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.395 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:44.400 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:44.402 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.405 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.408 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:44.411 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:17:44.417 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:17:44.421 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:17:44.426 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:17:44.428 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:17:44.435 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:44.440 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:44.446 +03:00 [DBG] Running health checks
2024-09-09 22:17:44.448 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:44.477 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 29.5529ms with message 'Ping successful.'
2024-09-09 22:17:44.482 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.7455ms
2024-09-09 22:17:44.484 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:44.485 +03:00 [INF] Received HTTP response headers after 66.0563ms - 200
2024-09-09 22:17:44.486 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 65.7003ms
2024-09-09 22:17:44.490 +03:00 [INF] End processing HTTP request after 78.7611ms - 200
2024-09-09 22:17:44.498 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:44.500 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.502 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:44.504 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:44.506 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:44.509 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:44.512 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:44.516 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.518 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.520 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.523 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:17:44.527 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.529 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:44.532 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:44.534 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:44.537 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.539 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:44.541 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:44.543 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:44.545 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:44.549 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:44.554 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.557 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:44.560 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.562 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:44.565 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:44.567 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:44.569 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:44.571 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:44.574 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.577 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:44.579 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.584 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:44.587 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:44.590 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.592 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:44.594 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:44.597 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:44.599 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:44.602 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:44.605 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:44.608 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:44.614 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.617 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:44.621 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:44.622 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:44.626 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:17:44.629 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:44.632 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:44.636 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.639 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:44.642 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:44.646 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:44.647 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:44.651 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (3ms).
2024-09-09 22:17:44.654 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:44.656 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.660 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:44.664 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:44.666 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:17:44.668 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:17:44.669 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:17:44.671 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:44.673 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:54.678 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:17:54.681 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:17:54.684 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:17:54.685 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:17:54.686 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:54.688 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:54.690 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:54.691 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:54.693 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:54.699 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:54.701 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:17:54.704 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:54.706 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:54.708 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:54.710 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:54.717 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:54.719 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:54.721 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 16ms reading results.
2024-09-09 22:17:54.723 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:54.725 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:54.731 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:17:54.733 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:17:54.736 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:17:54.740 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:17:54.741 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:17:54.747 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:54.748 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:54.749 +03:00 [DBG] Running health checks
2024-09-09 22:17:54.750 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:54.750 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:54.750 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:54.752 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.058ms with message 'Database is available.'
2024-09-09 22:17:54.762 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.9909ms with message 'Available memory: 188592128 bytes.'
2024-09-09 22:17:54.781 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.9919ms with message 'Ping successful.'
2024-09-09 22:17:54.784 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 34.7988ms
2024-09-09 22:17:54.786 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:54.786 +03:00 [INF] Received HTTP response headers after 51.4843ms - 200
2024-09-09 22:17:54.790 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 54.2923ms
2024-09-09 22:17:54.792 +03:00 [INF] End processing HTTP request after 60.521ms - 200
2024-09-09 22:17:54.798 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:54.800 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:54.802 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:54.808 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-09 22:17:54.810 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:54.811 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:54.815 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:54.818 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:54.827 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:54.829 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 10ms reading results.
2024-09-09 22:17:54.831 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:54.832 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:54.838 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:54.839 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:54.841 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:54.842 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:54.843 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:54.845 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:54.846 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:54.849 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:54.859 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:54.860 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:54.863 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:54.864 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:54.872 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:54.874 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:54.875 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:54.877 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:54.879 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:54.886 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:54.888 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:54.890 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:54.891 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:54.893 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:54.895 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:54.902 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:54.905 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:54.909 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:54.911 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:17:54.918 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:54.920 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:54.922 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:54.924 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:17:54.925 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:17:54.931 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:17:54.934 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:17:54.937 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:17:54.938 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:17:54.939 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:54.941 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:54.942 +03:00 [DBG] Running health checks
2024-09-09 22:17:54.947 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:54.947 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:54.947 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:54.950 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.9208ms with message 'Database is available.'
2024-09-09 22:17:54.958 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.524ms with message 'Available memory: 189362176 bytes.'
2024-09-09 22:17:54.978 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.72ms with message 'Ping successful.'
2024-09-09 22:17:54.981 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 38.3654ms
2024-09-09 22:17:54.982 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:54.982 +03:00 [INF] Received HTTP response headers after 50.1835ms - 200
2024-09-09 22:17:54.984 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 50.4422ms
2024-09-09 22:17:54.985 +03:00 [INF] End processing HTTP request after 59.5446ms - 200
2024-09-09 22:17:54.995 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:54.996 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:54.998 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:54.999 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.000 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:55.002 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.010 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.014 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.015 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:55.018 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.019 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:55.029 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:55.030 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:55.032 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.034 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.036 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.041 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:17:55.043 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.046 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.050 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.051 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:55.059 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.061 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:55.062 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:55.064 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:55.065 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:55.066 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:55.072 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.074 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:55.076 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:55.078 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.080 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.081 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.087 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:55.089 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:55.093 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:55.099 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.103 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:17:55.106 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.108 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:55.110 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.117 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:17:55.119 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:17:55.120 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:17:55.124 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:17:55.131 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:17:55.132 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:17:55.134 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:55.135 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:55.137 +03:00 [DBG] Running health checks
2024-09-09 22:17:55.138 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:17:55.149 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.686ms with message 'Available memory: 191033344 bytes.'
2024-09-09 22:17:55.152 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 14.8089ms
2024-09-09 22:17:55.154 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:55.154 +03:00 [INF] Received HTTP response headers after 31.7324ms - 200
2024-09-09 22:17:55.155 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 31.7076ms
2024-09-09 22:17:55.157 +03:00 [INF] End processing HTTP request after 38.4636ms - 200
2024-09-09 22:17:55.167 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:55.168 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.170 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.171 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.173 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:55.179 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.183 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.186 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.188 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.197 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.198 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.200 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 14ms reading results.
2024-09-09 22:17:55.202 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.204 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:55.211 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:55.212 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:55.214 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.216 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.217 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.218 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:55.220 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.229 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.232 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.234 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:55.236 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.245 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (8ms).
2024-09-09 22:17:55.247 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:55.248 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:55.250 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:55.252 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:55.257 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.260 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:55.262 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.265 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:55.267 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:55.269 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:55.275 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.278 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:55.279 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:55.281 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.282 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.284 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:55.290 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:55.293 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:55.296 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.298 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:55.306 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.308 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.310 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:55.312 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:17:55.315 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:17:55.323 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.325 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:55.327 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:55.331 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:55.336 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.338 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:17:55.341 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:55.342 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.344 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.347 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:55.353 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:17:55.354 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:17:55.357 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:17:55.360 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:17:55.361 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:17:55.363 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:55.368 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:55.369 +03:00 [DBG] Running health checks
2024-09-09 22:17:55.370 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:17:55.373 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.5363ms with message 'Database is available.'
2024-09-09 22:17:55.375 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 5.9149ms
2024-09-09 22:17:55.377 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:55.377 +03:00 [INF] Received HTTP response headers after 21.2383ms - 200
2024-09-09 22:17:55.378 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 21.2427ms
2024-09-09 22:17:55.384 +03:00 [INF] End processing HTTP request after 30.8746ms - 200
2024-09-09 22:17:55.389 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:55.391 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.393 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.394 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.399 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:17:55.401 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.404 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.407 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.416 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.418 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.420 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:17:55.422 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.423 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:55.429 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:55.430 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:55.432 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.434 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.435 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.437 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:55.438 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.446 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.449 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.451 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:17:55.454 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.455 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:55.465 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:55.466 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:55.467 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:55.468 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:55.470 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.476 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:55.477 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.479 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:55.481 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:55.482 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.484 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:55.485 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:55.486 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.487 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.494 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:17:55.495 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:55.498 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:55.500 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.502 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:55.504 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.510 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:17:55.512 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:17:55.514 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:55.517 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:55.520 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.526 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 6ms reading results.
2024-09-09 22:17:55.529 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:55.533 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:55.534 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.540 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (5ms).
2024-09-09 22:17:55.542 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:55.543 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.546 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.549 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:55.555 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:17:55.556 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:17:55.558 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:17:55.562 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:17:55.563 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:17:55.565 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:17:55.569 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:17:55.570 +03:00 [DBG] Running health checks
2024-09-09 22:17:55.571 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:17:55.600 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.837ms with message 'Ping successful.'
2024-09-09 22:17:55.603 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.9445ms
2024-09-09 22:17:55.605 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:17:55.606 +03:00 [INF] Received HTTP response headers after 48.2407ms - 200
2024-09-09 22:17:55.607 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 48.6139ms
2024-09-09 22:17:55.608 +03:00 [INF] End processing HTTP request after 53.7055ms - 200
2024-09-09 22:17:55.618 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:55.620 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.622 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.623 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.625 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:17:55.627 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.635 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.638 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.640 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.642 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.650 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 11ms reading results.
2024-09-09 22:17:55.652 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.654 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:55.656 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:17:55.657 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:55.659 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.666 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.667 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.668 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:55.670 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.673 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:17:55.680 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.682 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:55.684 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.686 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:55.687 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:17:55.688 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:55.690 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:17:55.698 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:55.699 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.701 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:17:55.703 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.705 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:17:55.711 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:55.713 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.714 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:17:55.716 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:17:55.717 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.719 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.720 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:17:55.726 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:55.728 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:55.731 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.733 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:17:55.735 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:17:55.736 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:17:55.743 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:17:55.745 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:55.748 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:17:55.752 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.757 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:17:55.760 +03:00 [DBG] Committing transaction.
2024-09-09 22:17:55.763 +03:00 [DBG] Committed transaction.
2024-09-09 22:17:55.765 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:17:55.766 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:17:55.768 +03:00 [DBG] Disposing transaction.
2024-09-09 22:17:55.769 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.776 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:17:55.778 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:17:55.779 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:17:55.780 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:17:55.781 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:17:55.782 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:17:55.784 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:05.798 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:18:05.801 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:18:05.803 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:18:05.805 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:18:05.806 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:05.808 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:05.810 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:05.811 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:05.813 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:18:05.819 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:18:05.821 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:18:05.824 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:05.826 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:05.827 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:05.834 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:05.836 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:05.838 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:05.840 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 22:18:05.842 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:05.844 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:05.851 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:18:05.852 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:18:05.855 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:18:05.858 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:18:05.859 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:18:05.864 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:18:05.866 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:18:05.867 +03:00 [DBG] Running health checks
2024-09-09 22:18:05.869 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:18:05.869 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:18:05.869 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:18:05.871 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.0476ms with message 'Database is available.'
2024-09-09 22:18:05.891 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 22.1914ms with message 'Available memory: 191434752 bytes.'
2024-09-09 22:18:05.900 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 31.0138ms with message 'Ping successful.'
2024-09-09 22:18:05.902 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.0641ms
2024-09-09 22:18:05.905 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:18:05.905 +03:00 [INF] Received HTTP response headers after 51.5764ms - 200
2024-09-09 22:18:05.911 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 56.539ms
2024-09-09 22:18:05.913 +03:00 [INF] End processing HTTP request after 62.0841ms - 200
2024-09-09 22:18:05.919 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:05.924 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:05.927 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:05.928 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:05.930 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:18:05.932 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:05.935 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:05.945 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:05.947 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:05.949 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:18:05.951 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:05.958 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:18:05.960 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:18:05.962 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:05.964 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:05.965 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:05.973 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:18:05.976 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-09 22:18:05.980 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:05.989 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:05.993 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:05.995 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:18:05.997 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.006 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (8ms).
2024-09-09 22:18:06.008 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:18:06.009 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:06.011 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:06.012 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:06.014 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.017 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:18:06.018 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.020 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.023 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.024 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:06.026 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:18:06.028 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.038 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.042 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.044 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:18:06.051 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.053 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:06.055 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.057 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:18:06.060 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:18:06.065 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:18:06.068 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:18:06.071 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:18:06.073 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:18:06.074 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:18:06.079 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:18:06.080 +03:00 [DBG] Running health checks
2024-09-09 22:18:06.082 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:18:06.082 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:18:06.082 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:18:06.085 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.1577ms with message 'Database is available.'
2024-09-09 22:18:06.093 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.9607ms with message 'Available memory: 192094208 bytes.'
2024-09-09 22:18:06.113 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 30.8572ms with message 'Ping successful.'
2024-09-09 22:18:06.115 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 35.0811ms
2024-09-09 22:18:06.118 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:18:06.118 +03:00 [INF] Received HTTP response headers after 51.3324ms - 200
2024-09-09 22:18:06.119 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 51.7784ms
2024-09-09 22:18:06.121 +03:00 [INF] End processing HTTP request after 61.6172ms - 200
2024-09-09 22:18:06.131 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.133 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.134 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.136 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:06.141 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:18:06.143 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.146 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.150 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.160 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:18:06.162 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.164 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:06.166 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:18:06.167 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.169 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.171 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.172 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:06.174 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:06.176 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.179 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.182 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.191 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:18:06.193 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.195 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:06.197 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:18:06.198 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:06.203 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:06.204 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:06.206 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.208 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:18:06.210 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.211 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.213 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.220 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:18:06.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:18:06.223 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.226 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.232 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.237 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:18:06.239 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.241 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:06.243 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.249 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:18:06.251 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:18:06.252 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:18:06.255 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:18:06.258 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:18:06.263 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:18:06.265 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:18:06.267 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:18:06.269 +03:00 [DBG] Running health checks
2024-09-09 22:18:06.270 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:18:06.281 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 10.751ms with message 'Available memory: 193335296 bytes.'
2024-09-09 22:18:06.284 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 15.1005ms
2024-09-09 22:18:06.286 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:18:06.286 +03:00 [INF] Received HTTP response headers after 32.7168ms - 200
2024-09-09 22:18:06.288 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 33.4181ms
2024-09-09 22:18:06.289 +03:00 [INF] End processing HTTP request after 38.589ms - 200
2024-09-09 22:18:06.299 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.301 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.303 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.305 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:06.309 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:18:06.311 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.314 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.318 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.320 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.327 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.329 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.330 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:18:06.333 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.335 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:06.341 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:18:06.342 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.344 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.346 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.347 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:06.349 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:18:06.351 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.360 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.363 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.365 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:18:06.377 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.379 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:06.381 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:18:06.383 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:06.385 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:06.386 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:06.388 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.390 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:06.392 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.395 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:06.397 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:18:06.405 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.407 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.409 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:18:06.410 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:18:06.412 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.417 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-09 22:18:06.418 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:18:06.420 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.423 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.426 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.427 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:06.434 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.435 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:06.437 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:06.438 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:18:06.441 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:18:06.448 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.450 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:18:06.453 +03:00 [DBG] Committing transaction.
2024-09-09 22:18:06.457 +03:00 [DBG] Committed transaction.
2024-09-09 22:18:06.461 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.463 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:06.465 +03:00 [DBG] Disposing transaction.
2024-09-09 22:18:06.467 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.469 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.471 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:18:06.477 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:18:06.479 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:18:06.481 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:18:06.485 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:18:06.487 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:18:06.494 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:18:06.496 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:18:06.497 +03:00 [DBG] Running health checks
2024-09-09 22:18:06.498 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:18:06.501 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 2.2382ms with message 'Database is available.'
2024-09-09 22:18:06.507 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 9.8023ms
2024-09-09 22:18:06.509 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:18:06.509 +03:00 [INF] Received HTTP response headers after 29.0639ms - 200
2024-09-09 22:18:06.513 +03:00 [INF] End processing HTTP request after 35.4334ms - 200
2024-09-09 22:18:06.511 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 29.4227ms
2024-09-09 22:18:06.515 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.526 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.528 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.530 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:06.531 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:18:06.533 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.542 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.545 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.547 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.550 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.559 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 13ms reading results.
2024-09-09 22:18:06.561 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.563 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:06.565 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:18:06.570 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.572 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.574 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.575 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:06.577 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:18:06.579 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.589 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.592 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.594 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:06.596 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.603 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:18:06.606 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:18:06.607 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:06.608 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:06.610 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:06.615 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.618 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:06.620 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.622 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:18:06.624 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.626 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.631 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:18:06.633 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:18:06.634 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.636 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:06.637 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:06.639 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.641 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.649 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.650 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:06.653 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.654 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:06.656 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:18:06.657 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.664 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.667 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.668 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:06.671 +03:00 [DBG] Committing transaction.
2024-09-09 22:18:06.675 +03:00 [DBG] Committed transaction.
2024-09-09 22:18:06.679 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.681 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:06.683 +03:00 [DBG] Disposing transaction.
2024-09-09 22:18:06.685 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.688 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.696 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:18:06.698 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:18:06.700 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:18:06.702 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:18:06.709 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:18:06.711 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:18:06.712 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:18:06.714 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:18:06.715 +03:00 [DBG] Running health checks
2024-09-09 22:18:06.716 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:18:06.744 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.313ms with message 'Ping successful.'
2024-09-09 22:18:06.748 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.7104ms
2024-09-09 22:18:06.750 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:18:06.750 +03:00 [INF] Received HTTP response headers after 48.7855ms - 200
2024-09-09 22:18:06.752 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 49.2675ms
2024-09-09 22:18:06.753 +03:00 [INF] End processing HTTP request after 55.4646ms - 200
2024-09-09 22:18:06.760 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.763 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.765 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.771 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-09 22:18:06.773 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-09 22:18:06.775 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.778 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.787 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.789 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.791 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.793 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 5ms reading results.
2024-09-09 22:18:06.795 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.802 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (7ms).
2024-09-09 22:18:06.804 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:18:06.806 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.807 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.809 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.810 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:06.816 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:18:06.818 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.822 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:06.825 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.834 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 8ms reading results.
2024-09-09 22:18:06.836 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.837 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:06.839 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:18:06.840 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:06.842 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:06.848 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:06.850 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.852 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:06.854 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.856 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:18:06.857 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.863 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.864 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:18:06.866 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:18:06.867 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.868 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:06.869 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:06.871 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.878 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.881 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.883 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:06.885 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:06.887 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:06.889 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:18:06.895 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.898 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:06.900 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.902 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:06.908 +03:00 [DBG] Committing transaction.
2024-09-09 22:18:06.911 +03:00 [DBG] Committed transaction.
2024-09-09 22:18:06.912 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:06.913 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:06.915 +03:00 [DBG] Disposing transaction.
2024-09-09 22:18:06.916 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.918 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:06.924 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:18:06.926 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:18:06.927 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:18:06.928 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:18:06.929 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:06.931 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:16.938 +03:00 [DBG] Executing HealthCheck collector HostedService.
2024-09-09 22:18:16.941 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'HealthChecksDb' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: MigrationsAssembly=HealthChecks.UI.SQLite.Storage 
2024-09-09 22:18:16.944 +03:00 [DBG] Creating DbConnection.
2024-09-09 22:18:16.946 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-09 22:18:16.947 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:16.949 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:16.951 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:16.952 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:16.958 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:18:16.960 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:18:16.963 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."DiscoveryService", "c"."Name", "c"."Uri"
FROM "Configurations" AS "c"
2024-09-09 22:18:16.967 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:16.973 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:16.974 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:16.976 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:16.978 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckConfiguration' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:16.980 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:16.982 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 15ms reading results.
2024-09-09 22:18:16.989 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:16.990 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:16.993 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:18:16.994 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:18:16.997 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:18:17.004 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:18:17.005 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:18:17.006 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:18:17.008 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:18:17.009 +03:00 [DBG] Running health checks
2024-09-09 22:18:17.010 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:18:17.010 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:18:17.010 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:18:17.013 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 3.0337ms with message 'Database is available.'
2024-09-09 22:18:17.021 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.3223ms with message 'Available memory: 191975424 bytes.'
2024-09-09 22:18:17.045 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 35.1969ms with message 'Ping successful.'
2024-09-09 22:18:17.048 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 38.5398ms
2024-09-09 22:18:17.049 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:18:17.049 +03:00 [INF] Received HTTP response headers after 53.2954ms - 200
2024-09-09 22:18:17.050 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 53.7253ms
2024-09-09 22:18:17.052 +03:00 [INF] End processing HTTP request after 59.0125ms - 200
2024-09-09 22:18:17.058 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.059 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.066 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.068 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.069 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:18:17.071 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.074 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.081 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.083 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.085 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 3ms reading results.
2024-09-09 22:18:17.086 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.088 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:17.089 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:18:17.090 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.097 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.098 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.100 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.101 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.102 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.112 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.116 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.118 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:17.120 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.122 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:17.130 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:18:17.131 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:17.132 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:17.133 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:17.135 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.142 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:18:17.143 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.145 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.147 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.148 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.150 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.152 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.159 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.163 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.165 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:18:17.167 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.169 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:17.174 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.177 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:18:17.178 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health
2024-09-09 22:18:17.180 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health
2024-09-09 22:18:17.183 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health - null null
2024-09-09 22:18:17.191 +03:00 [DBG] The request path /health does not match a supported file type
2024-09-09 22:18:17.192 +03:00 [DBG] No candidates found for the request path '/health'
2024-09-09 22:18:17.194 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:18:17.195 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:18:17.196 +03:00 [DBG] Running health checks
2024-09-09 22:18:17.197 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:18:17.197 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:18:17.197 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:18:17.204 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 7.1543ms with message 'Database is available.'
2024-09-09 22:18:17.208 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.4202ms with message 'Available memory: 192786432 bytes.'
2024-09-09 22:18:17.232 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 34.8717ms with message 'Ping successful.'
2024-09-09 22:18:17.235 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 38.7433ms
2024-09-09 22:18:17.237 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:18:17.237 +03:00 [INF] Received HTTP response headers after 55.354ms - 200
2024-09-09 22:18:17.238 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health - 200 null application/json 55.6561ms
2024-09-09 22:18:17.240 +03:00 [INF] End processing HTTP request after 61.1219ms - 200
2024-09-09 22:18:17.245 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.247 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.254 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.255 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.257 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:18:17.259 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.262 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.272 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.274 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 2ms reading results.
2024-09-09 22:18:17.277 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.278 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:17.286 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:18:17.288 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.290 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.292 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.293 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.299 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-09 22:18:17.301 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.303 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.307 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.308 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:17.316 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.317 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:17.319 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:18:17.321 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:17.322 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:17.323 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:17.325 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.332 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:18:17.334 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.336 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.338 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.339 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.341 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.347 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.349 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.354 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.356 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 4ms reading results.
2024-09-09 22:18:17.363 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.365 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:17.366 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.369 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 1 entities written to the database.
2024-09-09 22:18:17.370 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:18:17.372 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/memory
2024-09-09 22:18:17.379 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/memory - null null
2024-09-09 22:18:17.382 +03:00 [DBG] The request path /health/memory does not match a supported file type
2024-09-09 22:18:17.384 +03:00 [DBG] No candidates found for the request path '/health/memory'
2024-09-09 22:18:17.385 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:18:17.386 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:18:17.388 +03:00 [DBG] Running health checks
2024-09-09 22:18:17.393 +03:00 [DBG] Running health check Memory Health Check
2024-09-09 22:18:17.404 +03:00 [DBG] Health check Memory Health Check with status "Healthy" completed after 11.3119ms with message 'Available memory: 192974848 bytes.'
2024-09-09 22:18:17.410 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 22.2232ms
2024-09-09 22:18:17.412 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:18:17.412 +03:00 [INF] Received HTTP response headers after 34.7698ms - 200
2024-09-09 22:18:17.414 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/memory - 200 null application/json 35.3662ms
2024-09-09 22:18:17.415 +03:00 [INF] End processing HTTP request after 45.3629ms - 200
2024-09-09 22:18:17.426 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.428 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.430 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.432 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.433 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.435 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.444 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.448 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.450 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.452 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.462 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.464 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 16ms reading results.
2024-09-09 22:18:17.466 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.468 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (2ms).
2024-09-09 22:18:17.470 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:18:17.472 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.474 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.476 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.477 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.479 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.480 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.483 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.495 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.496 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:17.499 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.500 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:17.502 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:18:17.503 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:17.505 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:17.506 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:17.508 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.511 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:17.512 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.524 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:17.526 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:18:17.527 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.529 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.531 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:18:17.532 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:18:17.533 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.535 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.536 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.538 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.540 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.543 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.545 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:17.555 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.556 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.557 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.559 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:18:17.561 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 34), @p1='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Description" = @p0, "Duration" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-09-09 22:18:17.564 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.565 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:17.567 +03:00 [DBG] Committing transaction.
2024-09-09 22:18:17.570 +03:00 [DBG] Committed transaction.
2024-09-09 22:18:17.572 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.573 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:17.583 +03:00 [DBG] Disposing transaction.
2024-09-09 22:18:17.584 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.586 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.588 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:18:17.590 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/database
2024-09-09 22:18:17.596 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/database
2024-09-09 22:18:17.598 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/database - null null
2024-09-09 22:18:17.601 +03:00 [DBG] The request path /health/database does not match a supported file type
2024-09-09 22:18:17.603 +03:00 [DBG] No candidates found for the request path '/health/database'
2024-09-09 22:18:17.604 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:18:17.605 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:18:17.606 +03:00 [DBG] Running health checks
2024-09-09 22:18:17.607 +03:00 [DBG] Running health check Database Health Check
2024-09-09 22:18:17.612 +03:00 [DBG] Health check Database Health Check with status "Healthy" completed after 5.1846ms with message 'Database is available.'
2024-09-09 22:18:17.614 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 8.5546ms
2024-09-09 22:18:17.617 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:18:17.617 +03:00 [INF] Received HTTP response headers after 19.8253ms - 200
2024-09-09 22:18:17.618 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/database - 200 null application/json 20.38ms
2024-09-09 22:18:17.620 +03:00 [INF] End processing HTTP request after 30.0071ms - 200
2024-09-09 22:18:17.630 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.631 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.633 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.634 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.636 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.638 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.646 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.649 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.651 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.653 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.661 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:18:17.663 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.665 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:17.667 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:18:17.668 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.670 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.671 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.672 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.673 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.675 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.678 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.680 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.682 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:17.684 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.692 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (8ms).
2024-09-09 22:18:17.694 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:18:17.695 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:17.696 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:17.698 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:17.699 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.705 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:17.707 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.709 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:18:17.710 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.712 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.714 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:18:17.715 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:18:17.721 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.722 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.724 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.725 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.727 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.729 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.731 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:17.739 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.740 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.742 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.743 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.745 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.748 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.755 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 7ms reading results.
2024-09-09 22:18:17.757 +03:00 [DBG] Committing transaction.
2024-09-09 22:18:17.759 +03:00 [DBG] Committed transaction.
2024-09-09 22:18:17.760 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.761 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:17.763 +03:00 [DBG] Disposing transaction.
2024-09-09 22:18:17.768 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.770 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.773 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:18:17.775 +03:00 [INF] Start processing HTTP request GET https://localhost:7227/health/network
2024-09-09 22:18:17.776 +03:00 [INF] Sending HTTP request GET https://localhost:7227/health/network
2024-09-09 22:18:17.779 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7227/health/network - null null
2024-09-09 22:18:17.785 +03:00 [DBG] The request path /health/network does not match a supported file type
2024-09-09 22:18:17.786 +03:00 [DBG] No candidates found for the request path '/health/network'
2024-09-09 22:18:17.788 +03:00 [DBG] Request did not match any endpoints
2024-09-09 22:18:17.789 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-09 22:18:17.790 +03:00 [DBG] Running health checks
2024-09-09 22:18:17.791 +03:00 [DBG] Running health check Ping Health Check
2024-09-09 22:18:17.819 +03:00 [DBG] Health check Ping Health Check with status "Healthy" completed after 28.4111ms with message 'Ping successful.'
2024-09-09 22:18:17.822 +03:00 [DBG] Health check processing with combined status "Healthy" completed after 32.2729ms
2024-09-09 22:18:17.824 +03:00 [DBG] Connection id "0HN6H0FI8ACGF" completed keep alive response.
2024-09-09 22:18:17.824 +03:00 [INF] Received HTTP response headers after 46.5717ms - 200
2024-09-09 22:18:17.825 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7227/health/network - 200 null application/json 46.8498ms
2024-09-09 22:18:17.827 +03:00 [INF] End processing HTTP request after 52.1129ms - 200
2024-09-09 22:18:17.834 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.836 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.839 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.840 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.842 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-09 22:18:17.848 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.851 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.855 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecution' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.856 +03:00 [DBG] Context 'HealthChecksDb' started tracking 'HealthCheckExecutionEntry' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.858 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.867 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 12ms reading results.
2024-09-09 22:18:17.869 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.870 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:17.872 +03:00 [DBG] HealthReportCollector - health report execution history saved.
2024-09-09 22:18:17.874 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.875 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.877 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.878 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.880 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.881 +03:00 [DBG] Executing DbCommand [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.884 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__configuration_Name_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."DiscoveryService", "t"."LastExecuted", "t"."Name", "t"."OnStateFrom", "t"."Status", "t"."Uri", "h"."Id", "h"."Description", "h"."HealthCheckExecutionId", "h"."Name", "h"."On", "h"."Status", "h0"."Id", "h0"."Description", "h0"."Duration", "h0"."HealthCheckExecutionId", "h0"."Name", "h0"."Status", "h0"."Tags"
FROM (
    SELECT "e"."Id", "e"."DiscoveryService", "e"."LastExecuted", "e"."Name", "e"."OnStateFrom", "e"."Status", "e"."Uri"
    FROM "Executions" AS "e"
    WHERE "e"."Name" = @__configuration_Name_0
    LIMIT 2
) AS "t"
LEFT JOIN "HealthCheckExecutionHistories" AS "h" ON "t"."Id" = "h"."HealthCheckExecutionId"
LEFT JOIN "HealthCheckExecutionEntries" AS "h0" ON "t"."Id" = "h0"."HealthCheckExecutionId"
ORDER BY "t"."Id", "h"."Id"
2024-09-09 22:18:17.887 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.896 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 9ms reading results.
2024-09-09 22:18:17.898 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.899 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:17.901 +03:00 [DBG] HealthReport history already exists and is in the same state, updating the values.
2024-09-09 22:18:17.902 +03:00 [DBG] SaveChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:17.907 +03:00 [DBG] DetectChanges starting for 'HealthChecksDb'.
2024-09-09 22:18:17.908 +03:00 [DBG] The unchanged property 'HealthCheckExecution.LastExecuted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:17.910 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.912 +03:00 [DBG] The unchanged property 'HealthCheckExecutionEntry.Duration' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-09 22:18:17.913 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.915 +03:00 [DBG] DetectChanges completed for 'HealthChecksDb'.
2024-09-09 22:18:17.917 +03:00 [DBG] Opening connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.918 +03:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.925 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-09 22:18:17.926 +03:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-09 22:18:17.928 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.929 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.930 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.932 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.934 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Executions" SET "LastExecuted" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.941 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.943 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:17.944 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-09 22:18:17.945 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-09 22:18:17.947 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-09 22:18:17.949 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.956 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
UPDATE "HealthCheckExecutionEntries" SET "Duration" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-09-09 22:18:17.959 +03:00 [DBG] Closing data reader to 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.960 +03:00 [DBG] A data reader for 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db' is being disposed after spending 1ms reading results.
2024-09-09 22:18:17.962 +03:00 [DBG] Committing transaction.
2024-09-09 22:18:17.966 +03:00 [DBG] Committed transaction.
2024-09-09 22:18:17.972 +03:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Viktor\source\repos\MyApi\MyApi\healthchecks.db'.
2024-09-09 22:18:17.973 +03:00 [DBG] Closed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:17.976 +03:00 [DBG] Disposing transaction.
2024-09-09 22:18:17.977 +03:00 [DBG] An entity of type 'HealthCheckExecutionEntry' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.979 +03:00 [DBG] An entity of type 'HealthCheckExecution' tracked by 'HealthChecksDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-09 22:18:17.981 +03:00 [DBG] SaveChanges completed for 'HealthChecksDb' with 2 entities written to the database.
2024-09-09 22:18:17.987 +03:00 [DBG] HealthReportCollector has completed.
2024-09-09 22:18:17.988 +03:00 [DBG] HealthCheck collector HostedService executed successfully.
2024-09-09 22:18:17.989 +03:00 [DBG] 'HealthChecksDb' disposed.
2024-09-09 22:18:17.990 +03:00 [DBG] Disposing connection to database 'main' on server 'healthchecks.db'.
2024-09-09 22:18:17.992 +03:00 [DBG] Disposed connection to database 'main' on server 'healthchecks.db' (1ms).
2024-09-09 22:18:19.139 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'k8s-cluster-service'
2024-09-09 22:18:22.709 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks'
2024-09-09 22:18:22.709 +03:00 [DBG] HttpMessageHandler expired after 120000ms for client 'health-checks-webhooks'
2024-09-09 22:18:24.436 +03:00 [DBG] Socket connection closed prematurely.
System.Net.WebSockets.WebSocketException (0x80004005): The remote party closed the WebSocket connection without completing the close handshake.
 ---> System.IO.IOException: The client reset the request stream.
   at System.IO.Pipelines.Pipe.GetReadResult(ReadResult& result)
   at System.IO.Pipelines.Pipe.GetReadAsyncResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http2.Http2MessageBody.ReadAsync(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Net.WebSockets.ManagedWebSocket.ReceiveAsyncPrivate[TResult](Memory`1 payloadBuffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Http.Connections.Internal.Transports.WebSocketsServerTransport.StartReceiving(WebSocket socket)
2024-09-09 22:18:24.459 +03:00 [DBG] Waiting for the application to finish sending data.
2024-09-09 22:18:24.472 +03:00 [DBG] Socket closed.
2024-09-09 22:18:24.491 +03:00 [DBG] OnConnectedAsync ending.
2024-09-09 22:18:24.506 +03:00 [DBG] Removing connection mk-_4bSORL3TJ0vZKY-GZw from the list of connections.
2024-09-09 22:18:24.511 +03:00 [INF] Executed endpoint '/stockHub'
2024-09-09 22:18:24.513 +03:00 [INF] Request finished HTTP/2 CONNECT https://localhost:7227/stockHub?id=mk-_4bSORL3TJ0vZKY-GZw - 200 null null 41532.5533ms
